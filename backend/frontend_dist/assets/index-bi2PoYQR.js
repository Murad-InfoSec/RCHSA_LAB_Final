(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const Y of document.querySelectorAll('link[rel="modulepreload"]'))m(Y);new MutationObserver(Y=>{for(const te of Y)if(te.type==="childList")for(const X of te.addedNodes)X.tagName==="LINK"&&X.rel==="modulepreload"&&m(X)}).observe(document,{childList:!0,subtree:!0});function y(Y){const te={};return Y.integrity&&(te.integrity=Y.integrity),Y.referrerPolicy&&(te.referrerPolicy=Y.referrerPolicy),Y.crossOrigin==="use-credentials"?te.credentials="include":Y.crossOrigin==="anonymous"?te.credentials="omit":te.credentials="same-origin",te}function m(Y){if(Y.ep)return;Y.ep=!0;const te=y(Y);fetch(Y.href,te)}})();function Td(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var qo={exports:{}},Wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function ag(){if(ld)return Wr;ld=1;var w=Symbol.for("react.transitional.element"),_=Symbol.for("react.fragment");function y(m,Y,te){var X=null;if(te!==void 0&&(X=""+te),Y.key!==void 0&&(X=""+Y.key),"key"in Y){te={};for(var u in Y)u!=="key"&&(te[u]=Y[u])}else te=Y;return Y=te.ref,{$$typeof:w,type:m,key:X,ref:Y!==void 0?Y:null,props:te}}return Wr.Fragment=_,Wr.jsx=y,Wr.jsxs=y,Wr}var od;function lg(){return od||(od=1,qo.exports=ag()),qo.exports}var J=lg(),Io={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd;function og(){if(cd)return me;cd=1;var w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),X=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),b=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,a={};function o(T,G,$){this.props=T,this.context=G,this.refs=a,this.updater=$||R}o.prototype.isReactComponent={},o.prototype.setState=function(T,G){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,G,"setState")},o.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function l(){}l.prototype=o.prototype;function c(T,G,$){this.props=T,this.context=G,this.refs=a,this.updater=$||R}var v=c.prototype=new l;v.constructor=c,C(v,o.prototype),v.isPureReactComponent=!0;var S=Array.isArray;function A(){}var L={H:null,A:null,T:null,S:null},g=Object.prototype.hasOwnProperty;function D(T,G,$){var oe=$.ref;return{$$typeof:w,type:T,key:G,ref:oe!==void 0?oe:null,props:$}}function N(T,G){return D(T.type,G,T.props)}function I(T){return typeof T=="object"&&T!==null&&T.$$typeof===w}function H(T){var G={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function($){return G[$]})}var q=/\/+/g;function se(T,G){return typeof T=="object"&&T!==null&&T.key!=null?H(""+T.key):G.toString(36)}function ae(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(A,A):(T.status="pending",T.then(function(G){T.status==="pending"&&(T.status="fulfilled",T.value=G)},function(G){T.status==="pending"&&(T.status="rejected",T.reason=G)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function j(T,G,$,oe,ue){var de=typeof T;(de==="undefined"||de==="boolean")&&(T=null);var B=!1;if(T===null)B=!0;else switch(de){case"bigint":case"string":case"number":B=!0;break;case"object":switch(T.$$typeof){case w:case _:B=!0;break;case E:return B=T._init,j(B(T._payload),G,$,oe,ue)}}if(B)return ue=ue(T),B=oe===""?"."+se(T,0):oe,S(ue)?($="",B!=null&&($=B.replace(q,"$&/")+"/"),j(ue,G,$,"",function(ne){return ne})):ue!=null&&(I(ue)&&(ue=N(ue,$+(ue.key==null||T&&T.key===ue.key?"":(""+ue.key).replace(q,"$&/")+"/")+B)),G.push(ue)),1;B=0;var F=oe===""?".":oe+":";if(S(T))for(var ie=0;ie<T.length;ie++)oe=T[ie],de=F+se(oe,ie),B+=j(oe,G,$,de,ue);else if(ie=x(T),typeof ie=="function")for(T=ie.call(T),ie=0;!(oe=T.next()).done;)oe=oe.value,de=F+se(oe,ie++),B+=j(oe,G,$,de,ue);else if(de==="object"){if(typeof T.then=="function")return j(ae(T),G,$,oe,ue);throw G=String(T),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return B}function P(T,G,$){if(T==null)return T;var oe=[],ue=0;return j(T,oe,"","",function(de){return G.call($,de,ue++)}),oe}function O(T){if(T._status===-1){var G=T._result;G=G(),G.then(function($){(T._status===0||T._status===-1)&&(T._status=1,T._result=$)},function($){(T._status===0||T._status===-1)&&(T._status=2,T._result=$)}),T._status===-1&&(T._status=0,T._result=G)}if(T._status===1)return T._result.default;throw T._result}var k=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},z={map:P,forEach:function(T,G,$){P(T,function(){G.apply(this,arguments)},$)},count:function(T){var G=0;return P(T,function(){G++}),G},toArray:function(T){return P(T,function(G){return G})||[]},only:function(T){if(!I(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return me.Activity=f,me.Children=z,me.Component=o,me.Fragment=y,me.Profiler=Y,me.PureComponent=c,me.StrictMode=m,me.Suspense=h,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,me.__COMPILER_RUNTIME={__proto__:null,c:function(T){return L.H.useMemoCache(T)}},me.cache=function(T){return function(){return T.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(T,G,$){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var oe=C({},T.props),ue=T.key;if(G!=null)for(de in G.key!==void 0&&(ue=""+G.key),G)!g.call(G,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&G.ref===void 0||(oe[de]=G[de]);var de=arguments.length-2;if(de===1)oe.children=$;else if(1<de){for(var B=Array(de),F=0;F<de;F++)B[F]=arguments[F+2];oe.children=B}return D(T.type,ue,oe)},me.createContext=function(T){return T={$$typeof:X,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:te,_context:T},T},me.createElement=function(T,G,$){var oe,ue={},de=null;if(G!=null)for(oe in G.key!==void 0&&(de=""+G.key),G)g.call(G,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ue[oe]=G[oe]);var B=arguments.length-2;if(B===1)ue.children=$;else if(1<B){for(var F=Array(B),ie=0;ie<B;ie++)F[ie]=arguments[ie+2];ue.children=F}if(T&&T.defaultProps)for(oe in B=T.defaultProps,B)ue[oe]===void 0&&(ue[oe]=B[oe]);return D(T,de,ue)},me.createRef=function(){return{current:null}},me.forwardRef=function(T){return{$$typeof:u,render:T}},me.isValidElement=I,me.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:O}},me.memo=function(T,G){return{$$typeof:d,type:T,compare:G===void 0?null:G}},me.startTransition=function(T){var G=L.T,$={};L.T=$;try{var oe=T(),ue=L.S;ue!==null&&ue($,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(A,k)}catch(de){k(de)}finally{G!==null&&$.types!==null&&(G.types=$.types),L.T=G}},me.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},me.use=function(T){return L.H.use(T)},me.useActionState=function(T,G,$){return L.H.useActionState(T,G,$)},me.useCallback=function(T,G){return L.H.useCallback(T,G)},me.useContext=function(T){return L.H.useContext(T)},me.useDebugValue=function(){},me.useDeferredValue=function(T,G){return L.H.useDeferredValue(T,G)},me.useEffect=function(T,G){return L.H.useEffect(T,G)},me.useEffectEvent=function(T){return L.H.useEffectEvent(T)},me.useId=function(){return L.H.useId()},me.useImperativeHandle=function(T,G,$){return L.H.useImperativeHandle(T,G,$)},me.useInsertionEffect=function(T,G){return L.H.useInsertionEffect(T,G)},me.useLayoutEffect=function(T,G){return L.H.useLayoutEffect(T,G)},me.useMemo=function(T,G){return L.H.useMemo(T,G)},me.useOptimistic=function(T,G){return L.H.useOptimistic(T,G)},me.useReducer=function(T,G,$){return L.H.useReducer(T,G,$)},me.useRef=function(T){return L.H.useRef(T)},me.useState=function(T){return L.H.useState(T)},me.useSyncExternalStore=function(T,G,$){return L.H.useSyncExternalStore(T,G,$)},me.useTransition=function(){return L.H.useTransition()},me.version="19.2.4",me}var ud;function rc(){return ud||(ud=1,Io.exports=og()),Io.exports}var Je=rc();const cg=Td(Je);var Yo={exports:{}},Qr={},Go={exports:{}},Ko={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd;function ug(){return hd||(hd=1,(function(w){function _(j,P){var O=j.length;j.push(P);e:for(;0<O;){var k=O-1>>>1,z=j[k];if(0<Y(z,P))j[k]=P,j[O]=z,O=k;else break e}}function y(j){return j.length===0?null:j[0]}function m(j){if(j.length===0)return null;var P=j[0],O=j.pop();if(O!==P){j[0]=O;e:for(var k=0,z=j.length,T=z>>>1;k<T;){var G=2*(k+1)-1,$=j[G],oe=G+1,ue=j[oe];if(0>Y($,O))oe<z&&0>Y(ue,$)?(j[k]=ue,j[oe]=O,k=oe):(j[k]=$,j[G]=O,k=G);else if(oe<z&&0>Y(ue,O))j[k]=ue,j[oe]=O,k=oe;else break e}}return P}function Y(j,P){var O=j.sortIndex-P.sortIndex;return O!==0?O:j.id-P.id}if(w.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var te=performance;w.unstable_now=function(){return te.now()}}else{var X=Date,u=X.now();w.unstable_now=function(){return X.now()-u}}var h=[],d=[],E=1,f=null,b=3,x=!1,R=!1,C=!1,a=!1,o=typeof setTimeout=="function"?setTimeout:null,l=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;function v(j){for(var P=y(d);P!==null;){if(P.callback===null)m(d);else if(P.startTime<=j)m(d),P.sortIndex=P.expirationTime,_(h,P);else break;P=y(d)}}function S(j){if(C=!1,v(j),!R)if(y(h)!==null)R=!0,A||(A=!0,H());else{var P=y(d);P!==null&&ae(S,P.startTime-j)}}var A=!1,L=-1,g=5,D=-1;function N(){return a?!0:!(w.unstable_now()-D<g)}function I(){if(a=!1,A){var j=w.unstable_now();D=j;var P=!0;try{e:{R=!1,C&&(C=!1,l(L),L=-1),x=!0;var O=b;try{t:{for(v(j),f=y(h);f!==null&&!(f.expirationTime>j&&N());){var k=f.callback;if(typeof k=="function"){f.callback=null,b=f.priorityLevel;var z=k(f.expirationTime<=j);if(j=w.unstable_now(),typeof z=="function"){f.callback=z,v(j),P=!0;break t}f===y(h)&&m(h),v(j)}else m(h);f=y(h)}if(f!==null)P=!0;else{var T=y(d);T!==null&&ae(S,T.startTime-j),P=!1}}break e}finally{f=null,b=O,x=!1}P=void 0}}finally{P?H():A=!1}}}var H;if(typeof c=="function")H=function(){c(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,se=q.port2;q.port1.onmessage=I,H=function(){se.postMessage(null)}}else H=function(){o(I,0)};function ae(j,P){L=o(function(){j(w.unstable_now())},P)}w.unstable_IdlePriority=5,w.unstable_ImmediatePriority=1,w.unstable_LowPriority=4,w.unstable_NormalPriority=3,w.unstable_Profiling=null,w.unstable_UserBlockingPriority=2,w.unstable_cancelCallback=function(j){j.callback=null},w.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<j?Math.floor(1e3/j):5},w.unstable_getCurrentPriorityLevel=function(){return b},w.unstable_next=function(j){switch(b){case 1:case 2:case 3:var P=3;break;default:P=b}var O=b;b=P;try{return j()}finally{b=O}},w.unstable_requestPaint=function(){a=!0},w.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=b;b=j;try{return P()}finally{b=O}},w.unstable_scheduleCallback=function(j,P,O){var k=w.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?k+O:k):O=k,j){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=O+z,j={id:E++,callback:P,priorityLevel:j,startTime:O,expirationTime:z,sortIndex:-1},O>k?(j.sortIndex=O,_(d,j),y(h)===null&&j===y(d)&&(C?(l(L),L=-1):C=!0,ae(S,O-k))):(j.sortIndex=z,_(h,j),R||x||(R=!0,A||(A=!0,H()))),j},w.unstable_shouldYield=N,w.unstable_wrapCallback=function(j){var P=b;return function(){var O=b;b=P;try{return j.apply(this,arguments)}finally{b=O}}}})(Ko)),Ko}var fd;function hg(){return fd||(fd=1,Go.exports=ug()),Go.exports}var Vo={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function fg(){if(dd)return ut;dd=1;var w=rc();function _(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)d+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(){}var m={d:{f:y,r:function(){throw Error(_(522))},D:y,C:y,L:y,m:y,X:y,S:y,M:y},p:0,findDOMNode:null},Y=Symbol.for("react.portal");function te(h,d,E){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:h,containerInfo:d,implementation:E}}var X=w.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,ut.createPortal=function(h,d){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(_(299));return te(h,d,null,E)},ut.flushSync=function(h){var d=X.T,E=m.p;try{if(X.T=null,m.p=2,h)return h()}finally{X.T=d,m.p=E,m.d.f()}},ut.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,m.d.C(h,d))},ut.prefetchDNS=function(h){typeof h=="string"&&m.d.D(h)},ut.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var E=d.as,f=u(E,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;E==="style"?m.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:f,integrity:b,fetchPriority:x}):E==="script"&&m.d.X(h,{crossOrigin:f,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ut.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var E=u(d.as,d.crossOrigin);m.d.M(h,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&m.d.M(h)},ut.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var E=d.as,f=u(E,d.crossOrigin);m.d.L(h,E,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ut.preloadModule=function(h,d){if(typeof h=="string")if(d){var E=u(d.as,d.crossOrigin);m.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else m.d.m(h)},ut.requestFormReset=function(h){m.d.r(h)},ut.unstable_batchedUpdates=function(h,d){return h(d)},ut.useFormState=function(h,d,E){return X.H.useFormState(h,d,E)},ut.useFormStatus=function(){return X.H.useHostTransitionStatus()},ut.version="19.2.4",ut}var _d;function dg(){if(_d)return Vo.exports;_d=1;function w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w)}catch(_){console.error(_)}}return w(),Vo.exports=fg(),Vo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function _g(){if(vd)return Qr;vd=1;var w=hg(),_=rc(),y=dg();function m(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function te(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function X(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(te(e)!==e)throw Error(m(188))}function d(e){var t=e.alternate;if(!t){if(t=te(e),t===null)throw Error(m(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var n=r.alternate;if(n===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===i)return h(r),e;if(n===s)return h(r),t;n=n.sibling}throw Error(m(188))}if(i.return!==s.return)i=r,s=n;else{for(var p=!1,M=r.child;M;){if(M===i){p=!0,i=r,s=n;break}if(M===s){p=!0,s=r,i=n;break}M=M.sibling}if(!p){for(M=n.child;M;){if(M===i){p=!0,i=n,s=r;break}if(M===s){p=!0,s=n,i=r;break}M=M.sibling}if(!p)throw Error(m(189))}}if(i.alternate!==s)throw Error(m(190))}if(i.tag!==3)throw Error(m(188));return i.stateNode.current===i?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var f=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var q=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case o:return"Profiler";case a:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case c:return e.displayName||"Context";case l:return(e._context.displayName||"Context")+".Consumer";case v:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case g:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var ae=Array.isArray,j=_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},k=[],z=-1;function T(e){return{current:e}}function G(e){0>z||(e.current=k[z],k[z]=null,z--)}function $(e,t){z++,k[z]=e.current,e.current=t}var oe=T(null),ue=T(null),de=T(null),B=T(null);function F(e,t){switch($(de,t),$(ue,e),$(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lf(t),e=Of(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(oe),$(oe,e)}function ie(){G(oe),G(ue),G(de)}function ne(e){e.memoizedState!==null&&$(B,e);var t=oe.current,i=Of(t,e.type);t!==i&&($(ue,e),$(oe,i))}function pe(e){ue.current===e&&(G(oe),G(ue)),B.current===e&&(G(B),Vr._currentValue=O)}var he,Te;function Ue(e){if(he===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);he=t&&t[1]||"",Te=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+e+Te}var it=!1;function Xt(e,t){if(!e||it)return"";it=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var Z=ee}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ee){Z=ee}e.call(ce.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=s.DetermineComponentFrameRoot(),p=n[0],M=n[1];if(p&&M){var U=p.split(`
`),Q=M.split(`
`);for(r=s=0;s<U.length&&!U[s].includes("DetermineComponentFrameRoot");)s++;for(;r<Q.length&&!Q[r].includes("DetermineComponentFrameRoot");)r++;if(s===U.length||r===Q.length)for(s=U.length-1,r=Q.length-1;1<=s&&0<=r&&U[s]!==Q[r];)r--;for(;1<=s&&0<=r;s--,r--)if(U[s]!==Q[r]){if(s!==1||r!==1)do if(s--,r--,0>r||U[s]!==Q[r]){var re=`
`+U[s].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=s&&0<=r);break}}}finally{it=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ue(i):""}function be(e,t){switch(e.tag){case 26:case 27:case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return e.child!==t&&t!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return Xt(e.type,!1);case 11:return Xt(e.type.render,!1);case 1:return Xt(e.type,!0);case 31:return Ue("Activity");default:return""}}function mi(e){try{var t="",i=null;do t+=be(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Pi=Object.prototype.hasOwnProperty,Xi=w.unstable_scheduleCallback,Fi=w.unstable_cancelCallback,vs=w.unstable_shouldYield,ft=w.unstable_requestPaint,et=w.unstable_now,Lt=w.unstable_getCurrentPriorityLevel,Si=w.unstable_ImmediatePriority,gs=w.unstable_UserBlockingPriority,yt=w.unstable_NormalPriority,sr=w.unstable_LowPriority,Yt=w.unstable_IdlePriority,Wi=w.log,je=w.unstable_setDisableYieldValue,Qi=null,bt=null;function yi(e){if(typeof Wi=="function"&&je(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Qi,e)}catch{}}var Ct=Math.clz32?Math.clz32:Pd,Kd=Math.log,Vd=Math.LN2;function Pd(e){return e>>>=0,e===0?32:31-(Kd(e)/Vd|0)|0}var en=256,tn=262144,sn=4194304;function Zi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rn(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,n=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var M=s&134217727;return M!==0?(s=M&~n,s!==0?r=Zi(s):(p&=M,p!==0?r=Zi(p):i||(i=M&~e,i!==0&&(r=Zi(i))))):(M=s&~n,M!==0?r=Zi(M):p!==0?r=Zi(p):i||(i=s&~e,i!==0&&(r=Zi(i)))),r===0?0:t!==0&&t!==r&&(t&n)===0&&(n=r&-r,i=t&-t,n>=i||n===32&&(i&4194048)!==0)?t:r}function rr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xd(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var e=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),e}function Da(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function nr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fd(e,t,i,s,r,n){var p=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var M=e.entanglements,U=e.expirationTimes,Q=e.hiddenUpdates;for(i=p&~i;0<i;){var re=31-Ct(i),ce=1<<re;M[re]=0,U[re]=-1;var Z=Q[re];if(Z!==null)for(Q[re]=null,re=0;re<Z.length;re++){var ee=Z[re];ee!==null&&(ee.lane&=-536870913)}i&=~ce}s!==0&&hc(e,s,0),n!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=n&~(p&~t))}function hc(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ct(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function fc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Ct(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function dc(e,t){var i=t&-t;return i=(i&42)!==0?1:Ta(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ta(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ra(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _c(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:ed(e.type))}function vc(e,t){var i=P.p;try{return P.p=e,t()}finally{P.p=i}}var bi=Math.random().toString(36).slice(2),nt="__reactFiber$"+bi,dt="__reactProps$"+bi,ps="__reactContainer$"+bi,La="__reactEvents$"+bi,Wd="__reactListeners$"+bi,Qd="__reactHandles$"+bi,gc="__reactResources$"+bi,ar="__reactMarker$"+bi;function Oa(e){delete e[nt],delete e[dt],delete e[La],delete e[Wd],delete e[Qd]}function ms(e){var t=e[nt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ps]||i[nt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Uf(e);e!==null;){if(i=e[nt])return i;e=Uf(e)}return t}e=i,i=e.parentNode}return null}function Ss(e){if(e=e[nt]||e[ps]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function lr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(m(33))}function ys(e){var t=e[gc];return t||(t=e[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[ar]=!0}var pc=new Set,mc={};function Ji(e,t){bs(e,t),bs(e+"Capture",t)}function bs(e,t){for(mc[e]=t,e=0;e<t.length;e++)pc.add(t[e])}var Zd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sc={},yc={};function Jd(e){return Pi.call(yc,e)?!0:Pi.call(Sc,e)?!1:Zd.test(e)?yc[e]=!0:(Sc[e]=!0,!1)}function nn(e,t,i){if(Jd(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function an(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ei(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $d(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,n=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(p){i=""+p,n.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ba(e){if(!e._valueTracker){var t=bc(e)?"checked":"value";e._valueTracker=$d(e,t,""+e[t])}}function Cc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=bc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function ln(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var e_=/[\n"\\]/g;function Bt(e){return e.replace(e_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ma(e,t,i,s,r,n,p,M){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ot(t)):e.value!==""+Ot(t)&&(e.value=""+Ot(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?ka(e,p,Ot(t)):i!=null?ka(e,p,Ot(i)):s!=null&&e.removeAttribute("value"),r==null&&n!=null&&(e.defaultChecked=!!n),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+Ot(M):e.removeAttribute("name")}function Ec(e,t,i,s,r,n,p,M){if(n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"&&(e.type=n),t!=null||i!=null){if(!(n!=="submit"&&n!=="reset"||t!=null)){Ba(e);return}i=i!=null?""+Ot(i):"",t=t!=null?""+Ot(t):i,M||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=M?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ba(e)}function ka(e,t,i){t==="number"&&ln(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Cs(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Ot(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function wc(e,t,i){if(t!=null&&(t=""+Ot(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Ot(i):""}function xc(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(m(92));if(ae(s)){if(1<s.length)throw Error(m(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Ot(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Ba(e)}function Es(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var t_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||t_.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Dc(e,t,i){if(t!=null&&typeof t!="object")throw Error(m(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&Ac(e,r,s)}else for(var n in t)t.hasOwnProperty(n)&&Ac(e,n,t[n])}function Ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function on(e){return s_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var Na=null;function za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ws=null,xs=null;function Tc(e){var t=Ss(e);if(t&&(e=t.stateNode)){var i=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ma(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[dt]||null;if(!r)throw Error(m(90));Ma(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Cc(s)}break e;case"textarea":wc(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Cs(e,!!i.multiple,t,!1)}}}var Ua=!1;function Rc(e,t,i){if(Ua)return e(t,i);Ua=!0;try{var s=e(t);return s}finally{if(Ua=!1,(ws!==null||xs!==null)&&(Wn(),ws&&(t=ws,e=xs,xs=ws=null,Tc(t),e)))for(t=0;t<e.length;t++)Tc(e[t])}}function or(e,t){var i=e.stateNode;if(i===null)return null;var s=i[dt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(m(231,t,typeof i));return i}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=!1;if(ii)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){ja=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{ja=!1}var Ci=null,qa=null,cn=null;function Lc(){if(cn)return cn;var e,t=qa,i=t.length,s,r="value"in Ci?Ci.value:Ci.textContent,n=r.length;for(e=0;e<i&&t[e]===r[e];e++);var p=i-e;for(s=1;s<=p&&t[i-s]===r[n-s];s++);return cn=r.slice(e,1<s?1-s:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hn(){return!0}function Oc(){return!1}function _t(e){function t(i,s,r,n,p){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=p,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(i=e[M],this[M]=i?i(n):n[M]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?hn:Oc,this.isPropagationStopped=Oc,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=_t($i),ur=f({},$i,{view:0,detail:0}),r_=_t(ur),Ia,Ya,hr,dn=f({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hr&&(hr&&e.type==="mousemove"?(Ia=e.screenX-hr.screenX,Ya=e.screenY-hr.screenY):Ya=Ia=0,hr=e),Ia)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),Bc=_t(dn),n_=f({},dn,{dataTransfer:0}),a_=_t(n_),l_=f({},ur,{relatedTarget:0}),Ga=_t(l_),o_=f({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),c_=_t(o_),u_=f({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h_=_t(u_),f_=f({},$i,{data:0}),Mc=_t(f_),d_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},__={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v_[e])?!!t[e]:!1}function Ka(){return g_}var p_=f({},ur,{key:function(e){if(e.key){var t=d_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=un(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?__[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(e){return e.type==="keypress"?un(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?un(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m_=_t(p_),S_=f({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=_t(S_),y_=f({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),b_=_t(y_),C_=f({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),E_=_t(C_),w_=f({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x_=_t(w_),A_=f({},$i,{newState:0,oldState:0}),D_=_t(A_),T_=[9,13,27,32],Va=ii&&"CompositionEvent"in window,fr=null;ii&&"documentMode"in document&&(fr=document.documentMode);var R_=ii&&"TextEvent"in window&&!fr,Hc=ii&&(!Va||fr&&8<fr&&11>=fr),Nc=" ",zc=!1;function Uc(e,t){switch(e){case"keyup":return T_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function L_(e,t){switch(e){case"compositionend":return jc(t);case"keypress":return t.which!==32?null:(zc=!0,Nc);case"textInput":return e=t.data,e===Nc&&zc?null:e;default:return null}}function O_(e,t){if(As)return e==="compositionend"||!Va&&Uc(e,t)?(e=Lc(),cn=qa=Ci=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hc&&t.locale!=="ko"?null:t.data;default:return null}}var B_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B_[e.type]:t==="textarea"}function Ic(e,t,i,s){ws?xs?xs.push(s):xs=[s]:ws=s,t=ia(t,"onChange"),0<t.length&&(i=new fn("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var dr=null,_r=null;function M_(e){wf(e,0)}function _n(e){var t=lr(e);if(Cc(t))return e}function Yc(e,t){if(e==="change")return t}var Gc=!1;if(ii){var Pa;if(ii){var Xa="oninput"in document;if(!Xa){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Xa=typeof Kc.oninput=="function"}Pa=Xa}else Pa=!1;Gc=Pa&&(!document.documentMode||9<document.documentMode)}function Vc(){dr&&(dr.detachEvent("onpropertychange",Pc),_r=dr=null)}function Pc(e){if(e.propertyName==="value"&&_n(_r)){var t=[];Ic(t,_r,e,za(e)),Rc(M_,t)}}function k_(e,t,i){e==="focusin"?(Vc(),dr=t,_r=i,dr.attachEvent("onpropertychange",Pc)):e==="focusout"&&Vc()}function H_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _n(_r)}function N_(e,t){if(e==="click")return _n(t)}function z_(e,t){if(e==="input"||e==="change")return _n(t)}function U_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:U_;function vr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!Pi.call(t,r)||!Et(e[r],t[r]))return!1}return!0}function Xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var i=Xc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Xc(i)}}function Wc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ln(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ln(e.document)}return t}function Fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j_=ii&&"documentMode"in document&&11>=document.documentMode,Ds=null,Wa=null,gr=null,Qa=!1;function Zc(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Qa||Ds==null||Ds!==ln(s)||(s=Ds,"selectionStart"in s&&Fa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gr&&vr(gr,s)||(gr=s,s=ia(Wa,"onSelect"),0<s.length&&(t=new fn("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ds)))}function es(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ts={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Za={},Jc={};ii&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function ts(e){if(Za[e])return Za[e];if(!Ts[e])return e;var t=Ts[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Jc)return Za[e]=t[i];return e}var $c=ts("animationend"),eu=ts("animationiteration"),tu=ts("animationstart"),q_=ts("transitionrun"),I_=ts("transitionstart"),Y_=ts("transitioncancel"),iu=ts("transitionend"),su=new Map,Ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ja.push("scrollEnd");function Gt(e,t){su.set(e,t),Ji(t,[e])}var vn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Rs=0,$a=0;function gn(){for(var e=Rs,t=$a=Rs=0;t<e;){var i=Mt[t];Mt[t++]=null;var s=Mt[t];Mt[t++]=null;var r=Mt[t];Mt[t++]=null;var n=Mt[t];if(Mt[t++]=null,s!==null&&r!==null){var p=s.pending;p===null?r.next=r:(r.next=p.next,p.next=r),s.pending=r}n!==0&&ru(i,r,n)}}function pn(e,t,i,s){Mt[Rs++]=e,Mt[Rs++]=t,Mt[Rs++]=i,Mt[Rs++]=s,$a|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function el(e,t,i,s){return pn(e,t,i,s),mn(e)}function is(e,t){return pn(e,null,null,t),mn(e)}function ru(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,n=e.return;n!==null;)n.childLanes|=i,s=n.alternate,s!==null&&(s.childLanes|=i),n.tag===22&&(e=n.stateNode,e===null||e._visibility&1||(r=!0)),e=n,n=n.return;return e.tag===3?(n=e.stateNode,r&&t!==null&&(r=31-Ct(i),e=n.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),n):null}function mn(e){if(50<Ur)throw Ur=0,co=null,Error(m(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ls={};function G_(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,i,s){return new G_(e,t,i,s)}function tl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function si(e,t){var i=e.alternate;return i===null?(i=wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function nu(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sn(e,t,i,s,r,n){var p=0;if(s=e,typeof e=="function")tl(e)&&(p=1);else if(typeof e=="string")p=Fv(e,i,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case D:return e=wt(31,i,t,r),e.elementType=D,e.lanes=n,e;case C:return ss(i.children,r,n,t);case a:p=8,r|=24;break;case o:return e=wt(12,i,t,r|2),e.elementType=o,e.lanes=n,e;case S:return e=wt(13,i,t,r),e.elementType=S,e.lanes=n,e;case A:return e=wt(19,i,t,r),e.elementType=A,e.lanes=n,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case c:p=10;break e;case l:p=9;break e;case v:p=11;break e;case L:p=14;break e;case g:p=16,s=null;break e}p=29,i=Error(m(130,e===null?"null":typeof e,"")),s=null}return t=wt(p,i,t,r),t.elementType=e,t.type=s,t.lanes=n,t}function ss(e,t,i,s){return e=wt(7,e,s,t),e.lanes=i,e}function il(e,t,i){return e=wt(6,e,null,t),e.lanes=i,e}function au(e){var t=wt(18,null,null,0);return t.stateNode=e,t}function sl(e,t,i){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var lu=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var i=lu.get(e);return i!==void 0?i:(t={value:e,source:t,stack:mi(t)},lu.set(e,t),t)}return{value:e,source:t,stack:mi(t)}}var Os=[],Bs=0,yn=null,pr=0,Ht=[],Nt=0,Ei=null,Ft=1,Wt="";function ri(e,t){Os[Bs++]=pr,Os[Bs++]=yn,yn=e,pr=t}function ou(e,t,i){Ht[Nt++]=Ft,Ht[Nt++]=Wt,Ht[Nt++]=Ei,Ei=e;var s=Ft;e=Wt;var r=32-Ct(s)-1;s&=~(1<<r),i+=1;var n=32-Ct(t)+r;if(30<n){var p=r-r%5;n=(s&(1<<p)-1).toString(32),s>>=p,r-=p,Ft=1<<32-Ct(t)+r|i<<r|s,Wt=n+e}else Ft=1<<n|i<<r|s,Wt=e}function rl(e){e.return!==null&&(ri(e,1),ou(e,1,0))}function nl(e){for(;e===yn;)yn=Os[--Bs],Os[Bs]=null,pr=Os[--Bs],Os[Bs]=null;for(;e===Ei;)Ei=Ht[--Nt],Ht[Nt]=null,Wt=Ht[--Nt],Ht[Nt]=null,Ft=Ht[--Nt],Ht[Nt]=null}function cu(e,t){Ht[Nt++]=Ft,Ht[Nt++]=Wt,Ht[Nt++]=Ei,Ft=t.id,Wt=t.overflow,Ei=e}var at=null,qe=null,Ae=!1,wi=null,zt=!1,al=Error(m(519));function xi(e){var t=Error(m(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mr(kt(t,e)),al}function uu(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[nt]=e,t[dt]=s,i){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(i=0;i<qr.length;i++)Ee(qr[i],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Ec(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),xc(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Tf(t.textContent,i)?(s.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),s.onScroll!=null&&Ee("scroll",t),s.onScrollEnd!=null&&Ee("scrollend",t),s.onClick!=null&&(t.onclick=ti),t=!0):t=!1,t||xi(e,!0)}function hu(e){for(at=e.return;at;)switch(at.tag){case 5:case 31:case 13:zt=!1;return;case 27:case 3:zt=!0;return;default:at=at.return}}function Ms(e){if(e!==at)return!1;if(!Ae)return hu(e),Ae=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||xo(e.type,e.memoizedProps)),i=!i),i&&qe&&xi(e),hu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));qe=zf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));qe=zf(e)}else t===27?(t=qe,ji(e.type)?(e=Lo,Lo=null,qe=e):qe=t):qe=at?jt(e.stateNode.nextSibling):null;return!0}function rs(){qe=at=null,Ae=!1}function ll(){var e=wi;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),wi=null),e}function mr(e){wi===null?wi=[e]:wi.push(e)}var ol=T(null),ns=null,ni=null;function Ai(e,t,i){$(ol,t._currentValue),t._currentValue=i}function ai(e){e._currentValue=ol.current,G(ol)}function cl(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function ul(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var n=r.dependencies;if(n!==null){var p=r.child;n=n.firstContext;e:for(;n!==null;){var M=n;n=r;for(var U=0;U<t.length;U++)if(M.context===t[U]){n.lanes|=i,M=n.alternate,M!==null&&(M.lanes|=i),cl(n.return,i,e),s||(p=null);break e}n=M.next}}else if(r.tag===18){if(p=r.return,p===null)throw Error(m(341));p.lanes|=i,n=p.alternate,n!==null&&(n.lanes|=i),cl(p,i,e),p=null}else p=r.child;if(p!==null)p.return=r;else for(p=r;p!==null;){if(p===e){p=null;break}if(r=p.sibling,r!==null){r.return=p.return,p=r;break}p=p.return}r=p}}function ks(e,t,i,s){e=null;for(var r=t,n=!1;r!==null;){if(!n){if((r.flags&524288)!==0)n=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var p=r.alternate;if(p===null)throw Error(m(387));if(p=p.memoizedProps,p!==null){var M=r.type;Et(r.pendingProps.value,p.value)||(e!==null?e.push(M):e=[M])}}else if(r===B.current){if(p=r.alternate,p===null)throw Error(m(387));p.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Vr):e=[Vr])}r=r.return}e!==null&&ul(t,e,i,s),t.flags|=262144}function bn(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function as(e){ns=e,ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return fu(ns,e)}function Cn(e,t){return ns===null&&as(e),fu(e,t)}function fu(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ni===null){if(e===null)throw Error(m(308));ni=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ni=ni.next=t;return i}var K_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},V_=w.unstable_scheduleCallback,P_=w.unstable_NormalPriority,Fe={$$typeof:c,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hl(){return{controller:new K_,data:new Map,refCount:0}}function Sr(e){e.refCount--,e.refCount===0&&V_(P_,function(){e.controller.abort()})}var yr=null,fl=0,Hs=0,Ns=null;function X_(e,t){if(yr===null){var i=yr=[];fl=0,Hs=go(),Ns={status:"pending",value:void 0,then:function(s){i.push(s)}}}return fl++,t.then(du,du),t}function du(){if(--fl===0&&yr!==null){Ns!==null&&(Ns.status="fulfilled");var e=yr;yr=null,Hs=0,Ns=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F_(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var _u=j.S;j.S=function(e,t){Zh=et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&X_(e,t),_u!==null&&_u(e,t)};var ls=T(null);function dl(){var e=ls.current;return e!==null?e:ze.pooledCache}function En(e,t){t===null?$(ls,ls.current):$(ls,t.pool)}function vu(){var e=dl();return e===null?null:{parent:Fe._currentValue,pool:e}}var zs=Error(m(460)),_l=Error(m(474)),wn=Error(m(542)),xn={then:function(){}};function gu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pu(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(ti,ti),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Su(e),e;default:if(typeof t.status=="string")t.then(ti,ti);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(m(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Su(e),e}throw cs=t,zs}}function os(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(cs=i,zs):i}}var cs=null;function mu(){if(cs===null)throw Error(m(459));var e=cs;return cs=null,e}function Su(e){if(e===zs||e===wn)throw Error(m(483))}var Us=null,br=0;function An(e){var t=br;return br+=1,Us===null&&(Us=[]),pu(Us,e,t)}function Cr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dn(e,t){throw t.$$typeof===b?Error(m(525)):(e=Object.prototype.toString.call(t),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yu(e){function t(V,K){if(e){var W=V.deletions;W===null?(V.deletions=[K],V.flags|=16):W.push(K)}}function i(V,K){if(!e)return null;for(;K!==null;)t(V,K),K=K.sibling;return null}function s(V){for(var K=new Map;V!==null;)V.key!==null?K.set(V.key,V):K.set(V.index,V),V=V.sibling;return K}function r(V,K){return V=si(V,K),V.index=0,V.sibling=null,V}function n(V,K,W){return V.index=W,e?(W=V.alternate,W!==null?(W=W.index,W<K?(V.flags|=67108866,K):W):(V.flags|=67108866,K)):(V.flags|=1048576,K)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function M(V,K,W,le){return K===null||K.tag!==6?(K=il(W,V.mode,le),K.return=V,K):(K=r(K,W),K.return=V,K)}function U(V,K,W,le){var ve=W.type;return ve===C?re(V,K,W.props.children,le,W.key):K!==null&&(K.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===g&&os(ve)===K.type)?(K=r(K,W.props),Cr(K,W),K.return=V,K):(K=Sn(W.type,W.key,W.props,null,V.mode,le),Cr(K,W),K.return=V,K)}function Q(V,K,W,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==W.containerInfo||K.stateNode.implementation!==W.implementation?(K=sl(W,V.mode,le),K.return=V,K):(K=r(K,W.children||[]),K.return=V,K)}function re(V,K,W,le,ve){return K===null||K.tag!==7?(K=ss(W,V.mode,le,ve),K.return=V,K):(K=r(K,W),K.return=V,K)}function ce(V,K,W){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=il(""+K,V.mode,W),K.return=V,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return W=Sn(K.type,K.key,K.props,null,V.mode,W),Cr(W,K),W.return=V,W;case R:return K=sl(K,V.mode,W),K.return=V,K;case g:return K=os(K),ce(V,K,W)}if(ae(K)||H(K))return K=ss(K,V.mode,W,null),K.return=V,K;if(typeof K.then=="function")return ce(V,An(K),W);if(K.$$typeof===c)return ce(V,Cn(V,K),W);Dn(V,K)}return null}function Z(V,K,W,le){var ve=K!==null?K.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:M(V,K,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===ve?U(V,K,W,le):null;case R:return W.key===ve?Q(V,K,W,le):null;case g:return W=os(W),Z(V,K,W,le)}if(ae(W)||H(W))return ve!==null?null:re(V,K,W,le,null);if(typeof W.then=="function")return Z(V,K,An(W),le);if(W.$$typeof===c)return Z(V,K,Cn(V,W),le);Dn(V,W)}return null}function ee(V,K,W,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return V=V.get(W)||null,M(K,V,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return V=V.get(le.key===null?W:le.key)||null,U(K,V,le,ve);case R:return V=V.get(le.key===null?W:le.key)||null,Q(K,V,le,ve);case g:return le=os(le),ee(V,K,W,le,ve)}if(ae(le)||H(le))return V=V.get(W)||null,re(K,V,le,ve,null);if(typeof le.then=="function")return ee(V,K,W,An(le),ve);if(le.$$typeof===c)return ee(V,K,W,Cn(K,le),ve);Dn(K,le)}return null}function fe(V,K,W,le){for(var ve=null,Re=null,_e=K,ye=K=0,xe=null;_e!==null&&ye<W.length;ye++){_e.index>ye?(xe=_e,_e=null):xe=_e.sibling;var Le=Z(V,_e,W[ye],le);if(Le===null){_e===null&&(_e=xe);break}e&&_e&&Le.alternate===null&&t(V,_e),K=n(Le,K,ye),Re===null?ve=Le:Re.sibling=Le,Re=Le,_e=xe}if(ye===W.length)return i(V,_e),Ae&&ri(V,ye),ve;if(_e===null){for(;ye<W.length;ye++)_e=ce(V,W[ye],le),_e!==null&&(K=n(_e,K,ye),Re===null?ve=_e:Re.sibling=_e,Re=_e);return Ae&&ri(V,ye),ve}for(_e=s(_e);ye<W.length;ye++)xe=ee(_e,V,ye,W[ye],le),xe!==null&&(e&&xe.alternate!==null&&_e.delete(xe.key===null?ye:xe.key),K=n(xe,K,ye),Re===null?ve=xe:Re.sibling=xe,Re=xe);return e&&_e.forEach(function(Ki){return t(V,Ki)}),Ae&&ri(V,ye),ve}function ge(V,K,W,le){if(W==null)throw Error(m(151));for(var ve=null,Re=null,_e=K,ye=K=0,xe=null,Le=W.next();_e!==null&&!Le.done;ye++,Le=W.next()){_e.index>ye?(xe=_e,_e=null):xe=_e.sibling;var Ki=Z(V,_e,Le.value,le);if(Ki===null){_e===null&&(_e=xe);break}e&&_e&&Ki.alternate===null&&t(V,_e),K=n(Ki,K,ye),Re===null?ve=Ki:Re.sibling=Ki,Re=Ki,_e=xe}if(Le.done)return i(V,_e),Ae&&ri(V,ye),ve;if(_e===null){for(;!Le.done;ye++,Le=W.next())Le=ce(V,Le.value,le),Le!==null&&(K=n(Le,K,ye),Re===null?ve=Le:Re.sibling=Le,Re=Le);return Ae&&ri(V,ye),ve}for(_e=s(_e);!Le.done;ye++,Le=W.next())Le=ee(_e,V,ye,Le.value,le),Le!==null&&(e&&Le.alternate!==null&&_e.delete(Le.key===null?ye:Le.key),K=n(Le,K,ye),Re===null?ve=Le:Re.sibling=Le,Re=Le);return e&&_e.forEach(function(ng){return t(V,ng)}),Ae&&ri(V,ye),ve}function Ne(V,K,W,le){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:e:{for(var ve=W.key;K!==null;){if(K.key===ve){if(ve=W.type,ve===C){if(K.tag===7){i(V,K.sibling),le=r(K,W.props.children),le.return=V,V=le;break e}}else if(K.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===g&&os(ve)===K.type){i(V,K.sibling),le=r(K,W.props),Cr(le,W),le.return=V,V=le;break e}i(V,K);break}else t(V,K);K=K.sibling}W.type===C?(le=ss(W.props.children,V.mode,le,W.key),le.return=V,V=le):(le=Sn(W.type,W.key,W.props,null,V.mode,le),Cr(le,W),le.return=V,V=le)}return p(V);case R:e:{for(ve=W.key;K!==null;){if(K.key===ve)if(K.tag===4&&K.stateNode.containerInfo===W.containerInfo&&K.stateNode.implementation===W.implementation){i(V,K.sibling),le=r(K,W.children||[]),le.return=V,V=le;break e}else{i(V,K);break}else t(V,K);K=K.sibling}le=sl(W,V.mode,le),le.return=V,V=le}return p(V);case g:return W=os(W),Ne(V,K,W,le)}if(ae(W))return fe(V,K,W,le);if(H(W)){if(ve=H(W),typeof ve!="function")throw Error(m(150));return W=ve.call(W),ge(V,K,W,le)}if(typeof W.then=="function")return Ne(V,K,An(W),le);if(W.$$typeof===c)return Ne(V,K,Cn(V,W),le);Dn(V,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,K!==null&&K.tag===6?(i(V,K.sibling),le=r(K,W),le.return=V,V=le):(i(V,K),le=il(W,V.mode,le),le.return=V,V=le),p(V)):i(V,K)}return function(V,K,W,le){try{br=0;var ve=Ne(V,K,W,le);return Us=null,ve}catch(_e){if(_e===zs||_e===wn)throw _e;var Re=wt(29,_e,null,V.mode);return Re.lanes=le,Re.return=V,Re}finally{}}}var us=yu(!0),bu=yu(!1),Di=!1;function vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Oe&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=mn(e),ru(e,null,i),t}return pn(e,s,t,i),mn(e)}function Er(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,fc(e,i)}}function pl(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,n=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};n===null?r=n=p:n=n.next=p,i=i.next}while(i!==null);n===null?r=n=t:n=n.next=t}else r=n=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ml=!1;function wr(){if(ml){var e=Ns;if(e!==null)throw e}}function xr(e,t,i,s){ml=!1;var r=e.updateQueue;Di=!1;var n=r.firstBaseUpdate,p=r.lastBaseUpdate,M=r.shared.pending;if(M!==null){r.shared.pending=null;var U=M,Q=U.next;U.next=null,p===null?n=Q:p.next=Q,p=U;var re=e.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==p&&(M===null?re.firstBaseUpdate=Q:M.next=Q,re.lastBaseUpdate=U))}if(n!==null){var ce=r.baseState;p=0,re=Q=U=null,M=n;do{var Z=M.lane&-536870913,ee=Z!==M.lane;if(ee?(we&Z)===Z:(s&Z)===Z){Z!==0&&Z===Hs&&(ml=!0),re!==null&&(re=re.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var fe=e,ge=M;Z=t;var Ne=i;switch(ge.tag){case 1:if(fe=ge.payload,typeof fe=="function"){ce=fe.call(Ne,ce,Z);break e}ce=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ge.payload,Z=typeof fe=="function"?fe.call(Ne,ce,Z):fe,Z==null)break e;ce=f({},ce,Z);break e;case 2:Di=!0}}Z=M.callback,Z!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=r.callbacks,ee===null?r.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(Q=re=ee,U=ce):re=re.next=ee,p|=Z;if(M=M.next,M===null){if(M=r.shared.pending,M===null)break;ee=M,M=ee.next,ee.next=null,r.lastBaseUpdate=ee,r.shared.pending=null}}while(!0);re===null&&(U=ce),r.baseState=U,r.firstBaseUpdate=Q,r.lastBaseUpdate=re,n===null&&(r.shared.lanes=0),ki|=p,e.lanes=p,e.memoizedState=ce}}function Cu(e,t){if(typeof e!="function")throw Error(m(191,e));e.call(t)}function Eu(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Cu(i[e],t)}var js=T(null),Tn=T(0);function wu(e,t){e=vi,$(Tn,e),$(js,t),vi=e|t.baseLanes}function Sl(){$(Tn,vi),$(js,js.current)}function yl(){vi=Tn.current,G(js),G(Tn)}var xt=T(null),Ut=null;function Li(e){var t=e.alternate;$(Ve,Ve.current&1),$(xt,e),Ut===null&&(t===null||js.current!==null||t.memoizedState!==null)&&(Ut=e)}function bl(e){$(Ve,Ve.current),$(xt,e),Ut===null&&(Ut=e)}function xu(e){e.tag===22?($(Ve,Ve.current),$(xt,e),Ut===null&&(Ut=e)):Oi()}function Oi(){$(Ve,Ve.current),$(xt,xt.current)}function At(e){G(xt),Ut===e&&(Ut=null),G(Ve)}var Ve=T(0);function Rn(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||To(i)||Ro(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=0,Se=null,ke=null,We=null,Ln=!1,qs=!1,hs=!1,On=0,Ar=0,Is=null,W_=0;function Ge(){throw Error(m(321))}function Cl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Et(e[i],t[i]))return!1;return!0}function El(e,t,i,s,r,n){return li=n,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?oh:Ul,hs=!1,n=i(s,r),hs=!1,qs&&(n=Du(t,i,s,r)),Au(e),n}function Au(e){j.H=Rr;var t=ke!==null&&ke.next!==null;if(li=0,We=ke=Se=null,Ln=!1,Ar=0,Is=null,t)throw Error(m(300));e===null||Qe||(e=e.dependencies,e!==null&&bn(e)&&(Qe=!0))}function Du(e,t,i,s){Se=e;var r=0;do{if(qs&&(Is=null),Ar=0,qs=!1,25<=r)throw Error(m(301));if(r+=1,We=ke=null,e.updateQueue!=null){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,n.memoCache!=null&&(n.memoCache.index=0)}j.H=ch,n=t(i,s)}while(qs);return n}function Q_(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Dr(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(Se.flags|=1024),t}function wl(){var e=On!==0;return On=0,e}function xl(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Al(e){if(Ln){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ln=!1}li=0,We=ke=Se=null,qs=!1,Ar=On=0,Is=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Se.memoizedState=We=e:We=We.next=e,We}function Pe(){if(ke===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=We===null?Se.memoizedState:We.next;if(t!==null)We=t,ke=e;else{if(e===null)throw Se.alternate===null?Error(m(467)):Error(m(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},We===null?Se.memoizedState=We=e:We=We.next=e}return We}function Bn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dr(e){var t=Ar;return Ar+=1,Is===null&&(Is=[]),e=pu(Is,e,t),t=Se,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?oh:Ul),e}function Mn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dr(e);if(e.$$typeof===c)return lt(e)}throw Error(m(438,String(e)))}function Dl(e){var t=null,i=Se.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=Se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Bn(),Se.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=N;return t.index++,i}function oi(e,t){return typeof t=="function"?t(e):t}function kn(e){var t=Pe();return Tl(t,ke,e)}function Tl(e,t,i){var s=e.queue;if(s===null)throw Error(m(311));s.lastRenderedReducer=i;var r=e.baseQueue,n=s.pending;if(n!==null){if(r!==null){var p=r.next;r.next=n.next,n.next=p}t.baseQueue=r=n,s.pending=null}if(n=e.baseState,r===null)e.memoizedState=n;else{t=r.next;var M=p=null,U=null,Q=t,re=!1;do{var ce=Q.lane&-536870913;if(ce!==Q.lane?(we&ce)===ce:(li&ce)===ce){var Z=Q.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ce===Hs&&(re=!0);else if((li&Z)===Z){Q=Q.next,Z===Hs&&(re=!0);continue}else ce={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(M=U=ce,p=n):U=U.next=ce,Se.lanes|=Z,ki|=Z;ce=Q.action,hs&&i(n,ce),n=Q.hasEagerState?Q.eagerState:i(n,ce)}else Z={lane:ce,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(M=U=Z,p=n):U=U.next=Z,Se.lanes|=ce,ki|=ce;Q=Q.next}while(Q!==null&&Q!==t);if(U===null?p=n:U.next=M,!Et(n,e.memoizedState)&&(Qe=!0,re&&(i=Ns,i!==null)))throw i;e.memoizedState=n,e.baseState=p,e.baseQueue=U,s.lastRenderedState=n}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Rl(e){var t=Pe(),i=t.queue;if(i===null)throw Error(m(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,n=t.memoizedState;if(r!==null){i.pending=null;var p=r=r.next;do n=e(n,p.action),p=p.next;while(p!==r);Et(n,t.memoizedState)||(Qe=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),i.lastRenderedState=n}return[n,s]}function Tu(e,t,i){var s=Se,r=Pe(),n=Ae;if(n){if(i===void 0)throw Error(m(407));i=i()}else i=t();var p=!Et((ke||r).memoizedState,i);if(p&&(r.memoizedState=i,Qe=!0),r=r.queue,Bl(Ou.bind(null,s,r,e),[e]),r.getSnapshot!==t||p||We!==null&&We.memoizedState.tag&1){if(s.flags|=2048,Ys(9,{destroy:void 0},Lu.bind(null,s,r,i,t),null),ze===null)throw Error(m(349));n||(li&127)!==0||Ru(s,t,i)}return i}function Ru(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Se.updateQueue,t===null?(t=Bn(),Se.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Lu(e,t,i,s){t.value=i,t.getSnapshot=s,Bu(t)&&Mu(e)}function Ou(e,t,i){return i(function(){Bu(t)&&Mu(e)})}function Bu(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Et(e,i)}catch{return!0}}function Mu(e){var t=is(e,2);t!==null&&St(t,e,2)}function Ll(e){var t=ht();if(typeof e=="function"){var i=e;if(e=i(),hs){yi(!0);try{i()}finally{yi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},t}function ku(e,t,i,s){return e.baseState=i,Tl(e,ke,typeof s=="function"?s:oi)}function Z_(e,t,i,s,r){if(zn(e))throw Error(m(485));if(e=t.action,e!==null){var n={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){n.listeners.push(p)}};j.T!==null?i(!0):n.isTransition=!1,s(n),i=t.pending,i===null?(n.next=t.pending=n,Hu(t,n)):(n.next=i.next,t.pending=i.next=n)}}function Hu(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var n=j.T,p={};j.T=p;try{var M=i(r,s),U=j.S;U!==null&&U(p,M),Nu(e,t,M)}catch(Q){Ol(e,t,Q)}finally{n!==null&&p.types!==null&&(n.types=p.types),j.T=n}}else try{n=i(r,s),Nu(e,t,n)}catch(Q){Ol(e,t,Q)}}function Nu(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){zu(e,t,s)},function(s){return Ol(e,t,s)}):zu(e,t,i)}function zu(e,t,i){t.status="fulfilled",t.value=i,Uu(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Hu(e,i)))}function Ol(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Uu(t),t=t.next;while(t!==s)}e.action=null}function Uu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ju(e,t){return t}function qu(e,t){if(Ae){var i=ze.formState;if(i!==null){e:{var s=Se;if(Ae){if(qe){t:{for(var r=qe,n=zt;r.nodeType!==8;){if(!n){r=null;break t}if(r=jt(r.nextSibling),r===null){r=null;break t}}n=r.data,r=n==="F!"||n==="F"?r:null}if(r){qe=jt(r.nextSibling),s=r.data==="F!";break e}}xi(s)}s=!1}s&&(t=i[0])}}return i=ht(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:t},i.queue=s,i=nh.bind(null,Se,s),s.dispatch=i,s=Ll(!1),n=zl.bind(null,Se,!1,s.queue),s=ht(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=Z_.bind(null,Se,r,n,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function Iu(e){var t=Pe();return Yu(t,ke,e)}function Yu(e,t,i){if(t=Tl(e,t,ju)[0],e=kn(oi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Dr(t)}catch(p){throw p===zs?wn:p}else s=t;t=Pe();var r=t.queue,n=r.dispatch;return i!==t.memoizedState&&(Se.flags|=2048,Ys(9,{destroy:void 0},J_.bind(null,r,i),null)),[s,n,e]}function J_(e,t){e.action=t}function Gu(e){var t=Pe(),i=ke;if(i!==null)return Yu(t,i,e);Pe(),t=t.memoizedState,i=Pe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Ys(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=Se.updateQueue,t===null&&(t=Bn(),Se.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Ku(){return Pe().memoizedState}function Hn(e,t,i,s){var r=ht();Se.flags|=e,r.memoizedState=Ys(1|t,{destroy:void 0},i,s===void 0?null:s)}function Nn(e,t,i,s){var r=Pe();s=s===void 0?null:s;var n=r.memoizedState.inst;ke!==null&&s!==null&&Cl(s,ke.memoizedState.deps)?r.memoizedState=Ys(t,n,i,s):(Se.flags|=e,r.memoizedState=Ys(1|t,n,i,s))}function Vu(e,t){Hn(8390656,8,e,t)}function Bl(e,t){Nn(2048,8,e,t)}function $_(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=Bn(),Se.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Pu(e){var t=Pe().memoizedState;return $_({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(m(440));return t.impl.apply(void 0,arguments)}}function Xu(e,t){return Nn(4,2,e,t)}function Fu(e,t){return Nn(4,4,e,t)}function Wu(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qu(e,t,i){i=i!=null?i.concat([e]):null,Nn(4,4,Wu.bind(null,t,e),i)}function Ml(){}function Zu(e,t){var i=Pe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Cl(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Ju(e,t){var i=Pe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Cl(t,s[1]))return s[0];if(s=e(),hs){yi(!0);try{e()}finally{yi(!1)}}return i.memoizedState=[s,t],s}function kl(e,t,i){return i===void 0||(li&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=$h(),Se.lanes|=e,ki|=e,i)}function $u(e,t,i,s){return Et(i,t)?i:js.current!==null?(e=kl(e,i,s),Et(e,t)||(Qe=!0),e):(li&42)===0||(li&1073741824)!==0&&(we&261930)===0?(Qe=!0,e.memoizedState=i):(e=$h(),Se.lanes|=e,ki|=e,t)}function eh(e,t,i,s,r){var n=P.p;P.p=n!==0&&8>n?n:8;var p=j.T,M={};j.T=M,zl(e,!1,t,i);try{var U=r(),Q=j.S;if(Q!==null&&Q(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=F_(U,s);Tr(e,t,re,Rt(e))}else Tr(e,t,s,Rt(e))}catch(ce){Tr(e,t,{then:function(){},status:"rejected",reason:ce},Rt())}finally{P.p=n,p!==null&&M.types!==null&&(p.types=M.types),j.T=p}}function ev(){}function Hl(e,t,i,s){if(e.tag!==5)throw Error(m(476));var r=th(e).queue;eh(e,r,t,O,i===null?ev:function(){return ih(e),i(s)})}function th(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:O},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ih(e){var t=th(e);t.next===null&&(t=e.alternate.memoizedState),Tr(e,t.next.queue,{},Rt())}function Nl(){return lt(Vr)}function sh(){return Pe().memoizedState}function rh(){return Pe().memoizedState}function tv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Rt();e=Ti(i);var s=Ri(t,e,i);s!==null&&(St(s,t,i),Er(s,t,i)),t={cache:hl()},e.payload=t;return}t=t.return}}function iv(e,t,i){var s=Rt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},zn(e)?ah(t,i):(i=el(e,t,i,s),i!==null&&(St(i,e,s),lh(i,t,s)))}function nh(e,t,i){var s=Rt();Tr(e,t,i,s)}function Tr(e,t,i,s){var r={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(zn(e))ah(t,r);else{var n=e.alternate;if(e.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var p=t.lastRenderedState,M=n(p,i);if(r.hasEagerState=!0,r.eagerState=M,Et(M,p))return pn(e,t,r,0),ze===null&&gn(),!1}catch{}finally{}if(i=el(e,t,r,s),i!==null)return St(i,e,s),lh(i,t,s),!0}return!1}function zl(e,t,i,s){if(s={lane:2,revertLane:go(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},zn(e)){if(t)throw Error(m(479))}else t=el(e,i,s,2),t!==null&&St(t,e,2)}function zn(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function ah(e,t){qs=Ln=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function lh(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,fc(e,i)}}var Rr={readContext:lt,use:Mn,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Rr.useEffectEvent=Ge;var oh={readContext:lt,use:Mn,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Vu,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Hn(4194308,4,Wu.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Hn(4194308,4,e,t)},useInsertionEffect:function(e,t){Hn(4,2,e,t)},useMemo:function(e,t){var i=ht();t=t===void 0?null:t;var s=e();if(hs){yi(!0);try{e()}finally{yi(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=ht();if(i!==void 0){var r=i(t);if(hs){yi(!0);try{i(t)}finally{yi(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=iv.bind(null,Se,e),[s.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Ll(e);var t=e.queue,i=nh.bind(null,Se,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Ml,useDeferredValue:function(e,t){var i=ht();return kl(i,e,t)},useTransition:function(){var e=Ll(!1);return e=eh.bind(null,Se,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=Se,r=ht();if(Ae){if(i===void 0)throw Error(m(407));i=i()}else{if(i=t(),ze===null)throw Error(m(349));(we&127)!==0||Ru(s,t,i)}r.memoizedState=i;var n={value:i,getSnapshot:t};return r.queue=n,Vu(Ou.bind(null,s,n,e),[e]),s.flags|=2048,Ys(9,{destroy:void 0},Lu.bind(null,s,n,i,t),null),i},useId:function(){var e=ht(),t=ze.identifierPrefix;if(Ae){var i=Wt,s=Ft;i=(s&~(1<<32-Ct(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=On++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=W_++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Nl,useFormState:qu,useActionState:qu,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=zl.bind(null,Se,!0,i),i.dispatch=t,[e,t]},useMemoCache:Dl,useCacheRefresh:function(){return ht().memoizedState=tv.bind(null,Se)},useEffectEvent:function(e){var t=ht(),i={impl:e};return t.memoizedState=i,function(){if((Oe&2)!==0)throw Error(m(440));return i.impl.apply(void 0,arguments)}}},Ul={readContext:lt,use:Mn,useCallback:Zu,useContext:lt,useEffect:Bl,useImperativeHandle:Qu,useInsertionEffect:Xu,useLayoutEffect:Fu,useMemo:Ju,useReducer:kn,useRef:Ku,useState:function(){return kn(oi)},useDebugValue:Ml,useDeferredValue:function(e,t){var i=Pe();return $u(i,ke.memoizedState,e,t)},useTransition:function(){var e=kn(oi)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Dr(e),t]},useSyncExternalStore:Tu,useId:sh,useHostTransitionStatus:Nl,useFormState:Iu,useActionState:Iu,useOptimistic:function(e,t){var i=Pe();return ku(i,ke,e,t)},useMemoCache:Dl,useCacheRefresh:rh};Ul.useEffectEvent=Pu;var ch={readContext:lt,use:Mn,useCallback:Zu,useContext:lt,useEffect:Bl,useImperativeHandle:Qu,useInsertionEffect:Xu,useLayoutEffect:Fu,useMemo:Ju,useReducer:Rl,useRef:Ku,useState:function(){return Rl(oi)},useDebugValue:Ml,useDeferredValue:function(e,t){var i=Pe();return ke===null?kl(i,e,t):$u(i,ke.memoizedState,e,t)},useTransition:function(){var e=Rl(oi)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Dr(e),t]},useSyncExternalStore:Tu,useId:sh,useHostTransitionStatus:Nl,useFormState:Gu,useActionState:Gu,useOptimistic:function(e,t){var i=Pe();return ke!==null?ku(i,ke,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Dl,useCacheRefresh:rh};ch.useEffectEvent=Pu;function jl(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:f({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ql={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Rt(),r=Ti(s);r.payload=t,i!=null&&(r.callback=i),t=Ri(e,r,s),t!==null&&(St(t,e,s),Er(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Rt(),r=Ti(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=Ri(e,r,s),t!==null&&(St(t,e,s),Er(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Rt(),s=Ti(i);s.tag=2,t!=null&&(s.callback=t),t=Ri(e,s,i),t!==null&&(St(t,e,i),Er(t,e,i))}};function uh(e,t,i,s,r,n,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,n,p):t.prototype&&t.prototype.isPureReactComponent?!vr(i,s)||!vr(r,n):!0}function hh(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&ql.enqueueReplaceState(t,t.state,null)}function fs(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=f({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function fh(e){vn(e)}function dh(e){console.error(e)}function _h(e){vn(e)}function Un(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function vh(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Il(e,t,i){return i=Ti(i),i.tag=3,i.payload={element:null},i.callback=function(){Un(e,t)},i}function gh(e){return e=Ti(e),e.tag=3,e}function ph(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var n=s.value;e.payload=function(){return r(n)},e.callback=function(){vh(t,i,s)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){vh(t,i,s),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var M=s.stack;this.componentDidCatch(s.value,{componentStack:M!==null?M:""})})}function sv(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&ks(t,i,r,!0),i=xt.current,i!==null){switch(i.tag){case 31:case 13:return Ut===null?Qn():i.alternate===null&&Ke===0&&(Ke=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===xn?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),fo(e,s,r)),!1;case 22:return i.flags|=65536,s===xn?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),fo(e,s,r)),!1}throw Error(m(435,i.tag))}return fo(e,s,r),Qn(),!1}if(Ae)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==al&&(e=Error(m(422),{cause:s}),mr(kt(e,i)))):(s!==al&&(t=Error(m(423),{cause:s}),mr(kt(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=kt(s,i),r=Il(e.stateNode,s,r),pl(e,r),Ke!==4&&(Ke=2)),!1;var n=Error(m(520),{cause:s});if(n=kt(n,i),zr===null?zr=[n]:zr.push(n),Ke!==4&&(Ke=2),t===null)return!0;s=kt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=Il(i.stateNode,s,e),pl(i,e),!1;case 1:if(t=i.type,n=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Hi===null||!Hi.has(n))))return i.flags|=65536,r&=-r,i.lanes|=r,r=gh(r),ph(r,e,i,s),pl(i,r),!1}i=i.return}while(i!==null);return!1}var Yl=Error(m(461)),Qe=!1;function ot(e,t,i,s){t.child=e===null?bu(t,null,i,s):us(t,e.child,i,s)}function mh(e,t,i,s,r){i=i.render;var n=t.ref;if("ref"in s){var p={};for(var M in s)M!=="ref"&&(p[M]=s[M])}else p=s;return as(t),s=El(e,t,i,p,n,r),M=wl(),e!==null&&!Qe?(xl(e,t,r),ci(e,t,r)):(Ae&&M&&rl(t),t.flags|=1,ot(e,t,s,r),t.child)}function Sh(e,t,i,s,r){if(e===null){var n=i.type;return typeof n=="function"&&!tl(n)&&n.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=n,yh(e,t,n,s,r)):(e=Sn(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(n=e.child,!Ql(e,r)){var p=n.memoizedProps;if(i=i.compare,i=i!==null?i:vr,i(p,s)&&e.ref===t.ref)return ci(e,t,r)}return t.flags|=1,e=si(n,s),e.ref=t.ref,e.return=t,t.child=e}function yh(e,t,i,s,r){if(e!==null){var n=e.memoizedProps;if(vr(n,s)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=s=n,Ql(e,r))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,ci(e,t,r)}return Gl(e,t,i,s,r)}function bh(e,t,i,s){var r=s.children,n=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(n=n!==null?n.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~n}else s=0,t.child=null;return Ch(e,t,n,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&En(t,n!==null?n.cachePool:null),n!==null?wu(t,n):Sl(),xu(t);else return s=t.lanes=536870912,Ch(e,t,n!==null?n.baseLanes|i:i,i,s)}else n!==null?(En(t,n.cachePool),wu(t,n),Oi(),t.memoizedState=null):(e!==null&&En(t,null),Sl(),Oi());return ot(e,t,r,i),t.child}function Lr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ch(e,t,i,s,r){var n=dl();return n=n===null?null:{parent:Fe._currentValue,pool:n},t.memoizedState={baseLanes:i,cachePool:n},e!==null&&En(t,null),Sl(),xu(t),e!==null&&ks(e,t,s,!0),t.childLanes=r,null}function jn(e,t){return t=In({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Eh(e,t,i){return us(t,e.child,null,i),e=jn(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function rv(e,t,i){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=jn(t,s),t.lanes=536870912,Lr(null,e);if(bl(t),(e=qe)?(e=Nf(e,zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ei!==null?{id:Ft,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},i=au(e),i.return=t,t.child=i,at=t,qe=null)):e=null,e===null)throw xi(t);return t.lanes=536870912,null}return jn(t,s)}var n=e.memoizedState;if(n!==null){var p=n.dehydrated;if(bl(t),r)if(t.flags&256)t.flags&=-257,t=Eh(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(m(558));else if(Qe||ks(e,t,i,!1),r=(i&e.childLanes)!==0,Qe||r){if(s=ze,s!==null&&(p=dc(s,i),p!==0&&p!==n.retryLane))throw n.retryLane=p,is(e,p),St(s,e,p),Yl;Qn(),t=Eh(e,t,i)}else e=n.treeContext,qe=jt(p.nextSibling),at=t,Ae=!0,wi=null,zt=!1,e!==null&&cu(t,e),t=jn(t,s),t.flags|=4096;return t}return e=si(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qn(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(m(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Gl(e,t,i,s,r){return as(t),i=El(e,t,i,s,void 0,r),s=wl(),e!==null&&!Qe?(xl(e,t,r),ci(e,t,r)):(Ae&&s&&rl(t),t.flags|=1,ot(e,t,i,r),t.child)}function wh(e,t,i,s,r,n){return as(t),t.updateQueue=null,i=Du(t,s,i,r),Au(e),s=wl(),e!==null&&!Qe?(xl(e,t,n),ci(e,t,n)):(Ae&&s&&rl(t),t.flags|=1,ot(e,t,i,n),t.child)}function xh(e,t,i,s,r){if(as(t),t.stateNode===null){var n=Ls,p=i.contextType;typeof p=="object"&&p!==null&&(n=lt(p)),n=new i(s,n),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ql,t.stateNode=n,n._reactInternals=t,n=t.stateNode,n.props=s,n.state=t.memoizedState,n.refs={},vl(t),p=i.contextType,n.context=typeof p=="object"&&p!==null?lt(p):Ls,n.state=t.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(jl(t,i,p,s),n.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(p=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),p!==n.state&&ql.enqueueReplaceState(n,n.state,null),xr(t,s,n,r),wr(),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){n=t.stateNode;var M=t.memoizedProps,U=fs(i,M);n.props=U;var Q=n.context,re=i.contextType;p=Ls,typeof re=="object"&&re!==null&&(p=lt(re));var ce=i.getDerivedStateFromProps;re=typeof ce=="function"||typeof n.getSnapshotBeforeUpdate=="function",M=t.pendingProps!==M,re||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(M||Q!==p)&&hh(t,n,s,p),Di=!1;var Z=t.memoizedState;n.state=Z,xr(t,s,n,r),wr(),Q=t.memoizedState,M||Z!==Q||Di?(typeof ce=="function"&&(jl(t,i,ce,s),Q=t.memoizedState),(U=Di||uh(t,i,U,s,Z,Q,p))?(re||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=Q),n.props=s,n.state=Q,n.context=p,s=U):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{n=t.stateNode,gl(e,t),p=t.memoizedProps,re=fs(i,p),n.props=re,ce=t.pendingProps,Z=n.context,Q=i.contextType,U=Ls,typeof Q=="object"&&Q!==null&&(U=lt(Q)),M=i.getDerivedStateFromProps,(Q=typeof M=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(p!==ce||Z!==U)&&hh(t,n,s,U),Di=!1,Z=t.memoizedState,n.state=Z,xr(t,s,n,r),wr();var ee=t.memoizedState;p!==ce||Z!==ee||Di||e!==null&&e.dependencies!==null&&bn(e.dependencies)?(typeof M=="function"&&(jl(t,i,M,s),ee=t.memoizedState),(re=Di||uh(t,i,re,s,Z,ee,U)||e!==null&&e.dependencies!==null&&bn(e.dependencies))?(Q||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(s,ee,U),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(s,ee,U)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ee),n.props=s,n.state=ee,n.context=U,s=re):(typeof n.componentDidUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),s=!1)}return n=s,qn(e,t),s=(t.flags&128)!==0,n||s?(n=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:n.render(),t.flags|=1,e!==null&&s?(t.child=us(t,e.child,null,r),t.child=us(t,null,i,r)):ot(e,t,i,r),t.memoizedState=n.state,e=t.child):e=ci(e,t,r),e}function Ah(e,t,i,s){return rs(),t.flags|=256,ot(e,t,i,s),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vl(e){return{baseLanes:e,cachePool:vu()}}function Pl(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Tt),e}function Dh(e,t,i){var s=t.pendingProps,r=!1,n=(t.flags&128)!==0,p;if((p=n)||(p=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),p&&(r=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(r?Li(t):Oi(),(e=qe)?(e=Nf(e,zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ei!==null?{id:Ft,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},i=au(e),i.return=t,t.child=i,at=t,qe=null)):e=null,e===null)throw xi(t);return Ro(e)?t.lanes=32:t.lanes=536870912,null}var M=s.children;return s=s.fallback,r?(Oi(),r=t.mode,M=In({mode:"hidden",children:M},r),s=ss(s,r,i,null),M.return=t,s.return=t,M.sibling=s,t.child=M,s=t.child,s.memoizedState=Vl(i),s.childLanes=Pl(e,p,i),t.memoizedState=Kl,Lr(null,s)):(Li(t),Xl(t,M))}var U=e.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(n)t.flags&256?(Li(t),t.flags&=-257,t=Fl(e,t,i)):t.memoizedState!==null?(Oi(),t.child=e.child,t.flags|=128,t=null):(Oi(),M=s.fallback,r=t.mode,s=In({mode:"visible",children:s.children},r),M=ss(M,r,i,null),M.flags|=2,s.return=t,M.return=t,s.sibling=M,t.child=s,us(t,e.child,null,i),s=t.child,s.memoizedState=Vl(i),s.childLanes=Pl(e,p,i),t.memoizedState=Kl,t=Lr(null,s));else if(Li(t),Ro(M)){if(p=M.nextSibling&&M.nextSibling.dataset,p)var Q=p.dgst;p=Q,s=Error(m(419)),s.stack="",s.digest=p,mr({value:s,source:null,stack:null}),t=Fl(e,t,i)}else if(Qe||ks(e,t,i,!1),p=(i&e.childLanes)!==0,Qe||p){if(p=ze,p!==null&&(s=dc(p,i),s!==0&&s!==U.retryLane))throw U.retryLane=s,is(e,s),St(p,e,s),Yl;To(M)||Qn(),t=Fl(e,t,i)}else To(M)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,qe=jt(M.nextSibling),at=t,Ae=!0,wi=null,zt=!1,e!==null&&cu(t,e),t=Xl(t,s.children),t.flags|=4096);return t}return r?(Oi(),M=s.fallback,r=t.mode,U=e.child,Q=U.sibling,s=si(U,{mode:"hidden",children:s.children}),s.subtreeFlags=U.subtreeFlags&65011712,Q!==null?M=si(Q,M):(M=ss(M,r,i,null),M.flags|=2),M.return=t,s.return=t,s.sibling=M,t.child=s,Lr(null,s),s=t.child,M=e.child.memoizedState,M===null?M=Vl(i):(r=M.cachePool,r!==null?(U=Fe._currentValue,r=r.parent!==U?{parent:U,pool:U}:r):r=vu(),M={baseLanes:M.baseLanes|i,cachePool:r}),s.memoizedState=M,s.childLanes=Pl(e,p,i),t.memoizedState=Kl,Lr(e.child,s)):(Li(t),i=e.child,e=i.sibling,i=si(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=i,t.memoizedState=null,i)}function Xl(e,t){return t=In({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function In(e,t){return e=wt(22,e,null,t),e.lanes=0,e}function Fl(e,t,i){return us(t,e.child,null,i),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Th(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),cl(e.return,t,i)}function Wl(e,t,i,s,r,n){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r,treeForkCount:n}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=i,p.tailMode=r,p.treeForkCount=n)}function Rh(e,t,i){var s=t.pendingProps,r=s.revealOrder,n=s.tail;s=s.children;var p=Ve.current,M=(p&2)!==0;if(M?(p=p&1|2,t.flags|=128):p&=1,$(Ve,p),ot(e,t,s,i),s=Ae?pr:0,!M&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,i,t);else if(e.tag===19)Th(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&Rn(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),Wl(t,!1,r,i,n,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Rn(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}Wl(t,!0,i,null,n,s);break;case"together":Wl(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ci(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ks(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(m(153));if(t.child!==null){for(e=t.child,i=si(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=si(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ql(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&bn(e)))}function nv(e,t,i){switch(t.tag){case 3:F(t,t.stateNode.containerInfo),Ai(t,Fe,e.memoizedState.cache),rs();break;case 27:case 5:ne(t);break;case 4:F(t,t.stateNode.containerInfo);break;case 10:Ai(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bl(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Li(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Dh(e,t,i):(Li(t),e=ci(e,t,i),e!==null?e.sibling:null);Li(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(ks(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return Rh(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$(Ve,Ve.current),s)break;return null;case 22:return t.lanes=0,bh(e,t,i,t.pendingProps);case 24:Ai(t,Fe,e.memoizedState.cache)}return ci(e,t,i)}function Lh(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Ql(e,i)&&(t.flags&128)===0)return Qe=!1,nv(e,t,i);Qe=(e.flags&131072)!==0}else Qe=!1,Ae&&(t.flags&1048576)!==0&&ou(t,pr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=os(t.elementType),t.type=e,typeof e=="function")tl(e)?(s=fs(e,s),t.tag=1,t=xh(null,t,e,s,i)):(t.tag=0,t=Gl(null,t,e,s,i));else{if(e!=null){var r=e.$$typeof;if(r===v){t.tag=11,t=mh(null,t,e,s,i);break e}else if(r===L){t.tag=14,t=Sh(null,t,e,s,i);break e}}throw t=se(e)||e,Error(m(306,t,""))}}return t;case 0:return Gl(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=fs(s,t.pendingProps),xh(e,t,s,r,i);case 3:e:{if(F(t,t.stateNode.containerInfo),e===null)throw Error(m(387));s=t.pendingProps;var n=t.memoizedState;r=n.element,gl(e,t),xr(t,s,null,i);var p=t.memoizedState;if(s=p.cache,Ai(t,Fe,s),s!==n.cache&&ul(t,[Fe],i,!0),wr(),s=p.element,n.isDehydrated)if(n={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){t=Ah(e,t,s,i);break e}else if(s!==r){r=kt(Error(m(424)),t),mr(r),t=Ah(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=jt(e.firstChild),at=t,Ae=!0,wi=null,zt=!0,i=bu(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(rs(),s===r){t=ci(e,t,i);break e}ot(e,t,s,i)}t=t.child}return t;case 26:return qn(e,t),e===null?(i=Yf(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ae||(i=t.type,e=t.pendingProps,s=sa(de.current).createElement(i),s[nt]=t,s[dt]=e,ct(s,i,e),st(s),t.stateNode=s):t.memoizedState=Yf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ne(t),e===null&&Ae&&(s=t.stateNode=jf(t.type,t.pendingProps,de.current),at=t,zt=!0,r=qe,ji(t.type)?(Lo=r,qe=jt(s.firstChild)):qe=r),ot(e,t,t.pendingProps.children,i),qn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((r=s=qe)&&(s=Hv(s,t.type,t.pendingProps,zt),s!==null?(t.stateNode=s,at=t,qe=jt(s.firstChild),zt=!1,r=!0):r=!1),r||xi(t)),ne(t),r=t.type,n=t.pendingProps,p=e!==null?e.memoizedProps:null,s=n.children,xo(r,n)?s=null:p!==null&&xo(r,p)&&(t.flags|=32),t.memoizedState!==null&&(r=El(e,t,Q_,null,null,i),Vr._currentValue=r),qn(e,t),ot(e,t,s,i),t.child;case 6:return e===null&&Ae&&((e=i=qe)&&(i=Nv(i,t.pendingProps,zt),i!==null?(t.stateNode=i,at=t,qe=null,e=!0):e=!1),e||xi(t)),null;case 13:return Dh(e,t,i);case 4:return F(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=us(t,null,s,i):ot(e,t,s,i),t.child;case 11:return mh(e,t,t.type,t.pendingProps,i);case 7:return ot(e,t,t.pendingProps,i),t.child;case 8:return ot(e,t,t.pendingProps.children,i),t.child;case 12:return ot(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Ai(t,t.type,s.value),ot(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,as(t),r=lt(r),s=s(r),t.flags|=1,ot(e,t,s,i),t.child;case 14:return Sh(e,t,t.type,t.pendingProps,i);case 15:return yh(e,t,t.type,t.pendingProps,i);case 19:return Rh(e,t,i);case 31:return rv(e,t,i);case 22:return bh(e,t,i,t.pendingProps);case 24:return as(t),s=lt(Fe),e===null?(r=dl(),r===null&&(r=ze,n=hl(),r.pooledCache=n,n.refCount++,n!==null&&(r.pooledCacheLanes|=i),r=n),t.memoizedState={parent:s,cache:r},vl(t),Ai(t,Fe,r)):((e.lanes&i)!==0&&(gl(e,t),xr(t,null,null,i),wr()),r=e.memoizedState,n=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ai(t,Fe,s)):(s=n.cache,Ai(t,Fe,s),s!==r.cache&&ul(t,[Fe],i,!0))),ot(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(m(156,t.tag))}function ui(e){e.flags|=4}function Zl(e,t,i,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(rf())e.flags|=8192;else throw cs=xn,_l}else e.flags&=-16777217}function Oh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xf(t))if(rf())e.flags|=8192;else throw cs=xn,_l}function Yn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?uc():536870912,e.lanes|=t,Ps|=t)}function Or(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function av(e,t,i){var s=t.pendingProps;switch(nl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ai(Fe),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ms(t)?ui(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ll())),Ie(t),null;case 26:var r=t.type,n=t.memoizedState;return e===null?(ui(t),n!==null?(Ie(t),Oh(t,n)):(Ie(t),Zl(t,r,null,s,i))):n?n!==e.memoizedState?(ui(t),Ie(t),Oh(t,n)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ui(t),Ie(t),Zl(t,r,e,s,i)),null;case 27:if(pe(t),i=de.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ui(t);else{if(!s){if(t.stateNode===null)throw Error(m(166));return Ie(t),null}e=oe.current,Ms(t)?uu(t):(e=jf(r,s,i),t.stateNode=e,ui(t))}return Ie(t),null;case 5:if(pe(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ui(t);else{if(!s){if(t.stateNode===null)throw Error(m(166));return Ie(t),null}if(n=oe.current,Ms(t))uu(t);else{var p=sa(de.current);switch(n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?n.multiple=!0:s.size&&(n.size=s.size);break;default:n=typeof s.is=="string"?p.createElement(r,{is:s.is}):p.createElement(r)}}n[nt]=t,n[dt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=n;e:switch(ct(n,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ui(t)}}return Ie(t),Zl(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ui(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(m(166));if(e=de.current,Ms(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=at,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[nt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Tf(e.nodeValue,i)),e||xi(t,!0)}else e=sa(e).createTextNode(s),e[nt]=t,t.stateNode=e}return Ie(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ms(t),i!==null){if(e===null){if(!s)throw Error(m(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(557));e[nt]=t}else rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else i=ll(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(m(558))}return Ie(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ms(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(m(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(m(317));r[nt]=t}else rs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),r=!1}else r=ll(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==r&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Yn(t,t.updateQueue),Ie(t),null);case 4:return ie(),e===null&&yo(t.stateNode.containerInfo),Ie(t),null;case 10:return ai(t.type),Ie(t),null;case 19:if(G(Ve),s=t.memoizedState,s===null)return Ie(t),null;if(r=(t.flags&128)!==0,n=s.rendering,n===null)if(r)Or(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(n=Rn(e),n!==null){for(t.flags|=128,Or(s,!1),e=n.updateQueue,t.updateQueue=e,Yn(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)nu(i,e),i=i.sibling;return $(Ve,Ve.current&1|2),Ae&&ri(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&et()>Xn&&(t.flags|=128,r=!0,Or(s,!1),t.lanes=4194304)}else{if(!r)if(e=Rn(n),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Yn(t,e),Or(s,!0),s.tail===null&&s.tailMode==="hidden"&&!n.alternate&&!Ae)return Ie(t),null}else 2*et()-s.renderingStartTime>Xn&&i!==536870912&&(t.flags|=128,r=!0,Or(s,!1),t.lanes=4194304);s.isBackwards?(n.sibling=t.child,t.child=n):(e=s.last,e!==null?e.sibling=n:t.child=n,s.last=n)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=et(),e.sibling=null,i=Ve.current,$(Ve,r?i&1|2:i&1),Ae&&ri(t,s.treeForkCount),e):(Ie(t),null);case 22:case 23:return At(t),yl(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),i=t.updateQueue,i!==null&&Yn(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&G(ls),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ai(Fe),Ie(t),null;case 25:return null;case 30:return null}throw Error(m(156,t.tag))}function lv(e,t){switch(nl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(Fe),ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pe(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(m(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(m(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Ve),null;case 4:return ie(),null;case 10:return ai(t.type),null;case 22:case 23:return At(t),yl(),e!==null&&G(ls),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ai(Fe),null;case 25:return null;default:return null}}function Bh(e,t){switch(nl(t),t.tag){case 3:ai(Fe),ie();break;case 26:case 27:case 5:pe(t);break;case 4:ie();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:G(Ve);break;case 10:ai(t.type);break;case 22:case 23:At(t),yl(),e!==null&&G(ls);break;case 24:ai(Fe)}}function Br(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var n=i.create,p=i.inst;s=n(),p.destroy=s}i=i.next}while(i!==r)}}catch(M){Me(t,t.return,M)}}function Bi(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var n=r.next;s=n;do{if((s.tag&e)===e){var p=s.inst,M=p.destroy;if(M!==void 0){p.destroy=void 0,r=t;var U=i,Q=M;try{Q()}catch(re){Me(r,U,re)}}}s=s.next}while(s!==n)}}catch(re){Me(t,t.return,re)}}function Mh(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Eu(t,i)}catch(s){Me(e,e.return,s)}}}function kh(e,t,i){i.props=fs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Me(e,t,s)}}function Mr(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){Me(e,t,r)}}function Qt(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){Me(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Me(e,t,r)}else i.current=null}function Hh(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){Me(e,e.return,r)}}function Jl(e,t,i){try{var s=e.stateNode;Rv(s,e.type,i,t),s[dt]=t}catch(r){Me(e,e.return,r)}}function Nh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ji(e.type)||e.tag===4}function $l(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eo(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ti));else if(s!==4&&(s===27&&ji(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(eo(e,t,i),e=e.sibling;e!==null;)eo(e,t,i),e=e.sibling}function Gn(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&ji(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Gn(e,t,i),e=e.sibling;e!==null;)Gn(e,t,i),e=e.sibling}function zh(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ct(t,s,i),t[nt]=e,t[dt]=i}catch(n){Me(e,e.return,n)}}var hi=!1,Ze=!1,to=!1,Uh=typeof WeakSet=="function"?WeakSet:Set,rt=null;function ov(e,t){if(e=e.containerInfo,Eo=ua,e=Qc(e),Fa(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{i.nodeType,n.nodeType}catch{i=null;break e}var p=0,M=-1,U=-1,Q=0,re=0,ce=e,Z=null;t:for(;;){for(var ee;ce!==i||r!==0&&ce.nodeType!==3||(M=p+r),ce!==n||s!==0&&ce.nodeType!==3||(U=p+s),ce.nodeType===3&&(p+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)Z=ce,ce=ee;for(;;){if(ce===e)break t;if(Z===i&&++Q===r&&(M=p),Z===n&&++re===s&&(U=p),(ee=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=ee}i=M===-1||U===-1?null:{start:M,end:U}}else i=null}i=i||{start:0,end:0}}else i=null;for(wo={focusedElem:e,selectionRange:i},ua=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,n=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&n!==null){e=void 0,i=t,r=n.memoizedProps,n=n.memoizedState,s=i.stateNode;try{var fe=fs(i.type,r);e=s.getSnapshotBeforeUpdate(fe,n),s.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Me(i,i.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Do(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Do(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(m(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function jh(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:di(e,i),s&4&&Br(5,i);break;case 1:if(di(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(p){Me(i,i.return,p)}else{var r=fs(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Me(i,i.return,p)}}s&64&&Mh(i),s&512&&Mr(i,i.return);break;case 3:if(di(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Eu(e,t)}catch(p){Me(i,i.return,p)}}break;case 27:t===null&&s&4&&zh(i);case 26:case 5:di(e,i),t===null&&s&4&&Hh(i),s&512&&Mr(i,i.return);break;case 12:di(e,i);break;case 31:di(e,i),s&4&&Yh(e,i);break;case 13:di(e,i),s&4&&Gh(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=pv.bind(null,i),zv(e,i))));break;case 22:if(s=i.memoizedState!==null||hi,!s){t=t!==null&&t.memoizedState!==null||Ze,r=hi;var n=Ze;hi=s,(Ze=t)&&!n?_i(e,i,(i.subtreeFlags&8772)!==0):di(e,i),hi=r,Ze=n}break;case 30:break;default:di(e,i)}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Oa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,vt=!1;function fi(e,t,i){for(i=i.child;i!==null;)Ih(e,t,i),i=i.sibling}function Ih(e,t,i){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Qi,i)}catch{}switch(i.tag){case 26:Ze||Qt(i,t),fi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ze||Qt(i,t);var s=Ye,r=vt;ji(i.type)&&(Ye=i.stateNode,vt=!1),fi(e,t,i),Yr(i.stateNode),Ye=s,vt=r;break;case 5:Ze||Qt(i,t);case 6:if(s=Ye,r=vt,Ye=null,fi(e,t,i),Ye=s,vt=r,Ye!==null)if(vt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(i.stateNode)}catch(n){Me(i,t,n)}else try{Ye.removeChild(i.stateNode)}catch(n){Me(i,t,n)}break;case 18:Ye!==null&&(vt?(e=Ye,kf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),er(e)):kf(Ye,i.stateNode));break;case 4:s=Ye,r=vt,Ye=i.stateNode.containerInfo,vt=!0,fi(e,t,i),Ye=s,vt=r;break;case 0:case 11:case 14:case 15:Bi(2,i,t),Ze||Bi(4,i,t),fi(e,t,i);break;case 1:Ze||(Qt(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&kh(i,t,s)),fi(e,t,i);break;case 21:fi(e,t,i);break;case 22:Ze=(s=Ze)||i.memoizedState!==null,fi(e,t,i),Ze=s;break;default:fi(e,t,i)}}function Yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{er(e)}catch(i){Me(t,t.return,i)}}}function Gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{er(e)}catch(i){Me(t,t.return,i)}}function cv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Uh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Uh),t;default:throw Error(m(435,e.tag))}}function Kn(e,t){var i=cv(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var r=mv.bind(null,e,s);s.then(r,r)}})}function gt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],n=e,p=t,M=p;e:for(;M!==null;){switch(M.tag){case 27:if(ji(M.type)){Ye=M.stateNode,vt=!1;break e}break;case 5:Ye=M.stateNode,vt=!1;break e;case 3:case 4:Ye=M.stateNode.containerInfo,vt=!0;break e}M=M.return}if(Ye===null)throw Error(m(160));Ih(n,p,r),Ye=null,vt=!1,n=r.alternate,n!==null&&(n.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}var Kt=null;function Kh(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),pt(e),s&4&&(Bi(3,e,e.return),Br(3,e),Bi(5,e,e.return));break;case 1:gt(t,e),pt(e),s&512&&(Ze||i===null||Qt(i,i.return)),s&64&&hi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=Kt;if(gt(t,e),pt(e),s&512&&(Ze||i===null||Qt(i,i.return)),s&4){var n=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":n=r.getElementsByTagName("title")[0],(!n||n[ar]||n[nt]||n.namespaceURI==="http://www.w3.org/2000/svg"||n.hasAttribute("itemprop"))&&(n=r.createElement(s),r.head.insertBefore(n,r.querySelector("head > title"))),ct(n,s,i),n[nt]=e,st(n),s=n;break e;case"link":var p=Vf("link","href",r).get(s+(i.href||""));if(p){for(var M=0;M<p.length;M++)if(n=p[M],n.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&n.getAttribute("rel")===(i.rel==null?null:i.rel)&&n.getAttribute("title")===(i.title==null?null:i.title)&&n.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(M,1);break t}}n=r.createElement(s),ct(n,s,i),r.head.appendChild(n);break;case"meta":if(p=Vf("meta","content",r).get(s+(i.content||""))){for(M=0;M<p.length;M++)if(n=p[M],n.getAttribute("content")===(i.content==null?null:""+i.content)&&n.getAttribute("name")===(i.name==null?null:i.name)&&n.getAttribute("property")===(i.property==null?null:i.property)&&n.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&n.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(M,1);break t}}n=r.createElement(s),ct(n,s,i),r.head.appendChild(n);break;default:throw Error(m(468,s))}n[nt]=e,st(n),s=n}e.stateNode=s}else Pf(r,e.type,e.stateNode);else e.stateNode=Kf(r,s,e.memoizedProps);else n!==s?(n===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):n.count--,s===null?Pf(r,e.type,e.stateNode):Kf(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Jl(e,e.memoizedProps,i.memoizedProps)}break;case 27:gt(t,e),pt(e),s&512&&(Ze||i===null||Qt(i,i.return)),i!==null&&s&4&&Jl(e,e.memoizedProps,i.memoizedProps);break;case 5:if(gt(t,e),pt(e),s&512&&(Ze||i===null||Qt(i,i.return)),e.flags&32){r=e.stateNode;try{Es(r,"")}catch(fe){Me(e,e.return,fe)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Jl(e,r,i!==null?i.memoizedProps:r)),s&1024&&(to=!0);break;case 6:if(gt(t,e),pt(e),s&4){if(e.stateNode===null)throw Error(m(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(fe){Me(e,e.return,fe)}}break;case 3:if(aa=null,r=Kt,Kt=ra(t.containerInfo),gt(t,e),Kt=r,pt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{er(t.containerInfo)}catch(fe){Me(e,e.return,fe)}to&&(to=!1,Vh(e));break;case 4:s=Kt,Kt=ra(e.stateNode.containerInfo),gt(t,e),pt(e),Kt=s;break;case 12:gt(t,e),pt(e);break;case 31:gt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kn(e,s)));break;case 13:gt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Pn=et()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kn(e,s)));break;case 22:r=e.memoizedState!==null;var U=i!==null&&i.memoizedState!==null,Q=hi,re=Ze;if(hi=Q||r,Ze=re||U,gt(t,e),Ze=re,hi=Q,pt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||U||hi||Ze||ds(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){U=i=t;try{if(n=U.stateNode,r)p=n.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{M=U.stateNode;var ce=U.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;M.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(fe){Me(U,U.return,fe)}}}else if(t.tag===6){if(i===null){U=t;try{U.stateNode.nodeValue=r?"":U.memoizedProps}catch(fe){Me(U,U.return,fe)}}}else if(t.tag===18){if(i===null){U=t;try{var ee=U.stateNode;r?Hf(ee,!0):Hf(U.stateNode,!1)}catch(fe){Me(U,U.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Kn(e,i))));break;case 19:gt(t,e),pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Kn(e,s)));break;case 30:break;case 21:break;default:gt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Nh(s)){i=s;break}s=s.return}if(i==null)throw Error(m(160));switch(i.tag){case 27:var r=i.stateNode,n=$l(e);Gn(e,n,r);break;case 5:var p=i.stateNode;i.flags&32&&(Es(p,""),i.flags&=-33);var M=$l(e);Gn(e,M,p);break;case 3:case 4:var U=i.stateNode.containerInfo,Q=$l(e);eo(e,Q,U);break;default:throw Error(m(161))}}catch(re){Me(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function di(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jh(e,t.alternate,t),t=t.sibling}function ds(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bi(4,t,t.return),ds(t);break;case 1:Qt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&kh(t,t.return,i),ds(t);break;case 27:Yr(t.stateNode);case 26:case 5:Qt(t,t.return),ds(t);break;case 22:t.memoizedState===null&&ds(t);break;case 30:ds(t);break;default:ds(t)}e=e.sibling}}function _i(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,n=t,p=n.flags;switch(n.tag){case 0:case 11:case 15:_i(r,n,i),Br(4,n);break;case 1:if(_i(r,n,i),s=n,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(Q){Me(s,s.return,Q)}if(s=n,r=s.updateQueue,r!==null){var M=s.stateNode;try{var U=r.shared.hiddenCallbacks;if(U!==null)for(r.shared.hiddenCallbacks=null,r=0;r<U.length;r++)Cu(U[r],M)}catch(Q){Me(s,s.return,Q)}}i&&p&64&&Mh(n),Mr(n,n.return);break;case 27:zh(n);case 26:case 5:_i(r,n,i),i&&s===null&&p&4&&Hh(n),Mr(n,n.return);break;case 12:_i(r,n,i);break;case 31:_i(r,n,i),i&&p&4&&Yh(r,n);break;case 13:_i(r,n,i),i&&p&4&&Gh(r,n);break;case 22:n.memoizedState===null&&_i(r,n,i),Mr(n,n.return);break;case 30:break;default:_i(r,n,i)}t=t.sibling}}function io(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Sr(i))}function so(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sr(e))}function Vt(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ph(e,t,i,s),t=t.sibling}function Ph(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,i,s),r&2048&&Br(9,t);break;case 1:Vt(e,t,i,s);break;case 3:Vt(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sr(e)));break;case 12:if(r&2048){Vt(e,t,i,s),e=t.stateNode;try{var n=t.memoizedProps,p=n.id,M=n.onPostCommit;typeof M=="function"&&M(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Me(t,t.return,U)}}else Vt(e,t,i,s);break;case 31:Vt(e,t,i,s);break;case 13:Vt(e,t,i,s);break;case 23:break;case 22:n=t.stateNode,p=t.alternate,t.memoizedState!==null?n._visibility&2?Vt(e,t,i,s):kr(e,t):n._visibility&2?Vt(e,t,i,s):(n._visibility|=2,Gs(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&io(p,t);break;case 24:Vt(e,t,i,s),r&2048&&so(t.alternate,t);break;default:Vt(e,t,i,s)}}function Gs(e,t,i,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var n=e,p=t,M=i,U=s,Q=p.flags;switch(p.tag){case 0:case 11:case 15:Gs(n,p,M,U,r),Br(8,p);break;case 23:break;case 22:var re=p.stateNode;p.memoizedState!==null?re._visibility&2?Gs(n,p,M,U,r):kr(n,p):(re._visibility|=2,Gs(n,p,M,U,r)),r&&Q&2048&&io(p.alternate,p);break;case 24:Gs(n,p,M,U,r),r&&Q&2048&&so(p.alternate,p);break;default:Gs(n,p,M,U,r)}t=t.sibling}}function kr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:kr(i,s),r&2048&&io(s.alternate,s);break;case 24:kr(i,s),r&2048&&so(s.alternate,s);break;default:kr(i,s)}t=t.sibling}}var Hr=8192;function Ks(e,t,i){if(e.subtreeFlags&Hr)for(e=e.child;e!==null;)Xh(e,t,i),e=e.sibling}function Xh(e,t,i){switch(e.tag){case 26:Ks(e,t,i),e.flags&Hr&&e.memoizedState!==null&&Wv(i,Kt,e.memoizedState,e.memoizedProps);break;case 5:Ks(e,t,i);break;case 3:case 4:var s=Kt;Kt=ra(e.stateNode.containerInfo),Ks(e,t,i),Kt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hr,Hr=16777216,Ks(e,t,i),Hr=s):Ks(e,t,i));break;default:Ks(e,t,i)}}function Fh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];rt=s,Qh(s,e)}Fh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wh(e),e=e.sibling}function Wh(e){switch(e.tag){case 0:case 11:case 15:Nr(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:Nr(e);break;case 12:Nr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vn(e)):Nr(e);break;default:Nr(e)}}function Vn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];rt=s,Qh(s,e)}Fh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bi(8,t,t.return),Vn(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Vn(t));break;default:Vn(t)}e=e.sibling}}function Qh(e,t){for(;rt!==null;){var i=rt;switch(i.tag){case 0:case 11:case 15:Bi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Sr(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,rt=s;else e:for(i=e;rt!==null;){s=rt;var r=s.sibling,n=s.return;if(qh(s),s===i){rt=null;break e}if(r!==null){r.return=n,rt=r;break e}rt=n}}}var uv={getCacheForType:function(e){var t=lt(Fe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return lt(Fe).controller.signal}},hv=typeof WeakMap=="function"?WeakMap:Map,Oe=0,ze=null,Ce=null,we=0,Be=0,Dt=null,Mi=!1,Vs=!1,ro=!1,vi=0,Ke=0,ki=0,_s=0,no=0,Tt=0,Ps=0,zr=null,mt=null,ao=!1,Pn=0,Zh=0,Xn=1/0,Fn=null,Hi=null,tt=0,Ni=null,Xs=null,gi=0,lo=0,oo=null,Jh=null,Ur=0,co=null;function Rt(){return(Oe&2)!==0&&we!==0?we&-we:j.T!==null?go():_c()}function $h(){if(Tt===0)if((we&536870912)===0||Ae){var e=tn;tn<<=1,(tn&3932160)===0&&(tn=262144),Tt=e}else Tt=536870912;return e=xt.current,e!==null&&(e.flags|=32),Tt}function St(e,t,i){(e===ze&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Fs(e,0),zi(e,we,Tt,!1)),nr(e,i),((Oe&2)===0||e!==ze)&&(e===ze&&((Oe&2)===0&&(_s|=i),Ke===4&&zi(e,we,Tt,!1)),Zt(e))}function ef(e,t,i){if((Oe&6)!==0)throw Error(m(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||rr(e,t),r=s?_v(e,t):ho(e,t,!0),n=s;do{if(r===0){Vs&&!s&&zi(e,t,0,!1);break}else{if(i=e.current.alternate,n&&!fv(i)){r=ho(e,t,!1),n=!1;continue}if(r===2){if(n=t,e.errorRecoveryDisabledLanes&n)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var M=e;r=zr;var U=M.current.memoizedState.isDehydrated;if(U&&(Fs(M,p).flags|=256),p=ho(M,p,!1),p!==2){if(ro&&!U){M.errorRecoveryDisabledLanes|=n,_s|=n,r=4;break e}n=mt,mt=r,n!==null&&(mt===null?mt=n:mt.push.apply(mt,n))}r=p}if(n=!1,r!==2)continue}}if(r===1){Fs(e,0),zi(e,t,0,!0);break}e:{switch(s=e,n=r,n){case 0:case 1:throw Error(m(345));case 4:if((t&4194048)!==t)break;case 6:zi(s,t,Tt,!Mi);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(m(329))}if((t&62914560)===t&&(r=Pn+300-et(),10<r)){if(zi(s,t,Tt,!Mi),rn(s,0,!0)!==0)break e;gi=t,s.timeoutHandle=Bf(tf.bind(null,s,i,mt,Fn,ao,t,Tt,_s,Ps,Mi,n,"Throttled",-0,0),r);break e}tf(s,i,mt,Fn,ao,t,Tt,_s,Ps,Mi,n,null,-0,0)}}break}while(!0);Zt(e)}function tf(e,t,i,s,r,n,p,M,U,Q,re,ce,Z,ee){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Xh(t,n,ce);var fe=(n&62914560)===n?Pn-et():(n&4194048)===n?Zh-et():0;if(fe=Qv(ce,fe),fe!==null){gi=n,e.cancelPendingCommit=fe(uf.bind(null,e,t,n,i,s,r,p,M,U,re,ce,null,Z,ee)),zi(e,n,p,!Q);return}}uf(e,t,n,i,s,r,p,M,U)}function fv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],n=r.getSnapshot;r=r.value;try{if(!Et(n(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zi(e,t,i,s){t&=~no,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var n=31-Ct(r),p=1<<n;s[n]=-1,r&=~p}i!==0&&hc(e,i,t)}function Wn(){return(Oe&6)===0?(jr(0),!1):!0}function uo(){if(Ce!==null){if(Be===0)var e=Ce.return;else e=Ce,ni=ns=null,Al(e),Us=null,br=0,e=Ce;for(;e!==null;)Bh(e.alternate,e),e=e.return;Ce=null}}function Fs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Bv(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),gi=0,uo(),ze=e,Ce=i=si(e.current,null),we=t,Be=0,Dt=null,Mi=!1,Vs=rr(e,t),ro=!1,Ps=Tt=no=_s=ki=Ke=0,mt=zr=null,ao=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-Ct(s),n=1<<r;t|=e[r],s&=~n}return vi=t,gn(),i}function sf(e,t){Se=null,j.H=Rr,t===zs||t===wn?(t=mu(),Be=3):t===_l?(t=mu(),Be=4):Be=t===Yl?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,Ce===null&&(Ke=1,Un(e,kt(t,e.current)))}function rf(){var e=xt.current;return e===null?!0:(we&4194048)===we?Ut===null:(we&62914560)===we||(we&536870912)!==0?e===Ut:!1}function nf(){var e=j.H;return j.H=Rr,e===null?Rr:e}function af(){var e=j.A;return j.A=uv,e}function Qn(){Ke=4,Mi||(we&4194048)!==we&&xt.current!==null||(Vs=!0),(ki&134217727)===0&&(_s&134217727)===0||ze===null||zi(ze,we,Tt,!1)}function ho(e,t,i){var s=Oe;Oe|=2;var r=nf(),n=af();(ze!==e||we!==t)&&(Fn=null,Fs(e,t)),t=!1;var p=Ke;e:do try{if(Be!==0&&Ce!==null){var M=Ce,U=Dt;switch(Be){case 8:uo(),p=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var Q=Be;if(Be=0,Dt=null,Ws(e,M,U,Q),i&&Vs){p=0;break e}break;default:Q=Be,Be=0,Dt=null,Ws(e,M,U,Q)}}dv(),p=Ke;break}catch(re){sf(e,re)}while(!0);return t&&e.shellSuspendCounter++,ni=ns=null,Oe=s,j.H=r,j.A=n,Ce===null&&(ze=null,we=0,gn()),p}function dv(){for(;Ce!==null;)lf(Ce)}function _v(e,t){var i=Oe;Oe|=2;var s=nf(),r=af();ze!==e||we!==t?(Fn=null,Xn=et()+500,Fs(e,t)):Vs=rr(e,t);e:do try{if(Be!==0&&Ce!==null){t=Ce;var n=Dt;t:switch(Be){case 1:Be=0,Dt=null,Ws(e,t,n,1);break;case 2:case 9:if(gu(n)){Be=0,Dt=null,of(t);break}t=function(){Be!==2&&Be!==9||ze!==e||(Be=7),Zt(e)},n.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:gu(n)?(Be=0,Dt=null,of(t)):(Be=0,Dt=null,Ws(e,t,n,7));break;case 5:var p=null;switch(Ce.tag){case 26:p=Ce.memoizedState;case 5:case 27:var M=Ce;if(p?Xf(p):M.stateNode.complete){Be=0,Dt=null;var U=M.sibling;if(U!==null)Ce=U;else{var Q=M.return;Q!==null?(Ce=Q,Zn(Q)):Ce=null}break t}}Be=0,Dt=null,Ws(e,t,n,5);break;case 6:Be=0,Dt=null,Ws(e,t,n,6);break;case 8:uo(),Ke=6;break e;default:throw Error(m(462))}}vv();break}catch(re){sf(e,re)}while(!0);return ni=ns=null,j.H=s,j.A=r,Oe=i,Ce!==null?0:(ze=null,we=0,gn(),Ke)}function vv(){for(;Ce!==null&&!vs();)lf(Ce)}function lf(e){var t=Lh(e.alternate,e,vi);e.memoizedProps=e.pendingProps,t===null?Zn(e):Ce=t}function of(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=wh(i,t,t.pendingProps,t.type,void 0,we);break;case 11:t=wh(i,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:Al(t);default:Bh(i,t),t=Ce=nu(t,vi),t=Lh(i,t,vi)}e.memoizedProps=e.pendingProps,t===null?Zn(e):Ce=t}function Ws(e,t,i,s){ni=ns=null,Al(t),Us=null,br=0;var r=t.return;try{if(sv(e,r,t,i,we)){Ke=1,Un(e,kt(i,e.current)),Ce=null;return}}catch(n){if(r!==null)throw Ce=r,n;Ke=1,Un(e,kt(i,e.current)),Ce=null;return}t.flags&32768?(Ae||s===1?e=!0:Vs||(we&536870912)!==0?e=!1:(Mi=e=!0,(s===2||s===9||s===3||s===6)&&(s=xt.current,s!==null&&s.tag===13&&(s.flags|=16384))),cf(t,e)):Zn(t)}function Zn(e){var t=e;do{if((t.flags&32768)!==0){cf(t,Mi);return}e=t.return;var i=av(t.alternate,t,vi);if(i!==null){Ce=i;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Ke===0&&(Ke=5)}function cf(e,t){do{var i=lv(e.alternate,e);if(i!==null){i.flags&=32767,Ce=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=i}while(e!==null);Ke=6,Ce=null}function uf(e,t,i,s,r,n,p,M,U){e.cancelPendingCommit=null;do Jn();while(tt!==0);if((Oe&6)!==0)throw Error(m(327));if(t!==null){if(t===e.current)throw Error(m(177));if(n=t.lanes|t.childLanes,n|=$a,Fd(e,i,n,p,M,U),e===ze&&(Ce=ze=null,we=0),Xs=t,Ni=e,gi=i,lo=n,oo=r,Jh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sv(yt,function(){return vf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=j.T,j.T=null,r=P.p,P.p=2,p=Oe,Oe|=4;try{ov(e,t,i)}finally{Oe=p,P.p=r,j.T=s}}tt=1,hf(),ff(),df()}}function hf(){if(tt===1){tt=0;var e=Ni,t=Xs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var s=P.p;P.p=2;var r=Oe;Oe|=4;try{Kh(t,e);var n=wo,p=Qc(e.containerInfo),M=n.focusedElem,U=n.selectionRange;if(p!==M&&M&&M.ownerDocument&&Wc(M.ownerDocument.documentElement,M)){if(U!==null&&Fa(M)){var Q=U.start,re=U.end;if(re===void 0&&(re=Q),"selectionStart"in M)M.selectionStart=Q,M.selectionEnd=Math.min(re,M.value.length);else{var ce=M.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),fe=M.textContent.length,ge=Math.min(U.start,fe),Ne=U.end===void 0?ge:Math.min(U.end,fe);!ee.extend&&ge>Ne&&(p=Ne,Ne=ge,ge=p);var V=Fc(M,ge),K=Fc(M,Ne);if(V&&K&&(ee.rangeCount!==1||ee.anchorNode!==V.node||ee.anchorOffset!==V.offset||ee.focusNode!==K.node||ee.focusOffset!==K.offset)){var W=ce.createRange();W.setStart(V.node,V.offset),ee.removeAllRanges(),ge>Ne?(ee.addRange(W),ee.extend(K.node,K.offset)):(W.setEnd(K.node,K.offset),ee.addRange(W))}}}}for(ce=[],ee=M;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ce.length;M++){var le=ce[M];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}ua=!!Eo,wo=Eo=null}finally{Oe=r,P.p=s,j.T=i}}e.current=t,tt=2}}function ff(){if(tt===2){tt=0;var e=Ni,t=Xs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var s=P.p;P.p=2;var r=Oe;Oe|=4;try{jh(e,t.alternate,t)}finally{Oe=r,P.p=s,j.T=i}}tt=3}}function df(){if(tt===4||tt===3){tt=0,ft();var e=Ni,t=Xs,i=gi,s=Jh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Xs=Ni=null,_f(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Hi=null),Ra(i),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Qi,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=j.T,r=P.p,P.p=2,j.T=null;try{for(var n=e.onRecoverableError,p=0;p<s.length;p++){var M=s[p];n(M.value,{componentStack:M.stack})}}finally{j.T=t,P.p=r}}(gi&3)!==0&&Jn(),Zt(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===co?Ur++:(Ur=0,co=e):Ur=0,jr(0)}}function _f(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Sr(t)))}function Jn(){return hf(),ff(),df(),vf()}function vf(){if(tt!==5)return!1;var e=Ni,t=lo;lo=0;var i=Ra(gi),s=j.T,r=P.p;try{P.p=32>i?32:i,j.T=null,i=oo,oo=null;var n=Ni,p=gi;if(tt=0,Xs=Ni=null,gi=0,(Oe&6)!==0)throw Error(m(331));var M=Oe;if(Oe|=4,Wh(n.current),Ph(n,n.current,p,i),Oe=M,jr(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Qi,n)}catch{}return!0}finally{P.p=r,j.T=s,_f(e,t)}}function gf(e,t,i){t=kt(i,t),t=Il(e.stateNode,t,2),e=Ri(e,t,2),e!==null&&(nr(e,2),Zt(e))}function Me(e,t,i){if(e.tag===3)gf(e,e,i);else for(;t!==null;){if(t.tag===3){gf(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Hi===null||!Hi.has(s))){e=kt(i,e),i=gh(2),s=Ri(t,i,2),s!==null&&(ph(i,s,t,e),nr(s,2),Zt(s));break}}t=t.return}}function fo(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new hv;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(ro=!0,r.add(i),e=gv.bind(null,e,t,i),t.then(e,e))}function gv(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ze===e&&(we&i)===i&&(Ke===4||Ke===3&&(we&62914560)===we&&300>et()-Pn?(Oe&2)===0&&Fs(e,0):no|=i,Ps===we&&(Ps=0)),Zt(e)}function pf(e,t){t===0&&(t=uc()),e=is(e,t),e!==null&&(nr(e,t),Zt(e))}function pv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),pf(e,i)}function mv(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(m(314))}s!==null&&s.delete(t),pf(e,i)}function Sv(e,t){return Xi(e,t)}var $n=null,Qs=null,_o=!1,ea=!1,vo=!1,Ui=0;function Zt(e){e!==Qs&&e.next===null&&(Qs===null?$n=Qs=e:Qs=Qs.next=e),ea=!0,_o||(_o=!0,bv())}function jr(e,t){if(!vo&&ea){vo=!0;do for(var i=!1,s=$n;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var n=0;else{var p=s.suspendedLanes,M=s.pingedLanes;n=(1<<31-Ct(42|e)+1)-1,n&=r&~(p&~M),n=n&201326741?n&201326741|1:n?n|2:0}n!==0&&(i=!0,bf(s,n))}else n=we,n=rn(s,s===ze?n:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(n&3)===0||rr(s,n)||(i=!0,bf(s,n));s=s.next}while(i);vo=!1}}function yv(){mf()}function mf(){ea=_o=!1;var e=0;Ui!==0&&Ov()&&(e=Ui);for(var t=et(),i=null,s=$n;s!==null;){var r=s.next,n=Sf(s,t);n===0?(s.next=null,i===null?$n=r:i.next=r,r===null&&(Qs=i)):(i=s,(e!==0||(n&3)!==0)&&(ea=!0)),s=r}tt!==0&&tt!==5||jr(e),Ui!==0&&(Ui=0)}function Sf(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,n=e.pendingLanes&-62914561;0<n;){var p=31-Ct(n),M=1<<p,U=r[p];U===-1?((M&i)===0||(M&s)!==0)&&(r[p]=Xd(M,t)):U<=t&&(e.expiredLanes|=M),n&=~M}if(t=ze,i=we,i=rn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Fi(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||rr(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Fi(s),Ra(i)){case 2:case 8:i=gs;break;case 32:i=yt;break;case 268435456:i=Yt;break;default:i=yt}return s=yf.bind(null,e),i=Xi(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Fi(s),e.callbackPriority=2,e.callbackNode=null,2}function yf(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Jn()&&e.callbackNode!==i)return null;var s=we;return s=rn(e,e===ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ef(e,s,t),Sf(e,et()),e.callbackNode!=null&&e.callbackNode===i?yf.bind(null,e):null)}function bf(e,t){if(Jn())return null;ef(e,t,!0)}function bv(){Mv(function(){(Oe&6)!==0?Xi(Si,yv):mf()})}function go(){if(Ui===0){var e=Hs;e===0&&(e=en,en<<=1,(en&261888)===0&&(en=256)),Ui=e}return Ui}function Cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:on(""+e)}function Ef(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Cv(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var n=Cf((r[dt]||null).action),p=s.submitter;p&&(t=(t=p[dt]||null)?Cf(t.formAction):p.getAttribute("formAction"),t!==null&&(n=t,p=null));var M=new fn("action","action",null,s,r);e.push({event:M,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ui!==0){var U=p?Ef(r,p):new FormData(r);Hl(i,{pending:!0,data:U,method:r.method,action:n},null,U)}}else typeof n=="function"&&(M.preventDefault(),U=p?Ef(r,p):new FormData(r),Hl(i,{pending:!0,data:U,method:r.method,action:n},n,U))},currentTarget:r}]})}}for(var po=0;po<Ja.length;po++){var mo=Ja[po],Ev=mo.toLowerCase(),wv=mo[0].toUpperCase()+mo.slice(1);Gt(Ev,"on"+wv)}Gt($c,"onAnimationEnd"),Gt(eu,"onAnimationIteration"),Gt(tu,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(q_,"onTransitionRun"),Gt(I_,"onTransitionStart"),Gt(Y_,"onTransitionCancel"),Gt(iu,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qr));function wf(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var n=void 0;if(t)for(var p=s.length-1;0<=p;p--){var M=s[p],U=M.instance,Q=M.currentTarget;if(M=M.listener,U!==n&&r.isPropagationStopped())break e;n=M,r.currentTarget=Q;try{n(r)}catch(re){vn(re)}r.currentTarget=null,n=U}else for(p=0;p<s.length;p++){if(M=s[p],U=M.instance,Q=M.currentTarget,M=M.listener,U!==n&&r.isPropagationStopped())break e;n=M,r.currentTarget=Q;try{n(r)}catch(re){vn(re)}r.currentTarget=null,n=U}}}}function Ee(e,t){var i=t[La];i===void 0&&(i=t[La]=new Set);var s=e+"__bubble";i.has(s)||(xf(t,e,2,!1),i.add(s))}function So(e,t,i){var s=0;t&&(s|=4),xf(i,e,s,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[ta]){e[ta]=!0,pc.forEach(function(i){i!=="selectionchange"&&(xv.has(i)||So(i,!1,e),So(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,So("selectionchange",!1,t))}}function xf(e,t,i,s){switch(ed(t)){case 2:var r=$v;break;case 8:r=eg;break;default:r=Ho}i=r.bind(null,t,i,e),r=void 0,!ja||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function bo(e,t,i,s,r){var n=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var M=s.stateNode.containerInfo;if(M===r)break;if(p===4)for(p=s.return;p!==null;){var U=p.tag;if((U===3||U===4)&&p.stateNode.containerInfo===r)return;p=p.return}for(;M!==null;){if(p=ms(M),p===null)return;if(U=p.tag,U===5||U===6||U===26||U===27){s=n=p;continue e}M=M.parentNode}}s=s.return}Rc(function(){var Q=n,re=za(i),ce=[];e:{var Z=su.get(e);if(Z!==void 0){var ee=fn,fe=e;switch(e){case"keypress":if(un(i)===0)break e;case"keydown":case"keyup":ee=m_;break;case"focusin":fe="focus",ee=Ga;break;case"focusout":fe="blur",ee=Ga;break;case"beforeblur":case"afterblur":ee=Ga;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=a_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b_;break;case $c:case eu:case tu:ee=c_;break;case iu:ee=E_;break;case"scroll":case"scrollend":ee=r_;break;case"wheel":ee=x_;break;case"copy":case"cut":case"paste":ee=h_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=kc;break;case"toggle":case"beforetoggle":ee=D_}var ge=(t&4)!==0,Ne=!ge&&(e==="scroll"||e==="scrollend"),V=ge?Z!==null?Z+"Capture":null:Z;ge=[];for(var K=Q,W;K!==null;){var le=K;if(W=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||W===null||V===null||(le=or(K,V),le!=null&&ge.push(Ir(K,le,W))),Ne)break;K=K.return}0<ge.length&&(Z=new ee(Z,fe,null,i,re),ce.push({event:Z,listeners:ge}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",Z&&i!==Na&&(fe=i.relatedTarget||i.fromElement)&&(ms(fe)||fe[ps]))break e;if((ee||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(fe=i.relatedTarget||i.toElement,ee=Q,fe=fe?ms(fe):null,fe!==null&&(Ne=te(fe),ge=fe.tag,fe!==Ne||ge!==5&&ge!==27&&ge!==6)&&(fe=null)):(ee=null,fe=Q),ee!==fe)){if(ge=Bc,le="onMouseLeave",V="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(ge=kc,le="onPointerLeave",V="onPointerEnter",K="pointer"),Ne=ee==null?Z:lr(ee),W=fe==null?Z:lr(fe),Z=new ge(le,K+"leave",ee,i,re),Z.target=Ne,Z.relatedTarget=W,le=null,ms(re)===Q&&(ge=new ge(V,K+"enter",fe,i,re),ge.target=W,ge.relatedTarget=Ne,le=ge),Ne=le,ee&&fe)t:{for(ge=Av,V=ee,K=fe,W=0,le=V;le;le=ge(le))W++;le=0;for(var ve=K;ve;ve=ge(ve))le++;for(;0<W-le;)V=ge(V),W--;for(;0<le-W;)K=ge(K),le--;for(;W--;){if(V===K||K!==null&&V===K.alternate){ge=V;break t}V=ge(V),K=ge(K)}ge=null}else ge=null;ee!==null&&Af(ce,Z,ee,ge,!1),fe!==null&&Ne!==null&&Af(ce,Ne,fe,ge,!0)}}e:{if(Z=Q?lr(Q):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var Re=Yc;else if(qc(Z))if(Gc)Re=z_;else{Re=H_;var _e=k_}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Ha(Q.elementType)&&(Re=Yc):Re=N_;if(Re&&(Re=Re(e,Q))){Ic(ce,Re,i,re);break e}_e&&_e(e,Z,Q),e==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&ka(Z,"number",Z.value)}switch(_e=Q?lr(Q):window,e){case"focusin":(qc(_e)||_e.contentEditable==="true")&&(Ds=_e,Wa=Q,gr=null);break;case"focusout":gr=Wa=Ds=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,Zc(ce,i,re);break;case"selectionchange":if(j_)break;case"keydown":case"keyup":Zc(ce,i,re)}var ye;if(Va)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else As?Uc(e,i)&&(xe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(Hc&&i.locale!=="ko"&&(As||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&As&&(ye=Lc()):(Ci=re,qa="value"in Ci?Ci.value:Ci.textContent,As=!0)),_e=ia(Q,xe),0<_e.length&&(xe=new Mc(xe,e,null,i,re),ce.push({event:xe,listeners:_e}),ye?xe.data=ye:(ye=jc(i),ye!==null&&(xe.data=ye)))),(ye=R_?L_(e,i):O_(e,i))&&(xe=ia(Q,"onBeforeInput"),0<xe.length&&(_e=new Mc("onBeforeInput","beforeinput",null,i,re),ce.push({event:_e,listeners:xe}),_e.data=ye)),Cv(ce,e,Q,i,re)}wf(ce,t)})}function Ir(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ia(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,n=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||n===null||(r=or(e,i),r!=null&&s.unshift(Ir(e,r,n)),r=or(e,t),r!=null&&s.push(Ir(e,r,n))),e.tag===3)return s;e=e.return}return[]}function Av(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Af(e,t,i,s,r){for(var n=t._reactName,p=[];i!==null&&i!==s;){var M=i,U=M.alternate,Q=M.stateNode;if(M=M.tag,U!==null&&U===s)break;M!==5&&M!==26&&M!==27||Q===null||(U=Q,r?(Q=or(i,n),Q!=null&&p.unshift(Ir(i,Q,U))):r||(Q=or(i,n),Q!=null&&p.push(Ir(i,Q,U)))),i=i.return}p.length!==0&&e.push({event:t,listeners:p})}var Dv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function Df(e){return(typeof e=="string"?e:""+e).replace(Dv,`
`).replace(Tv,"")}function Tf(e,t){return t=Df(t),Df(e)===t}function He(e,t,i,s,r,n){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Es(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Es(e,""+s);break;case"className":an(e,"class",s);break;case"tabIndex":an(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":an(e,i,s);break;case"style":Dc(e,s,n);break;case"data":if(t!=="object"){an(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=on(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof n=="function"&&(i==="formAction"?(t!=="input"&&He(e,t,"name",r.name,r,null),He(e,t,"formEncType",r.formEncType,r,null),He(e,t,"formMethod",r.formMethod,r,null),He(e,t,"formTarget",r.formTarget,r,null)):(He(e,t,"encType",r.encType,r,null),He(e,t,"method",r.method,r,null),He(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=on(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=ti);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(m(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(m(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=on(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),nn(e,"popover",s);break;case"xlinkActuate":ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ei(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ei(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ei(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ei(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":nn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=i_.get(i)||i,nn(e,i,s))}}function Co(e,t,i,s,r,n){switch(i){case"style":Dc(e,s,n);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(m(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(m(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Es(e,s):(typeof s=="number"||typeof s=="bigint")&&Es(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),n=e[dt]||null,n=n!=null?n[i]:null,typeof n=="function"&&e.removeEventListener(t,n,r),typeof s=="function")){typeof n!="function"&&n!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):nn(e,i,s)}}}function ct(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,r=!1,n;for(n in i)if(i.hasOwnProperty(n)){var p=i[n];if(p!=null)switch(n){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:He(e,t,n,p,i,null)}}r&&He(e,t,"srcSet",i.srcSet,i,null),s&&He(e,t,"src",i.src,i,null);return;case"input":Ee("invalid",e);var M=n=p=r=null,U=null,Q=null;for(s in i)if(i.hasOwnProperty(s)){var re=i[s];if(re!=null)switch(s){case"name":r=re;break;case"type":p=re;break;case"checked":U=re;break;case"defaultChecked":Q=re;break;case"value":n=re;break;case"defaultValue":M=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(m(137,t));break;default:He(e,t,s,re,i,null)}}Ec(e,n,M,U,Q,p,r,!1);return;case"select":Ee("invalid",e),s=p=n=null;for(r in i)if(i.hasOwnProperty(r)&&(M=i[r],M!=null))switch(r){case"value":n=M;break;case"defaultValue":p=M;break;case"multiple":s=M;default:He(e,t,r,M,i,null)}t=n,i=p,e.multiple=!!s,t!=null?Cs(e,!!s,t,!1):i!=null&&Cs(e,!!s,i,!0);return;case"textarea":Ee("invalid",e),n=r=s=null;for(p in i)if(i.hasOwnProperty(p)&&(M=i[p],M!=null))switch(p){case"value":s=M;break;case"defaultValue":r=M;break;case"children":n=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(m(91));break;default:He(e,t,p,M,i,null)}xc(e,s,r,n);return;case"option":for(U in i)if(i.hasOwnProperty(U)&&(s=i[U],s!=null))switch(U){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:He(e,t,U,s,i,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<qr.length;s++)Ee(qr[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in i)if(i.hasOwnProperty(Q)&&(s=i[Q],s!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,t));default:He(e,t,Q,s,i,null)}return;default:if(Ha(t)){for(re in i)i.hasOwnProperty(re)&&(s=i[re],s!==void 0&&Co(e,t,re,s,i,void 0));return}}for(M in i)i.hasOwnProperty(M)&&(s=i[M],s!=null&&He(e,t,M,s,i,null))}function Rv(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,n=null,p=null,M=null,U=null,Q=null,re=null;for(ee in i){var ce=i[ee];if(i.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":U=ce;default:s.hasOwnProperty(ee)||He(e,t,ee,null,s,ce)}}for(var Z in s){var ee=s[Z];if(ce=i[Z],s.hasOwnProperty(Z)&&(ee!=null||ce!=null))switch(Z){case"type":n=ee;break;case"name":r=ee;break;case"checked":Q=ee;break;case"defaultChecked":re=ee;break;case"value":p=ee;break;case"defaultValue":M=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(m(137,t));break;default:ee!==ce&&He(e,t,Z,ee,s,ce)}}Ma(e,p,M,U,Q,re,n,r);return;case"select":ee=p=M=Z=null;for(n in i)if(U=i[n],i.hasOwnProperty(n)&&U!=null)switch(n){case"value":break;case"multiple":ee=U;default:s.hasOwnProperty(n)||He(e,t,n,null,s,U)}for(r in s)if(n=s[r],U=i[r],s.hasOwnProperty(r)&&(n!=null||U!=null))switch(r){case"value":Z=n;break;case"defaultValue":M=n;break;case"multiple":p=n;default:n!==U&&He(e,t,r,n,s,U)}t=M,i=p,s=ee,Z!=null?Cs(e,!!i,Z,!1):!!s!=!!i&&(t!=null?Cs(e,!!i,t,!0):Cs(e,!!i,i?[]:"",!1));return;case"textarea":ee=Z=null;for(M in i)if(r=i[M],i.hasOwnProperty(M)&&r!=null&&!s.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:He(e,t,M,null,s,r)}for(p in s)if(r=s[p],n=i[p],s.hasOwnProperty(p)&&(r!=null||n!=null))switch(p){case"value":Z=r;break;case"defaultValue":ee=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(m(91));break;default:r!==n&&He(e,t,p,r,s,n)}wc(e,Z,ee);return;case"option":for(var fe in i)if(Z=i[fe],i.hasOwnProperty(fe)&&Z!=null&&!s.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:He(e,t,fe,null,s,Z)}for(U in s)if(Z=s[U],ee=i[U],s.hasOwnProperty(U)&&Z!==ee&&(Z!=null||ee!=null))switch(U){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:He(e,t,U,Z,s,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in i)Z=i[ge],i.hasOwnProperty(ge)&&Z!=null&&!s.hasOwnProperty(ge)&&He(e,t,ge,null,s,Z);for(Q in s)if(Z=s[Q],ee=i[Q],s.hasOwnProperty(Q)&&Z!==ee&&(Z!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(m(137,t));break;default:He(e,t,Q,Z,s,ee)}return;default:if(Ha(t)){for(var Ne in i)Z=i[Ne],i.hasOwnProperty(Ne)&&Z!==void 0&&!s.hasOwnProperty(Ne)&&Co(e,t,Ne,void 0,s,Z);for(re in s)Z=s[re],ee=i[re],!s.hasOwnProperty(re)||Z===ee||Z===void 0&&ee===void 0||Co(e,t,re,Z,s,ee);return}}for(var V in i)Z=i[V],i.hasOwnProperty(V)&&Z!=null&&!s.hasOwnProperty(V)&&He(e,t,V,null,s,Z);for(ce in s)Z=s[ce],ee=i[ce],!s.hasOwnProperty(ce)||Z===ee||Z==null&&ee==null||He(e,t,ce,Z,s,ee)}function Rf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var r=i[s],n=r.transferSize,p=r.initiatorType,M=r.duration;if(n&&M&&Rf(p)){for(p=0,M=r.responseEnd,s+=1;s<i.length;s++){var U=i[s],Q=U.startTime;if(Q>M)break;var re=U.transferSize,ce=U.initiatorType;re&&Rf(ce)&&(U=U.responseEnd,p+=re*(U<M?1:(M-Q)/(U-Q)))}if(--s,t+=8*(n+p)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Eo=null,wo=null;function sa(e){return e.nodeType===9?e:e.ownerDocument}function Lf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Of(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=null;function Ov(){var e=window.event;return e&&e.type==="popstate"?e===Ao?!1:(Ao=e,!0):(Ao=null,!1)}var Bf=typeof setTimeout=="function"?setTimeout:void 0,Bv=typeof clearTimeout=="function"?clearTimeout:void 0,Mf=typeof Promise=="function"?Promise:void 0,Mv=typeof queueMicrotask=="function"?queueMicrotask:typeof Mf<"u"?function(e){return Mf.resolve(null).then(e).catch(kv)}:Bf;function kv(e){setTimeout(function(){throw e})}function ji(e){return e==="head"}function kf(e,t){var i=t,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(r),er(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Yr(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Yr(i);for(var n=i.firstChild;n;){var p=n.nextSibling,M=n.nodeName;n[ar]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&n.rel.toLowerCase()==="stylesheet"||i.removeChild(n),n=p}}else i==="body"&&Yr(e.ownerDocument.body);i=r}while(i);er(t)}function Hf(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Do(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Do(i),Oa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Hv(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ar])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(n=e.getAttribute("rel"),n==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(n!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(n=e.getAttribute("src"),(n!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var n=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===n)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function Nv(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jt(e.nextSibling),e===null))return null;return e}function Nf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jt(e.nextSibling),e===null))return null;return e}function To(e){return e.data==="$?"||e.data==="$~"}function Ro(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zv(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lo=null;function zf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return jt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function jf(e,t,i){switch(t=sa(i),e){case"html":if(e=t.documentElement,!e)throw Error(m(452));return e;case"head":if(e=t.head,!e)throw Error(m(453));return e;case"body":if(e=t.body,!e)throw Error(m(454));return e;default:throw Error(m(451))}}function Yr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Oa(e)}var qt=new Map,qf=new Set;function ra(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pi=P.d;P.d={f:Uv,r:jv,D:qv,C:Iv,L:Yv,m:Gv,X:Vv,S:Kv,M:Pv};function Uv(){var e=pi.f(),t=Wn();return e||t}function jv(e){var t=Ss(e);t!==null&&t.tag===5&&t.type==="form"?ih(t):pi.r(e)}var Zs=typeof document>"u"?null:document;function If(e,t,i){var s=Zs;if(s&&typeof t=="string"&&t){var r=Bt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),qf.has(r)||(qf.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),ct(t,"link",e),st(t),s.head.appendChild(t)))}}function qv(e){pi.D(e),If("dns-prefetch",e,null)}function Iv(e,t){pi.C(e,t),If("preconnect",e,t)}function Yv(e,t,i){pi.L(e,t,i);var s=Zs;if(s&&e&&t){var r='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+Bt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+Bt(i.imageSizes)+'"]')):r+='[href="'+Bt(e)+'"]';var n=r;switch(t){case"style":n=Js(e);break;case"script":n=$s(e)}qt.has(n)||(e=f({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),qt.set(n,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Gr(n))||t==="script"&&s.querySelector(Kr(n))||(t=s.createElement("link"),ct(t,"link",e),st(t),s.head.appendChild(t)))}}function Gv(e,t){pi.m(e,t);var i=Zs;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Bt(s)+'"][href="'+Bt(e)+'"]',n=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=$s(e)}if(!qt.has(n)&&(e=f({rel:"modulepreload",href:e},t),qt.set(n,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Kr(n)))return}s=i.createElement("link"),ct(s,"link",e),st(s),i.head.appendChild(s)}}}function Kv(e,t,i){pi.S(e,t,i);var s=Zs;if(s&&e){var r=ys(s).hoistableStyles,n=Js(e);t=t||"default";var p=r.get(n);if(!p){var M={loading:0,preload:null};if(p=s.querySelector(Gr(n)))M.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},i),(i=qt.get(n))&&Oo(e,i);var U=p=s.createElement("link");st(U),ct(U,"link",e),U._p=new Promise(function(Q,re){U.onload=Q,U.onerror=re}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,na(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:M},r.set(n,p)}}}function Vv(e,t){pi.X(e,t);var i=Zs;if(i&&e){var s=ys(i).hoistableScripts,r=$s(e),n=s.get(r);n||(n=i.querySelector(Kr(r)),n||(e=f({src:e,async:!0},t),(t=qt.get(r))&&Bo(e,t),n=i.createElement("script"),st(n),ct(n,"link",e),i.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}}function Pv(e,t){pi.M(e,t);var i=Zs;if(i&&e){var s=ys(i).hoistableScripts,r=$s(e),n=s.get(r);n||(n=i.querySelector(Kr(r)),n||(e=f({src:e,async:!0,type:"module"},t),(t=qt.get(r))&&Bo(e,t),n=i.createElement("script"),st(n),ct(n,"link",e),i.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}}function Yf(e,t,i,s){var r=(r=de.current)?ra(r):null;if(!r)throw Error(m(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Js(i.href),i=ys(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Js(i.href);var n=ys(r).hoistableStyles,p=n.get(e);if(p||(r=r.ownerDocument||r,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},n.set(e,p),(n=r.querySelector(Gr(e)))&&!n._p&&(p.instance=n,p.state.loading=5),qt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qt.set(e,i),n||Xv(r,e,i,p.state))),t&&s===null)throw Error(m(528,""));return p}if(t&&s!==null)throw Error(m(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$s(i),i=ys(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,e))}}function Js(e){return'href="'+Bt(e)+'"'}function Gr(e){return'link[rel="stylesheet"]['+e+"]"}function Gf(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xv(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ct(t,"link",i),st(t),e.head.appendChild(t))}function $s(e){return'[src="'+Bt(e)+'"]'}function Kr(e){return"script[async]"+e}function Kf(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Bt(i.href)+'"]');if(s)return t.instance=s,st(s),s;var r=f({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),st(s),ct(s,"style",r),na(s,i.precedence,e),t.instance=s;case"stylesheet":r=Js(i.href);var n=e.querySelector(Gr(r));if(n)return t.state.loading|=4,t.instance=n,st(n),n;s=Gf(i),(r=qt.get(r))&&Oo(s,r),n=(e.ownerDocument||e).createElement("link"),st(n);var p=n;return p._p=new Promise(function(M,U){p.onload=M,p.onerror=U}),ct(n,"link",s),t.state.loading|=4,na(n,i.precedence,e),t.instance=n;case"script":return n=$s(i.src),(r=e.querySelector(Kr(n)))?(t.instance=r,st(r),r):(s=i,(r=qt.get(n))&&(s=f({},i),Bo(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),st(r),ct(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(m(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,na(s,i.precedence,e));return t.instance}function na(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,n=r,p=0;p<s.length;p++){var M=s[p];if(M.dataset.precedence===t)n=M;else if(n!==r)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Oo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var aa=null;function Vf(e,t,i){if(aa===null){var s=new Map,r=aa=new Map;r.set(i,s)}else r=aa,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var n=i[r];if(!(n[ar]||n[nt]||e==="link"&&n.getAttribute("rel")==="stylesheet")&&n.namespaceURI!=="http://www.w3.org/2000/svg"){var p=n.getAttribute(t)||"";p=e+p;var M=s.get(p);M?M.push(n):s.set(p,[n])}}return s}function Pf(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Fv(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Xf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wv(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=Js(s.href),n=t.querySelector(Gr(r));if(n){t=n._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=la.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=n,st(n);return}n=t.ownerDocument||t,s=Gf(s),(r=qt.get(r))&&Oo(s,r),n=n.createElement("link"),st(n);var p=n;p._p=new Promise(function(M,U){p.onload=M,p.onerror=U}),ct(n,"link",s),i.instance=n}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=la.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Mo=0;function Qv(e,t){return e.stylesheets&&e.count===0&&ca(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&ca(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4+t);0<e.imgBytes&&Mo===0&&(Mo=62500*Lv());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ca(e,e.stylesheets),e.unsuspend)){var n=e.unsuspend;e.unsuspend=null,n()}},(e.imgBytes>Mo?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function la(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ca(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oa=null;function ca(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oa=new Map,t.forEach(Zv,e),oa=null,la.call(e))}function Zv(e,t){if(!(t.state.loading&4)){var i=oa.get(e);if(i)var s=i.get(null);else{i=new Map,oa.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<r.length;n++){var p=r[n];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),s=p)}s&&i.set(null,s)}r=t.instance,p=r.getAttribute("data-precedence"),n=i.get(p)||s,n===s&&i.set(null,r),i.set(p,r),this.count++,s=la.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),n?n.parentNode.insertBefore(r,n.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Vr={$$typeof:c,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Jv(e,t,i,s,r,n,p,M,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=n,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Ff(e,t,i,s,r,n,p,M,U,Q,re,ce){return e=new Jv(e,t,i,p,U,Q,re,ce,M),t=1,n===!0&&(t|=24),n=wt(3,null,null,t),e.current=n,n.stateNode=e,t=hl(),t.refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:s,isDehydrated:i,cache:t},vl(n),e}function Wf(e){return e?(e=Ls,e):Ls}function Qf(e,t,i,s,r,n){r=Wf(r),s.context===null?s.context=r:s.pendingContext=r,s=Ti(t),s.payload={element:i},n=n===void 0?null:n,n!==null&&(s.callback=n),i=Ri(e,s,t),i!==null&&(St(i,e,t),Er(i,e,t))}function Zf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ko(e,t){Zf(e,t),(e=e.alternate)&&Zf(e,t)}function Jf(e){if(e.tag===13||e.tag===31){var t=is(e,67108864);t!==null&&St(t,e,67108864),ko(e,67108864)}}function $f(e){if(e.tag===13||e.tag===31){var t=Rt();t=Ta(t);var i=is(e,t);i!==null&&St(i,e,t),ko(e,t)}}var ua=!0;function $v(e,t,i,s){var r=j.T;j.T=null;var n=P.p;try{P.p=2,Ho(e,t,i,s)}finally{P.p=n,j.T=r}}function eg(e,t,i,s){var r=j.T;j.T=null;var n=P.p;try{P.p=8,Ho(e,t,i,s)}finally{P.p=n,j.T=r}}function Ho(e,t,i,s){if(ua){var r=No(s);if(r===null)bo(e,t,s,ha,i),td(e,s);else if(ig(r,e,t,i,s))s.stopPropagation();else if(td(e,s),t&4&&-1<tg.indexOf(e)){for(;r!==null;){var n=Ss(r);if(n!==null)switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var p=Zi(n.pendingLanes);if(p!==0){var M=n;for(M.pendingLanes|=2,M.entangledLanes|=2;p;){var U=1<<31-Ct(p);M.entanglements[1]|=U,p&=~U}Zt(n),(Oe&6)===0&&(Xn=et()+500,jr(0))}}break;case 31:case 13:M=is(n,2),M!==null&&St(M,n,2),Wn(),ko(n,2)}if(n=No(s),n===null&&bo(e,t,s,ha,i),n===r)break;r=n}r!==null&&s.stopPropagation()}else bo(e,t,s,null,i)}}function No(e){return e=za(e),zo(e)}var ha=null;function zo(e){if(ha=null,e=ms(e),e!==null){var t=te(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=X(t),e!==null)return e;e=null}else if(i===31){if(e=u(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ha=e,null}function ed(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case Si:return 2;case gs:return 8;case yt:case sr:return 32;case Yt:return 268435456;default:return 32}default:return 32}}var Uo=!1,qi=null,Ii=null,Yi=null,Pr=new Map,Xr=new Map,Gi=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function td(e,t){switch(e){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(t.pointerId)}}function Fr(e,t,i,s,r,n){return e===null||e.nativeEvent!==n?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:n,targetContainers:[r]},t!==null&&(t=Ss(t),t!==null&&Jf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function ig(e,t,i,s,r){switch(t){case"focusin":return qi=Fr(qi,e,t,i,s,r),!0;case"dragenter":return Ii=Fr(Ii,e,t,i,s,r),!0;case"mouseover":return Yi=Fr(Yi,e,t,i,s,r),!0;case"pointerover":var n=r.pointerId;return Pr.set(n,Fr(Pr.get(n)||null,e,t,i,s,r)),!0;case"gotpointercapture":return n=r.pointerId,Xr.set(n,Fr(Xr.get(n)||null,e,t,i,s,r)),!0}return!1}function id(e){var t=ms(e.target);if(t!==null){var i=te(t);if(i!==null){if(t=i.tag,t===13){if(t=X(i),t!==null){e.blockedOn=t,vc(e.priority,function(){$f(i)});return}}else if(t===31){if(t=u(i),t!==null){e.blockedOn=t,vc(e.priority,function(){$f(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=No(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Na=s,i.target.dispatchEvent(s),Na=null}else return t=Ss(i),t!==null&&Jf(t),e.blockedOn=i,!1;t.shift()}return!0}function sd(e,t,i){fa(e)&&i.delete(t)}function sg(){Uo=!1,qi!==null&&fa(qi)&&(qi=null),Ii!==null&&fa(Ii)&&(Ii=null),Yi!==null&&fa(Yi)&&(Yi=null),Pr.forEach(sd),Xr.forEach(sd)}function da(e,t){e.blockedOn===t&&(e.blockedOn=null,Uo||(Uo=!0,w.unstable_scheduleCallback(w.unstable_NormalPriority,sg)))}var _a=null;function rd(e){_a!==e&&(_a=e,w.unstable_scheduleCallback(w.unstable_NormalPriority,function(){_a===e&&(_a=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(zo(s||i)===null)continue;break}var n=Ss(i);n!==null&&(e.splice(t,3),t-=3,Hl(n,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function er(e){function t(U){return da(U,e)}qi!==null&&da(qi,e),Ii!==null&&da(Ii,e),Yi!==null&&da(Yi,e),Pr.forEach(t),Xr.forEach(t);for(var i=0;i<Gi.length;i++){var s=Gi[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Gi.length&&(i=Gi[0],i.blockedOn===null);)id(i),i.blockedOn===null&&Gi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],n=i[s+1],p=r[dt]||null;if(typeof n=="function")p||rd(i);else if(p){var M=null;if(n&&n.hasAttribute("formAction")){if(r=n,p=n[dt]||null)M=p.formAction;else if(zo(r)!==null)continue}else M=p.action;typeof M=="function"?i[s+1]=M:(i.splice(s,3),s-=3),rd(i)}}}function nd(){function e(n){n.canIntercept&&n.info==="react-transition"&&n.intercept({handler:function(){return new Promise(function(p){return r=p})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var n=navigation.currentEntry;n&&n.url!=null&&navigation.navigate(n.url,{state:n.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function jo(e){this._internalRoot=e}va.prototype.render=jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(m(409));var i=t.current,s=Rt();Qf(i,s,e,t,null,null)},va.prototype.unmount=jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qf(e.current,2,null,e,null,null),Wn(),t[ps]=null}};function va(e){this._internalRoot=e}va.prototype.unstable_scheduleHydration=function(e){if(e){var t=_c();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Gi.length&&t!==0&&t<Gi[i].priority;i++);Gi.splice(i,0,e),i===0&&id(e)}};var ad=_.version;if(ad!=="19.2.4")throw Error(m(527,ad,"19.2.4"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=d(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var rg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{Qi=ga.inject(rg),bt=ga}catch{}}return Qr.createRoot=function(e,t){if(!Y(e))throw Error(m(299));var i=!1,s="",r=fh,n=dh,p=_h;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(n=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Ff(e,1,!1,null,null,i,s,null,r,n,p,nd),e[ps]=t.current,yo(e),new jo(t)},Qr.hydrateRoot=function(e,t,i){if(!Y(e))throw Error(m(299));var s=!1,r="",n=fh,p=dh,M=_h,U=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(n=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(M=i.onRecoverableError),i.formState!==void 0&&(U=i.formState)),t=Ff(e,1,!0,t,i??null,s,r,U,n,p,M,nd),t.context=Wf(null),i=t.current,s=Rt(),s=Ta(s),r=Ti(s),r.callback=null,Ri(i,r,s),i=s,t.current.lanes=i,nr(t,i),Zt(t),e[ps]=t.current,yo(e),new va(t)},Qr.version="19.2.4",Qr}var gd;function vg(){if(gd)return Yo.exports;gd=1;function w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w)}catch(_){console.error(_)}}return w(),Yo.exports=_g(),Yo.exports}var gg=vg();const pg=Td(gg);var Xe=(w=>(w.IDLE="idle",w.RUNNING="running",w.STOPPED="stopped",w.STARTING="starting",w))(Xe||{}),Jr=(w=>(w.NODE1="NODE1",w.NODE2="NODE2",w))(Jr||{});const tr="",mg=async()=>await(await fetch(`${tr}/api/docker/status`)).json(),Sg=async()=>await(await fetch(`${tr}/api/tasks`)).json(),yg=async w=>{const _=await fetch(`${tr}/api/task/${w}/start`,{method:"POST"}),y=await _.json();return _.ok&&(y==null?void 0:y.ok)===!0},bg=async w=>{const _=await fetch(`${tr}/api/task/${w}/stop`,{method:"POST"}),y=await _.json();return _.ok&&(y==null?void 0:y.ok)===!0},Cg=async w=>{const _=await fetch(`${tr}/api/task/${w}/reset`,{method:"POST"}),y=await _.json();return _.ok&&(y==null?void 0:y.ok)===!0},Eg=async w=>await(await fetch(`${tr}/api/task/${w}/check`,{method:"POST"})).json(),wg=({className:w})=>J.jsxs("svg",{viewBox:"0 0 1024 1024",className:w,xmlns:"http://www.w3.org/2000/svg",children:[J.jsx("path",{fill:"#FF0000",d:"M512.4 20.4c-68.5 0-141.2 43.1-238.2 43.1-21.6 0-32.9 5.3-39.7 15.9-6.8 10.6-8.8 26.1-5.9 44.5 13.5 83.1 53.3 192.5 53.3 268.4 0 6.6 0.1 13.1 0.4 19.5-121.5 6.3-270.3 84.7-270.3 266.3 0 166.7 225.4 325 512.4 325s512.4-158.3 512.4-325c0-181.6-148.8-260-270.3-266.3 0.3-6.4 0.4-12.9 0.4-19.5 0-75.9 39.8-185.3 53.3-268.4 2.9-18.4 0.9-33.9-5.9-44.5-6.8-10.6-18.1-15.9-39.7-15.9-97 0-169.7-43.1-238.2-43.1z"}),J.jsx("path",{fill:"#000000",d:"M271.8 320.1c-13.8 61.2-24.3 135.6-24.3 205.9 0 6.4 0.1 12.8 0.3 19.1 84.2 78.5 169.7 116.3 264.6 116.3s180.4-37.8 264.6-116.3c0.2-6.3 0.3-12.7 0.3-19.1 0-70.3-10.5-144.7-24.3-205.9-106.8 91.5-240.3 134.7-481.2 100z",transform:"translate(0, 50)"})]}),pd=({className:w})=>J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:[J.jsx("polyline",{points:"4 17 10 11 4 5"}),J.jsx("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]}),md=({className:w})=>J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:[J.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),J.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),J.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),J.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),J.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),J.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),xg=({className:w})=>J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:[J.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),J.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),pa=({className:w})=>J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:[J.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),J.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Ag=({className:w})=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:J.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Dg=({className:w})=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:J.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),Tg=({className:w})=>J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:[J.jsx("path",{d:"M1 4v6h6"}),J.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),Rg=({className:w})=>J.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:w,children:[J.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),J.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),J.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),$t=Object.create(null);$t.open="0";$t.close="1";$t.ping="2";$t.pong="3";$t.message="4";$t.upgrade="5";$t.noop="6";const ba=Object.create(null);Object.keys($t).forEach(w=>{ba[$t[w]]=w});const Jo={type:"error",data:"parser error"},Rd=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ld=typeof ArrayBuffer=="function",Od=w=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(w):w&&w.buffer instanceof ArrayBuffer,nc=({type:w,data:_},y,m)=>Rd&&_ instanceof Blob?y?m(_):Sd(_,m):Ld&&(_ instanceof ArrayBuffer||Od(_))?y?m(_):Sd(new Blob([_]),m):m($t[w]+(_||"")),Sd=(w,_)=>{const y=new FileReader;return y.onload=function(){const m=y.result.split(",")[1];_("b"+(m||""))},y.readAsDataURL(w)};function yd(w){return w instanceof Uint8Array?w:w instanceof ArrayBuffer?new Uint8Array(w):new Uint8Array(w.buffer,w.byteOffset,w.byteLength)}let Po;function Lg(w,_){if(Rd&&w.data instanceof Blob)return w.data.arrayBuffer().then(yd).then(_);if(Ld&&(w.data instanceof ArrayBuffer||Od(w.data)))return _(yd(w.data));nc(w,!1,y=>{Po||(Po=new TextEncoder),_(Po.encode(y))})}const bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$r=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let w=0;w<bd.length;w++)$r[bd.charCodeAt(w)]=w;const Og=w=>{let _=w.length*.75,y=w.length,m,Y=0,te,X,u,h;w[w.length-1]==="="&&(_--,w[w.length-2]==="="&&_--);const d=new ArrayBuffer(_),E=new Uint8Array(d);for(m=0;m<y;m+=4)te=$r[w.charCodeAt(m)],X=$r[w.charCodeAt(m+1)],u=$r[w.charCodeAt(m+2)],h=$r[w.charCodeAt(m+3)],E[Y++]=te<<2|X>>4,E[Y++]=(X&15)<<4|u>>2,E[Y++]=(u&3)<<6|h&63;return d},Bg=typeof ArrayBuffer=="function",ac=(w,_)=>{if(typeof w!="string")return{type:"message",data:Bd(w,_)};const y=w.charAt(0);return y==="b"?{type:"message",data:Mg(w.substring(1),_)}:ba[y]?w.length>1?{type:ba[y],data:w.substring(1)}:{type:ba[y]}:Jo},Mg=(w,_)=>{if(Bg){const y=Og(w);return Bd(y,_)}else return{base64:!0,data:w}},Bd=(w,_)=>{switch(_){case"blob":return w instanceof Blob?w:new Blob([w]);case"arraybuffer":default:return w instanceof ArrayBuffer?w:w.buffer}},Md="",kg=(w,_)=>{const y=w.length,m=new Array(y);let Y=0;w.forEach((te,X)=>{nc(te,!1,u=>{m[X]=u,++Y===y&&_(m.join(Md))})})},Hg=(w,_)=>{const y=w.split(Md),m=[];for(let Y=0;Y<y.length;Y++){const te=ac(y[Y],_);if(m.push(te),te.type==="error")break}return m};function Ng(){return new TransformStream({transform(w,_){Lg(w,y=>{const m=y.length;let Y;if(m<126)Y=new Uint8Array(1),new DataView(Y.buffer).setUint8(0,m);else if(m<65536){Y=new Uint8Array(3);const te=new DataView(Y.buffer);te.setUint8(0,126),te.setUint16(1,m)}else{Y=new Uint8Array(9);const te=new DataView(Y.buffer);te.setUint8(0,127),te.setBigUint64(1,BigInt(m))}w.data&&typeof w.data!="string"&&(Y[0]|=128),_.enqueue(Y),_.enqueue(y)})}})}let Xo;function ma(w){return w.reduce((_,y)=>_+y.length,0)}function Sa(w,_){if(w[0].length===_)return w.shift();const y=new Uint8Array(_);let m=0;for(let Y=0;Y<_;Y++)y[Y]=w[0][m++],m===w[0].length&&(w.shift(),m=0);return w.length&&m<w[0].length&&(w[0]=w[0].slice(m)),y}function zg(w,_){Xo||(Xo=new TextDecoder);const y=[];let m=0,Y=-1,te=!1;return new TransformStream({transform(X,u){for(y.push(X);;){if(m===0){if(ma(y)<1)break;const h=Sa(y,1);te=(h[0]&128)===128,Y=h[0]&127,Y<126?m=3:Y===126?m=1:m=2}else if(m===1){if(ma(y)<2)break;const h=Sa(y,2);Y=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),m=3}else if(m===2){if(ma(y)<8)break;const h=Sa(y,8),d=new DataView(h.buffer,h.byteOffset,h.length),E=d.getUint32(0);if(E>Math.pow(2,21)-1){u.enqueue(Jo);break}Y=E*Math.pow(2,32)+d.getUint32(4),m=3}else{if(ma(y)<Y)break;const h=Sa(y,Y);u.enqueue(ac(te?h:Xo.decode(h),_)),m=0}if(Y===0||Y>w){u.enqueue(Jo);break}}}})}const kd=4;function $e(w){if(w)return Ug(w)}function Ug(w){for(var _ in $e.prototype)w[_]=$e.prototype[_];return w}$e.prototype.on=$e.prototype.addEventListener=function(w,_){return this._callbacks=this._callbacks||{},(this._callbacks["$"+w]=this._callbacks["$"+w]||[]).push(_),this};$e.prototype.once=function(w,_){function y(){this.off(w,y),_.apply(this,arguments)}return y.fn=_,this.on(w,y),this};$e.prototype.off=$e.prototype.removeListener=$e.prototype.removeAllListeners=$e.prototype.removeEventListener=function(w,_){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var y=this._callbacks["$"+w];if(!y)return this;if(arguments.length==1)return delete this._callbacks["$"+w],this;for(var m,Y=0;Y<y.length;Y++)if(m=y[Y],m===_||m.fn===_){y.splice(Y,1);break}return y.length===0&&delete this._callbacks["$"+w],this};$e.prototype.emit=function(w){this._callbacks=this._callbacks||{};for(var _=new Array(arguments.length-1),y=this._callbacks["$"+w],m=1;m<arguments.length;m++)_[m-1]=arguments[m];if(y){y=y.slice(0);for(var m=0,Y=y.length;m<Y;++m)y[m].apply(this,_)}return this};$e.prototype.emitReserved=$e.prototype.emit;$e.prototype.listeners=function(w){return this._callbacks=this._callbacks||{},this._callbacks["$"+w]||[]};$e.prototype.hasListeners=function(w){return!!this.listeners(w).length};const xa=typeof Promise=="function"&&typeof Promise.resolve=="function"?_=>Promise.resolve().then(_):(_,y)=>y(_,0),It=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jg="arraybuffer";function Hd(w,..._){return _.reduce((y,m)=>(w.hasOwnProperty(m)&&(y[m]=w[m]),y),{})}const qg=It.setTimeout,Ig=It.clearTimeout;function Aa(w,_){_.useNativeTimers?(w.setTimeoutFn=qg.bind(It),w.clearTimeoutFn=Ig.bind(It)):(w.setTimeoutFn=It.setTimeout.bind(It),w.clearTimeoutFn=It.clearTimeout.bind(It))}const Yg=1.33;function Gg(w){return typeof w=="string"?Kg(w):Math.ceil((w.byteLength||w.size)*Yg)}function Kg(w){let _=0,y=0;for(let m=0,Y=w.length;m<Y;m++)_=w.charCodeAt(m),_<128?y+=1:_<2048?y+=2:_<55296||_>=57344?y+=3:(m++,y+=4);return y}function Nd(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Vg(w){let _="";for(let y in w)w.hasOwnProperty(y)&&(_.length&&(_+="&"),_+=encodeURIComponent(y)+"="+encodeURIComponent(w[y]));return _}function Pg(w){let _={},y=w.split("&");for(let m=0,Y=y.length;m<Y;m++){let te=y[m].split("=");_[decodeURIComponent(te[0])]=decodeURIComponent(te[1])}return _}class Xg extends Error{constructor(_,y,m){super(_),this.description=y,this.context=m,this.type="TransportError"}}class lc extends $e{constructor(_){super(),this.writable=!1,Aa(this,_),this.opts=_,this.query=_.query,this.socket=_.socket,this.supportsBinary=!_.forceBase64}onError(_,y,m){return super.emitReserved("error",new Xg(_,y,m)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(_){this.readyState==="open"&&this.write(_)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(_){const y=ac(_,this.socket.binaryType);this.onPacket(y)}onPacket(_){super.emitReserved("packet",_)}onClose(_){this.readyState="closed",super.emitReserved("close",_)}pause(_){}createUri(_,y={}){return _+"://"+this._hostname()+this._port()+this.opts.path+this._query(y)}_hostname(){const _=this.opts.hostname;return _.indexOf(":")===-1?_:"["+_+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(_){const y=Vg(_);return y.length?"?"+y:""}}class Fg extends lc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(_){this.readyState="pausing";const y=()=>{this.readyState="paused",_()};if(this._polling||!this.writable){let m=0;this._polling&&(m++,this.once("pollComplete",function(){--m||y()})),this.writable||(m++,this.once("drain",function(){--m||y()}))}else y()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(_){const y=m=>{if(this.readyState==="opening"&&m.type==="open"&&this.onOpen(),m.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(m)};Hg(_,this.socket.binaryType).forEach(y),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const _=()=>{this.write([{type:"close"}])};this.readyState==="open"?_():this.once("open",_)}write(_){this.writable=!1,kg(_,y=>{this.doWrite(y,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const _=this.opts.secure?"https":"http",y=this.query||{};return this.opts.timestampRequests!==!1&&(y[this.opts.timestampParam]=Nd()),!this.supportsBinary&&!y.sid&&(y.b64=1),this.createUri(_,y)}}let zd=!1;try{zd=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wg=zd;function Qg(){}class Zg extends Fg{constructor(_){if(super(_),typeof location<"u"){const y=location.protocol==="https:";let m=location.port;m||(m=y?"443":"80"),this.xd=typeof location<"u"&&_.hostname!==location.hostname||m!==_.port}}doWrite(_,y){const m=this.request({method:"POST",data:_});m.on("success",y),m.on("error",(Y,te)=>{this.onError("xhr post error",Y,te)})}doPoll(){const _=this.request();_.on("data",this.onData.bind(this)),_.on("error",(y,m)=>{this.onError("xhr poll error",y,m)}),this.pollXhr=_}}class Jt extends $e{constructor(_,y,m){super(),this.createRequest=_,Aa(this,m),this._opts=m,this._method=m.method||"GET",this._uri=y,this._data=m.data!==void 0?m.data:null,this._create()}_create(){var _;const y=Hd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");y.xdomain=!!this._opts.xd;const m=this._xhr=this.createRequest(y);try{m.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){m.setDisableHeaderCheck&&m.setDisableHeaderCheck(!0);for(let Y in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(Y)&&m.setRequestHeader(Y,this._opts.extraHeaders[Y])}}catch{}if(this._method==="POST")try{m.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{m.setRequestHeader("Accept","*/*")}catch{}(_=this._opts.cookieJar)===null||_===void 0||_.addCookies(m),"withCredentials"in m&&(m.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(m.timeout=this._opts.requestTimeout),m.onreadystatechange=()=>{var Y;m.readyState===3&&((Y=this._opts.cookieJar)===null||Y===void 0||Y.parseCookies(m.getResponseHeader("set-cookie"))),m.readyState===4&&(m.status===200||m.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof m.status=="number"?m.status:0)},0))},m.send(this._data)}catch(Y){this.setTimeoutFn(()=>{this._onError(Y)},0);return}typeof document<"u"&&(this._index=Jt.requestsCount++,Jt.requests[this._index]=this)}_onError(_){this.emitReserved("error",_,this._xhr),this._cleanup(!0)}_cleanup(_){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Qg,_)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Jt.requests[this._index],this._xhr=null}}_onLoad(){const _=this._xhr.responseText;_!==null&&(this.emitReserved("data",_),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Jt.requestsCount=0;Jt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Cd);else if(typeof addEventListener=="function"){const w="onpagehide"in It?"pagehide":"unload";addEventListener(w,Cd,!1)}}function Cd(){for(let w in Jt.requests)Jt.requests.hasOwnProperty(w)&&Jt.requests[w].abort()}const Jg=(function(){const w=Ud({xdomain:!1});return w&&w.responseType!==null})();class $g extends Zg{constructor(_){super(_);const y=_&&_.forceBase64;this.supportsBinary=Jg&&!y}request(_={}){return Object.assign(_,{xd:this.xd},this.opts),new Jt(Ud,this.uri(),_)}}function Ud(w){const _=w.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!_||Wg))return new XMLHttpRequest}catch{}if(!_)try{return new It[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const jd=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ep extends lc{get name(){return"websocket"}doOpen(){const _=this.uri(),y=this.opts.protocols,m=jd?{}:Hd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(m.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(_,y,m)}catch(Y){return this.emitReserved("error",Y)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=_=>this.onClose({description:"websocket connection closed",context:_}),this.ws.onmessage=_=>this.onData(_.data),this.ws.onerror=_=>this.onError("websocket error",_)}write(_){this.writable=!1;for(let y=0;y<_.length;y++){const m=_[y],Y=y===_.length-1;nc(m,this.supportsBinary,te=>{try{this.doWrite(m,te)}catch{}Y&&xa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const _=this.opts.secure?"wss":"ws",y=this.query||{};return this.opts.timestampRequests&&(y[this.opts.timestampParam]=Nd()),this.supportsBinary||(y.b64=1),this.createUri(_,y)}}const Fo=It.WebSocket||It.MozWebSocket;class tp extends ep{createSocket(_,y,m){return jd?new Fo(_,y,m):y?new Fo(_,y):new Fo(_)}doWrite(_,y){this.ws.send(y)}}class ip extends lc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(_){return this.emitReserved("error",_)}this._transport.closed.then(()=>{this.onClose()}).catch(_=>{this.onError("webtransport error",_)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(_=>{const y=zg(Number.MAX_SAFE_INTEGER,this.socket.binaryType),m=_.readable.pipeThrough(y).getReader(),Y=Ng();Y.readable.pipeTo(_.writable),this._writer=Y.writable.getWriter();const te=()=>{m.read().then(({done:u,value:h})=>{u||(this.onPacket(h),te())}).catch(u=>{})};te();const X={type:"open"};this.query.sid&&(X.data=`{"sid":"${this.query.sid}"}`),this._writer.write(X).then(()=>this.onOpen())})})}write(_){this.writable=!1;for(let y=0;y<_.length;y++){const m=_[y],Y=y===_.length-1;this._writer.write(m).then(()=>{Y&&xa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var _;(_=this._transport)===null||_===void 0||_.close()}}const sp={websocket:tp,webtransport:ip,polling:$g},rp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,np=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $o(w){if(w.length>8e3)throw"URI too long";const _=w,y=w.indexOf("["),m=w.indexOf("]");y!=-1&&m!=-1&&(w=w.substring(0,y)+w.substring(y,m).replace(/:/g,";")+w.substring(m,w.length));let Y=rp.exec(w||""),te={},X=14;for(;X--;)te[np[X]]=Y[X]||"";return y!=-1&&m!=-1&&(te.source=_,te.host=te.host.substring(1,te.host.length-1).replace(/;/g,":"),te.authority=te.authority.replace("[","").replace("]","").replace(/;/g,":"),te.ipv6uri=!0),te.pathNames=ap(te,te.path),te.queryKey=lp(te,te.query),te}function ap(w,_){const y=/\/{2,9}/g,m=_.replace(y,"/").split("/");return(_.slice(0,1)=="/"||_.length===0)&&m.splice(0,1),_.slice(-1)=="/"&&m.splice(m.length-1,1),m}function lp(w,_){const y={};return _.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m,Y,te){Y&&(y[Y]=te)}),y}const ec=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ca=[];ec&&addEventListener("offline",()=>{Ca.forEach(w=>w())},!1);class Vi extends $e{constructor(_,y){if(super(),this.binaryType=jg,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,_&&typeof _=="object"&&(y=_,_=null),_){const m=$o(_);y.hostname=m.host,y.secure=m.protocol==="https"||m.protocol==="wss",y.port=m.port,m.query&&(y.query=m.query)}else y.host&&(y.hostname=$o(y.host).host);Aa(this,y),this.secure=y.secure!=null?y.secure:typeof location<"u"&&location.protocol==="https:",y.hostname&&!y.port&&(y.port=this.secure?"443":"80"),this.hostname=y.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=y.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},y.transports.forEach(m=>{const Y=m.prototype.name;this.transports.push(Y),this._transportsByName[Y]=m}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},y),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Pg(this.opts.query)),ec&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ca.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(_){const y=Object.assign({},this.opts.query);y.EIO=kd,y.transport=_,this.id&&(y.sid=this.id);const m=Object.assign({},this.opts,{query:y,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[_]);return new this._transportsByName[_](m)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const _=this.opts.rememberUpgrade&&Vi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const y=this.createTransport(_);y.open(),this.setTransport(y)}setTransport(_){this.transport&&this.transport.removeAllListeners(),this.transport=_,_.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",y=>this._onClose("transport close",y))}onOpen(){this.readyState="open",Vi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(_){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",_),this.emitReserved("heartbeat"),_.type){case"open":this.onHandshake(JSON.parse(_.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const y=new Error("server error");y.code=_.data,this._onError(y);break;case"message":this.emitReserved("data",_.data),this.emitReserved("message",_.data);break}}onHandshake(_){this.emitReserved("handshake",_),this.id=_.sid,this.transport.query.sid=_.sid,this._pingInterval=_.pingInterval,this._pingTimeout=_.pingTimeout,this._maxPayload=_.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const _=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+_,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},_),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const _=this._getWritablePackets();this.transport.send(_),this._prevBufferLen=_.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let y=1;for(let m=0;m<this.writeBuffer.length;m++){const Y=this.writeBuffer[m].data;if(Y&&(y+=Gg(Y)),m>0&&y>this._maxPayload)return this.writeBuffer.slice(0,m);y+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const _=Date.now()>this._pingTimeoutTime;return _&&(this._pingTimeoutTime=0,xa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),_}write(_,y,m){return this._sendPacket("message",_,y,m),this}send(_,y,m){return this._sendPacket("message",_,y,m),this}_sendPacket(_,y,m,Y){if(typeof y=="function"&&(Y=y,y=void 0),typeof m=="function"&&(Y=m,m=null),this.readyState==="closing"||this.readyState==="closed")return;m=m||{},m.compress=m.compress!==!1;const te={type:_,data:y,options:m};this.emitReserved("packetCreate",te),this.writeBuffer.push(te),Y&&this.once("flush",Y),this.flush()}close(){const _=()=>{this._onClose("forced close"),this.transport.close()},y=()=>{this.off("upgrade",y),this.off("upgradeError",y),_()},m=()=>{this.once("upgrade",y),this.once("upgradeError",y)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?m():_()}):this.upgrading?m():_()),this}_onError(_){if(Vi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",_),this._onClose("transport error",_)}_onClose(_,y){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ec&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const m=Ca.indexOf(this._offlineEventListener);m!==-1&&Ca.splice(m,1)}this.readyState="closed",this.id=null,this.emitReserved("close",_,y),this.writeBuffer=[],this._prevBufferLen=0}}}Vi.protocol=kd;class op extends Vi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let _=0;_<this._upgrades.length;_++)this._probe(this._upgrades[_])}_probe(_){let y=this.createTransport(_),m=!1;Vi.priorWebsocketSuccess=!1;const Y=()=>{m||(y.send([{type:"ping",data:"probe"}]),y.once("packet",f=>{if(!m)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",y),!y)return;Vi.priorWebsocketSuccess=y.name==="websocket",this.transport.pause(()=>{m||this.readyState!=="closed"&&(E(),this.setTransport(y),y.send([{type:"upgrade"}]),this.emitReserved("upgrade",y),y=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=y.name,this.emitReserved("upgradeError",b)}}))};function te(){m||(m=!0,E(),y.close(),y=null)}const X=f=>{const b=new Error("probe error: "+f);b.transport=y.name,te(),this.emitReserved("upgradeError",b)};function u(){X("transport closed")}function h(){X("socket closed")}function d(f){y&&f.name!==y.name&&te()}const E=()=>{y.removeListener("open",Y),y.removeListener("error",X),y.removeListener("close",u),this.off("close",h),this.off("upgrading",d)};y.once("open",Y),y.once("error",X),y.once("close",u),this.once("close",h),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&_!=="webtransport"?this.setTimeoutFn(()=>{m||y.open()},200):y.open()}onHandshake(_){this._upgrades=this._filterUpgrades(_.upgrades),super.onHandshake(_)}_filterUpgrades(_){const y=[];for(let m=0;m<_.length;m++)~this.transports.indexOf(_[m])&&y.push(_[m]);return y}}let cp=class extends op{constructor(_,y={}){const m=typeof _=="object"?_:y;(!m.transports||m.transports&&typeof m.transports[0]=="string")&&(m.transports=(m.transports||["polling","websocket","webtransport"]).map(Y=>sp[Y]).filter(Y=>!!Y)),super(_,m)}};function up(w,_="",y){let m=w;y=y||typeof location<"u"&&location,w==null&&(w=y.protocol+"//"+y.host),typeof w=="string"&&(w.charAt(0)==="/"&&(w.charAt(1)==="/"?w=y.protocol+w:w=y.host+w),/^(https?|wss?):\/\//.test(w)||(typeof y<"u"?w=y.protocol+"//"+w:w="https://"+w),m=$o(w)),m.port||(/^(http|ws)$/.test(m.protocol)?m.port="80":/^(http|ws)s$/.test(m.protocol)&&(m.port="443")),m.path=m.path||"/";const te=m.host.indexOf(":")!==-1?"["+m.host+"]":m.host;return m.id=m.protocol+"://"+te+":"+m.port+_,m.href=m.protocol+"://"+te+(y&&y.port===m.port?"":":"+m.port),m}const hp=typeof ArrayBuffer=="function",fp=w=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(w):w.buffer instanceof ArrayBuffer,qd=Object.prototype.toString,dp=typeof Blob=="function"||typeof Blob<"u"&&qd.call(Blob)==="[object BlobConstructor]",_p=typeof File=="function"||typeof File<"u"&&qd.call(File)==="[object FileConstructor]";function oc(w){return hp&&(w instanceof ArrayBuffer||fp(w))||dp&&w instanceof Blob||_p&&w instanceof File}function Ea(w,_){if(!w||typeof w!="object")return!1;if(Array.isArray(w)){for(let y=0,m=w.length;y<m;y++)if(Ea(w[y]))return!0;return!1}if(oc(w))return!0;if(w.toJSON&&typeof w.toJSON=="function"&&arguments.length===1)return Ea(w.toJSON(),!0);for(const y in w)if(Object.prototype.hasOwnProperty.call(w,y)&&Ea(w[y]))return!0;return!1}function vp(w){const _=[],y=w.data,m=w;return m.data=tc(y,_),m.attachments=_.length,{packet:m,buffers:_}}function tc(w,_){if(!w)return w;if(oc(w)){const y={_placeholder:!0,num:_.length};return _.push(w),y}else if(Array.isArray(w)){const y=new Array(w.length);for(let m=0;m<w.length;m++)y[m]=tc(w[m],_);return y}else if(typeof w=="object"&&!(w instanceof Date)){const y={};for(const m in w)Object.prototype.hasOwnProperty.call(w,m)&&(y[m]=tc(w[m],_));return y}return w}function gp(w,_){return w.data=ic(w.data,_),delete w.attachments,w}function ic(w,_){if(!w)return w;if(w&&w._placeholder===!0){if(typeof w.num=="number"&&w.num>=0&&w.num<_.length)return _[w.num];throw new Error("illegal attachments")}else if(Array.isArray(w))for(let y=0;y<w.length;y++)w[y]=ic(w[y],_);else if(typeof w=="object")for(const y in w)Object.prototype.hasOwnProperty.call(w,y)&&(w[y]=ic(w[y],_));return w}const pp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var De;(function(w){w[w.CONNECT=0]="CONNECT",w[w.DISCONNECT=1]="DISCONNECT",w[w.EVENT=2]="EVENT",w[w.ACK=3]="ACK",w[w.CONNECT_ERROR=4]="CONNECT_ERROR",w[w.BINARY_EVENT=5]="BINARY_EVENT",w[w.BINARY_ACK=6]="BINARY_ACK"})(De||(De={}));class mp{constructor(_){this.replacer=_}encode(_){return(_.type===De.EVENT||_.type===De.ACK)&&Ea(_)?this.encodeAsBinary({type:_.type===De.EVENT?De.BINARY_EVENT:De.BINARY_ACK,nsp:_.nsp,data:_.data,id:_.id}):[this.encodeAsString(_)]}encodeAsString(_){let y=""+_.type;return(_.type===De.BINARY_EVENT||_.type===De.BINARY_ACK)&&(y+=_.attachments+"-"),_.nsp&&_.nsp!=="/"&&(y+=_.nsp+","),_.id!=null&&(y+=_.id),_.data!=null&&(y+=JSON.stringify(_.data,this.replacer)),y}encodeAsBinary(_){const y=vp(_),m=this.encodeAsString(y.packet),Y=y.buffers;return Y.unshift(m),Y}}class cc extends $e{constructor(_){super(),this.reviver=_}add(_){let y;if(typeof _=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");y=this.decodeString(_);const m=y.type===De.BINARY_EVENT;m||y.type===De.BINARY_ACK?(y.type=m?De.EVENT:De.ACK,this.reconstructor=new Sp(y),y.attachments===0&&super.emitReserved("decoded",y)):super.emitReserved("decoded",y)}else if(oc(_)||_.base64)if(this.reconstructor)y=this.reconstructor.takeBinaryData(_),y&&(this.reconstructor=null,super.emitReserved("decoded",y));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+_)}decodeString(_){let y=0;const m={type:Number(_.charAt(0))};if(De[m.type]===void 0)throw new Error("unknown packet type "+m.type);if(m.type===De.BINARY_EVENT||m.type===De.BINARY_ACK){const te=y+1;for(;_.charAt(++y)!=="-"&&y!=_.length;);const X=_.substring(te,y);if(X!=Number(X)||_.charAt(y)!=="-")throw new Error("Illegal attachments");m.attachments=Number(X)}if(_.charAt(y+1)==="/"){const te=y+1;for(;++y&&!(_.charAt(y)===","||y===_.length););m.nsp=_.substring(te,y)}else m.nsp="/";const Y=_.charAt(y+1);if(Y!==""&&Number(Y)==Y){const te=y+1;for(;++y;){const X=_.charAt(y);if(X==null||Number(X)!=X){--y;break}if(y===_.length)break}m.id=Number(_.substring(te,y+1))}if(_.charAt(++y)){const te=this.tryParse(_.substr(y));if(cc.isPayloadValid(m.type,te))m.data=te;else throw new Error("invalid payload")}return m}tryParse(_){try{return JSON.parse(_,this.reviver)}catch{return!1}}static isPayloadValid(_,y){switch(_){case De.CONNECT:return Ed(y);case De.DISCONNECT:return y===void 0;case De.CONNECT_ERROR:return typeof y=="string"||Ed(y);case De.EVENT:case De.BINARY_EVENT:return Array.isArray(y)&&(typeof y[0]=="number"||typeof y[0]=="string"&&pp.indexOf(y[0])===-1);case De.ACK:case De.BINARY_ACK:return Array.isArray(y)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Sp{constructor(_){this.packet=_,this.buffers=[],this.reconPack=_}takeBinaryData(_){if(this.buffers.push(_),this.buffers.length===this.reconPack.attachments){const y=gp(this.reconPack,this.buffers);return this.finishedReconstruction(),y}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ed(w){return Object.prototype.toString.call(w)==="[object Object]"}const yp=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cc,Encoder:mp,get PacketType(){return De}},Symbol.toStringTag,{value:"Module"}));function Pt(w,_,y){return w.on(_,y),function(){w.off(_,y)}}const bp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Id extends $e{constructor(_,y,m){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=_,this.nsp=y,m&&m.auth&&(this.auth=m.auth),this._opts=Object.assign({},m),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const _=this.io;this.subs=[Pt(_,"open",this.onopen.bind(this)),Pt(_,"packet",this.onpacket.bind(this)),Pt(_,"error",this.onerror.bind(this)),Pt(_,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(..._){return _.unshift("message"),this.emit.apply(this,_),this}emit(_,...y){var m,Y,te;if(bp.hasOwnProperty(_))throw new Error('"'+_.toString()+'" is a reserved event name');if(y.unshift(_),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(y),this;const X={type:De.EVENT,data:y};if(X.options={},X.options.compress=this.flags.compress!==!1,typeof y[y.length-1]=="function"){const E=this.ids++,f=y.pop();this._registerAckCallback(E,f),X.id=E}const u=(Y=(m=this.io.engine)===null||m===void 0?void 0:m.transport)===null||Y===void 0?void 0:Y.writable,h=this.connected&&!(!((te=this.io.engine)===null||te===void 0)&&te._hasPingExpired());return this.flags.volatile&&!u||(h?(this.notifyOutgoingListeners(X),this.packet(X)):this.sendBuffer.push(X)),this.flags={},this}_registerAckCallback(_,y){var m;const Y=(m=this.flags.timeout)!==null&&m!==void 0?m:this._opts.ackTimeout;if(Y===void 0){this.acks[_]=y;return}const te=this.io.setTimeoutFn(()=>{delete this.acks[_];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===_&&this.sendBuffer.splice(u,1);y.call(this,new Error("operation has timed out"))},Y),X=(...u)=>{this.io.clearTimeoutFn(te),y.apply(this,u)};X.withError=!0,this.acks[_]=X}emitWithAck(_,...y){return new Promise((m,Y)=>{const te=(X,u)=>X?Y(X):m(u);te.withError=!0,y.push(te),this.emit(_,...y)})}_addToQueue(_){let y;typeof _[_.length-1]=="function"&&(y=_.pop());const m={id:this._queueSeq++,tryCount:0,pending:!1,args:_,flags:Object.assign({fromQueue:!0},this.flags)};_.push((Y,...te)=>(this._queue[0],Y!==null?m.tryCount>this._opts.retries&&(this._queue.shift(),y&&y(Y)):(this._queue.shift(),y&&y(null,...te)),m.pending=!1,this._drainQueue())),this._queue.push(m),this._drainQueue()}_drainQueue(_=!1){if(!this.connected||this._queue.length===0)return;const y=this._queue[0];y.pending&&!_||(y.pending=!0,y.tryCount++,this.flags=y.flags,this.emit.apply(this,y.args))}packet(_){_.nsp=this.nsp,this.io._packet(_)}onopen(){typeof this.auth=="function"?this.auth(_=>{this._sendConnectPacket(_)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(_){this.packet({type:De.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},_):_})}onerror(_){this.connected||this.emitReserved("connect_error",_)}onclose(_,y){this.connected=!1,delete this.id,this.emitReserved("disconnect",_,y),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(_=>{if(!this.sendBuffer.some(m=>String(m.id)===_)){const m=this.acks[_];delete this.acks[_],m.withError&&m.call(this,new Error("socket has been disconnected"))}})}onpacket(_){if(_.nsp===this.nsp)switch(_.type){case De.CONNECT:_.data&&_.data.sid?this.onconnect(_.data.sid,_.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.EVENT:case De.BINARY_EVENT:this.onevent(_);break;case De.ACK:case De.BINARY_ACK:this.onack(_);break;case De.DISCONNECT:this.ondisconnect();break;case De.CONNECT_ERROR:this.destroy();const m=new Error(_.data.message);m.data=_.data.data,this.emitReserved("connect_error",m);break}}onevent(_){const y=_.data||[];_.id!=null&&y.push(this.ack(_.id)),this.connected?this.emitEvent(y):this.receiveBuffer.push(Object.freeze(y))}emitEvent(_){if(this._anyListeners&&this._anyListeners.length){const y=this._anyListeners.slice();for(const m of y)m.apply(this,_)}super.emit.apply(this,_),this._pid&&_.length&&typeof _[_.length-1]=="string"&&(this._lastOffset=_[_.length-1])}ack(_){const y=this;let m=!1;return function(...Y){m||(m=!0,y.packet({type:De.ACK,id:_,data:Y}))}}onack(_){const y=this.acks[_.id];typeof y=="function"&&(delete this.acks[_.id],y.withError&&_.data.unshift(null),y.apply(this,_.data))}onconnect(_,y){this.id=_,this.recovered=y&&this._pid===y,this._pid=y,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(_=>this.emitEvent(_)),this.receiveBuffer=[],this.sendBuffer.forEach(_=>{this.notifyOutgoingListeners(_),this.packet(_)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(_=>_()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:De.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(_){return this.flags.compress=_,this}get volatile(){return this.flags.volatile=!0,this}timeout(_){return this.flags.timeout=_,this}onAny(_){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(_),this}prependAny(_){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(_),this}offAny(_){if(!this._anyListeners)return this;if(_){const y=this._anyListeners;for(let m=0;m<y.length;m++)if(_===y[m])return y.splice(m,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(_){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(_),this}prependAnyOutgoing(_){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(_),this}offAnyOutgoing(_){if(!this._anyOutgoingListeners)return this;if(_){const y=this._anyOutgoingListeners;for(let m=0;m<y.length;m++)if(_===y[m])return y.splice(m,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(_){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const y=this._anyOutgoingListeners.slice();for(const m of y)m.apply(this,_.data)}}}function ir(w){w=w||{},this.ms=w.min||100,this.max=w.max||1e4,this.factor=w.factor||2,this.jitter=w.jitter>0&&w.jitter<=1?w.jitter:0,this.attempts=0}ir.prototype.duration=function(){var w=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var _=Math.random(),y=Math.floor(_*this.jitter*w);w=(Math.floor(_*10)&1)==0?w-y:w+y}return Math.min(w,this.max)|0};ir.prototype.reset=function(){this.attempts=0};ir.prototype.setMin=function(w){this.ms=w};ir.prototype.setMax=function(w){this.max=w};ir.prototype.setJitter=function(w){this.jitter=w};class sc extends $e{constructor(_,y){var m;super(),this.nsps={},this.subs=[],_&&typeof _=="object"&&(y=_,_=void 0),y=y||{},y.path=y.path||"/socket.io",this.opts=y,Aa(this,y),this.reconnection(y.reconnection!==!1),this.reconnectionAttempts(y.reconnectionAttempts||1/0),this.reconnectionDelay(y.reconnectionDelay||1e3),this.reconnectionDelayMax(y.reconnectionDelayMax||5e3),this.randomizationFactor((m=y.randomizationFactor)!==null&&m!==void 0?m:.5),this.backoff=new ir({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(y.timeout==null?2e4:y.timeout),this._readyState="closed",this.uri=_;const Y=y.parser||yp;this.encoder=new Y.Encoder,this.decoder=new Y.Decoder,this._autoConnect=y.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(_){return arguments.length?(this._reconnection=!!_,_||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(_){return _===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=_,this)}reconnectionDelay(_){var y;return _===void 0?this._reconnectionDelay:(this._reconnectionDelay=_,(y=this.backoff)===null||y===void 0||y.setMin(_),this)}randomizationFactor(_){var y;return _===void 0?this._randomizationFactor:(this._randomizationFactor=_,(y=this.backoff)===null||y===void 0||y.setJitter(_),this)}reconnectionDelayMax(_){var y;return _===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=_,(y=this.backoff)===null||y===void 0||y.setMax(_),this)}timeout(_){return arguments.length?(this._timeout=_,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(_){if(~this._readyState.indexOf("open"))return this;this.engine=new cp(this.uri,this.opts);const y=this.engine,m=this;this._readyState="opening",this.skipReconnect=!1;const Y=Pt(y,"open",function(){m.onopen(),_&&_()}),te=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),_?_(u):this.maybeReconnectOnOpen()},X=Pt(y,"error",te);if(this._timeout!==!1){const u=this._timeout,h=this.setTimeoutFn(()=>{Y(),te(new Error("timeout")),y.close()},u);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(Y),this.subs.push(X),this}connect(_){return this.open(_)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const _=this.engine;this.subs.push(Pt(_,"ping",this.onping.bind(this)),Pt(_,"data",this.ondata.bind(this)),Pt(_,"error",this.onerror.bind(this)),Pt(_,"close",this.onclose.bind(this)),Pt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(_){try{this.decoder.add(_)}catch(y){this.onclose("parse error",y)}}ondecoded(_){xa(()=>{this.emitReserved("packet",_)},this.setTimeoutFn)}onerror(_){this.emitReserved("error",_)}socket(_,y){let m=this.nsps[_];return m?this._autoConnect&&!m.active&&m.connect():(m=new Id(this,_,y),this.nsps[_]=m),m}_destroy(_){const y=Object.keys(this.nsps);for(const m of y)if(this.nsps[m].active)return;this._close()}_packet(_){const y=this.encoder.encode(_);for(let m=0;m<y.length;m++)this.engine.write(y[m],_.options)}cleanup(){this.subs.forEach(_=>_()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(_,y){var m;this.cleanup(),(m=this.engine)===null||m===void 0||m.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",_,y),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const _=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const y=this.backoff.duration();this._reconnecting=!0;const m=this.setTimeoutFn(()=>{_.skipReconnect||(this.emitReserved("reconnect_attempt",_.backoff.attempts),!_.skipReconnect&&_.open(Y=>{Y?(_._reconnecting=!1,_.reconnect(),this.emitReserved("reconnect_error",Y)):_.onreconnect()}))},y);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}}onreconnect(){const _=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",_)}}const Zr={};function wa(w,_){typeof w=="object"&&(_=w,w=void 0),_=_||{};const y=up(w,_.path||"/socket.io"),m=y.source,Y=y.id,te=y.path,X=Zr[Y]&&te in Zr[Y].nsps,u=_.forceNew||_["force new connection"]||_.multiplex===!1||X;let h;return u?h=new sc(m,_):(Zr[Y]||(Zr[Y]=new sc(m,_)),h=Zr[Y]),y.query&&!_.query&&(_.query=y.queryKey),h.socket(y.path,_)}Object.assign(wa,{Manager:sc,Socket:Id,io:wa,connect:wa});var Wo={exports:{}},wd;function Cp(){return wd||(wd=1,(function(w,_){(function(y,m){w.exports=m()})(self,(()=>(()=>{var y={4567:function(X,u,h){var d=this&&this.__decorate||function(c,v,S,A){var L,g=arguments.length,D=g<3?v:A===null?A=Object.getOwnPropertyDescriptor(v,S):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(c,v,S,A);else for(var N=c.length-1;N>=0;N--)(L=c[N])&&(D=(g<3?L(D):g>3?L(v,S,D):L(v,S))||D);return g>3&&D&&Object.defineProperty(v,S,D),D},E=this&&this.__param||function(c,v){return function(S,A){v(S,A,c)}};Object.defineProperty(u,"__esModule",{value:!0}),u.AccessibilityManager=void 0;const f=h(9042),b=h(6114),x=h(9924),R=h(844),C=h(5596),a=h(4725),o=h(3656);let l=u.AccessibilityManager=class extends R.Disposable{constructor(c,v){super(),this._terminal=c,this._renderService=v,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((S=>this._handleResize(S.rows)))),this.register(this._terminal.onRender((S=>this._refreshRows(S.start,S.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((S=>this._handleChar(S)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((S=>this._handleTab(S)))),this.register(this._terminal.onKey((S=>this._handleKey(S.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new C.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,o.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,R.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(c){for(let v=0;v<c;v++)this._handleChar(" ")}_handleChar(c){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==c&&(this._charsToAnnounce+=c):this._charsToAnnounce+=c,c===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),b.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,b.isMac&&this._liveRegion.remove()}_handleKey(c){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(c)||this._charsToConsume.push(c)}_refreshRows(c,v){this._liveRegionDebouncer.refresh(c,v,this._terminal.rows)}_renderRows(c,v){const S=this._terminal.buffer,A=S.lines.length.toString();for(let L=c;L<=v;L++){const g=S.translateBufferLineToString(S.ydisp+L,!0),D=(S.ydisp+L+1).toString(),N=this._rowElements[L];N&&(g.length===0?N.innerText="":N.textContent=g,N.setAttribute("aria-posinset",D),N.setAttribute("aria-setsize",A))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(c,v){const S=c.target,A=this._rowElements[v===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(v===0?"1":`${this._terminal.buffer.lines.length}`)||c.relatedTarget!==A)return;let L,g;if(v===0?(L=S,g=this._rowElements.pop(),this._rowContainer.removeChild(g)):(L=this._rowElements.shift(),g=S,this._rowContainer.removeChild(L)),L.removeEventListener("focus",this._topBoundaryFocusListener),g.removeEventListener("focus",this._bottomBoundaryFocusListener),v===0){const D=this._createAccessibilityTreeNode();this._rowElements.unshift(D),this._rowContainer.insertAdjacentElement("afterbegin",D)}else{const D=this._createAccessibilityTreeNode();this._rowElements.push(D),this._rowContainer.appendChild(D)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(v===0?-1:1),this._rowElements[v===0?1:this._rowElements.length-2].focus(),c.preventDefault(),c.stopImmediatePropagation()}_handleResize(c){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let v=this._rowContainer.children.length;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);for(;this._rowElements.length>c;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const c=document.createElement("div");return c.setAttribute("role","listitem"),c.tabIndex=-1,this._refreshRowDimensions(c),c}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let c=0;c<this._terminal.rows;c++)this._refreshRowDimensions(this._rowElements[c])}}_refreshRowDimensions(c){c.style.height=`${this._renderService.dimensions.css.cell.height}px`}};u.AccessibilityManager=l=d([E(1,a.IRenderService)],l)},3614:(X,u)=>{function h(b){return b.replace(/\r?\n/g,"\r")}function d(b,x){return x?"\x1B[200~"+b+"\x1B[201~":b}function E(b,x,R,C){b=d(b=h(b),R.decPrivateModes.bracketedPasteMode&&C.rawOptions.ignoreBracketedPasteMode!==!0),R.triggerDataEvent(b,!0),x.value=""}function f(b,x,R){const C=R.getBoundingClientRect(),a=b.clientX-C.left-10,o=b.clientY-C.top-10;x.style.width="20px",x.style.height="20px",x.style.left=`${a}px`,x.style.top=`${o}px`,x.style.zIndex="1000",x.focus()}Object.defineProperty(u,"__esModule",{value:!0}),u.rightClickHandler=u.moveTextAreaUnderMouseCursor=u.paste=u.handlePasteEvent=u.copyHandler=u.bracketTextForPaste=u.prepareTextForTerminal=void 0,u.prepareTextForTerminal=h,u.bracketTextForPaste=d,u.copyHandler=function(b,x){b.clipboardData&&b.clipboardData.setData("text/plain",x.selectionText),b.preventDefault()},u.handlePasteEvent=function(b,x,R,C){b.stopPropagation(),b.clipboardData&&E(b.clipboardData.getData("text/plain"),x,R,C)},u.paste=E,u.moveTextAreaUnderMouseCursor=f,u.rightClickHandler=function(b,x,R,C,a){f(b,x,R),a&&C.rightClickSelect(b),x.value=C.selectionText,x.select()}},7239:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ColorContrastCache=void 0;const d=h(1505);u.ColorContrastCache=class{constructor(){this._color=new d.TwoKeyMap,this._css=new d.TwoKeyMap}setCss(E,f,b){this._css.set(E,f,b)}getCss(E,f){return this._css.get(E,f)}setColor(E,f,b){this._color.set(E,f,b)}getColor(E,f){return this._color.get(E,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.addDisposableDomListener=void 0,u.addDisposableDomListener=function(h,d,E,f){h.addEventListener(d,E,f);let b=!1;return{dispose:()=>{b||(b=!0,h.removeEventListener(d,E,f))}}}},6465:function(X,u,h){var d=this&&this.__decorate||function(a,o,l,c){var v,S=arguments.length,A=S<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(a,o,l,c);else for(var L=a.length-1;L>=0;L--)(v=a[L])&&(A=(S<3?v(A):S>3?v(o,l,A):v(o,l))||A);return S>3&&A&&Object.defineProperty(o,l,A),A},E=this&&this.__param||function(a,o){return function(l,c){o(l,c,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.Linkifier2=void 0;const f=h(3656),b=h(8460),x=h(844),R=h(2585);let C=u.Linkifier2=class extends x.Disposable{get currentLink(){return this._currentLink}constructor(a){super(),this._bufferService=a,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new b.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new b.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,x.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,x.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(a){return this._linkProviders.push(a),{dispose:()=>{const o=this._linkProviders.indexOf(a);o!==-1&&this._linkProviders.splice(o,1)}}}attachToDom(a,o,l){this._element=a,this._mouseService=o,this._renderService=l,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){if(this._lastMouseEvent=a,!this._element||!this._mouseService)return;const o=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!o)return;this._isMouseOut=!1;const l=a.composedPath();for(let c=0;c<l.length;c++){const v=l[c];if(v.classList.contains("xterm"))break;if(v.classList.contains("xterm-hover"))return}this._lastBufferCell&&o.x===this._lastBufferCell.x&&o.y===this._lastBufferCell.y||(this._handleHover(o),this._lastBufferCell=o)}_handleHover(a){if(this._activeLine!==a.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(a,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,o){var l,c;this._activeProviderReplies&&o||((l=this._activeProviderReplies)===null||l===void 0||l.forEach((S=>{S==null||S.forEach((A=>{A.link.dispose&&A.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=a.y);let v=!1;for(const[S,A]of this._linkProviders.entries())o?!((c=this._activeProviderReplies)===null||c===void 0)&&c.get(S)&&(v=this._checkLinkProviderResult(S,a,v)):A.provideLinks(a.y,(L=>{var g,D;if(this._isMouseOut)return;const N=L==null?void 0:L.map((I=>({link:I})));(g=this._activeProviderReplies)===null||g===void 0||g.set(S,N),v=this._checkLinkProviderResult(S,a,v),((D=this._activeProviderReplies)===null||D===void 0?void 0:D.size)===this._linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)}))}_removeIntersectingLinks(a,o){const l=new Set;for(let c=0;c<o.size;c++){const v=o.get(c);if(v)for(let S=0;S<v.length;S++){const A=v[S],L=A.link.range.start.y<a?0:A.link.range.start.x,g=A.link.range.end.y>a?this._bufferService.cols:A.link.range.end.x;for(let D=L;D<=g;D++){if(l.has(D)){v.splice(S--,1);break}l.add(D)}}}}_checkLinkProviderResult(a,o,l){var c;if(!this._activeProviderReplies)return l;const v=this._activeProviderReplies.get(a);let S=!1;for(let A=0;A<a;A++)this._activeProviderReplies.has(A)&&!this._activeProviderReplies.get(A)||(S=!0);if(!S&&v){const A=v.find((L=>this._linkAtPosition(L.link,o)));A&&(l=!0,this._handleNewLink(A))}if(this._activeProviderReplies.size===this._linkProviders.length&&!l)for(let A=0;A<this._activeProviderReplies.size;A++){const L=(c=this._activeProviderReplies.get(A))===null||c===void 0?void 0:c.find((g=>this._linkAtPosition(g.link,o)));if(L){l=!0,this._handleNewLink(L);break}}return l}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._element||!this._mouseService||!this._currentLink)return;const o=this._positionFromMouseEvent(a,this._element,this._mouseService);o&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,o)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,o){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!o||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=o)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,x.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(a.link,o)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var l,c;return(c=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||c===void 0?void 0:c.decorations.pointerCursor},set:l=>{var c,v;!((c=this._currentLink)===null||c===void 0)&&c.state&&this._currentLink.state.decorations.pointerCursor!==l&&(this._currentLink.state.decorations.pointerCursor=l,this._currentLink.state.isHovered&&((v=this._element)===null||v===void 0||v.classList.toggle("xterm-cursor-pointer",l)))}},underline:{get:()=>{var l,c;return(c=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||c===void 0?void 0:c.decorations.underline},set:l=>{var c,v,S;!((c=this._currentLink)===null||c===void 0)&&c.state&&((S=(v=this._currentLink)===null||v===void 0?void 0:v.state)===null||S===void 0?void 0:S.decorations.underline)!==l&&(this._currentLink.state.decorations.underline=l,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,l))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((l=>{if(!this._currentLink)return;const c=l.start===0?0:l.start+1+this._bufferService.buffer.ydisp,v=this._bufferService.buffer.ydisp+1+l.end;if(this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=v&&(this._clearCurrentLink(c,v),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}}))))}_linkHover(a,o,l){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),o.hover&&o.hover(l,o.text)}_fireUnderlineEvent(a,o){const l=a.range,c=this._bufferService.buffer.ydisp,v=this._createLinkUnderlineEvent(l.start.x-1,l.start.y-c-1,l.end.x,l.end.y-c-1,void 0);(o?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(v)}_linkLeave(a,o,l){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),o.leave&&o.leave(l,o.text)}_linkAtPosition(a,o){const l=a.range.start.y*this._bufferService.cols+a.range.start.x,c=a.range.end.y*this._bufferService.cols+a.range.end.x,v=o.y*this._bufferService.cols+o.x;return l<=v&&v<=c}_positionFromMouseEvent(a,o,l){const c=l.getCoords(a,o,this._bufferService.cols,this._bufferService.rows);if(c)return{x:c[0],y:c[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,o,l,c,v){return{x1:a,y1:o,x2:l,y2:c,cols:this._bufferService.cols,fg:v}}};u.Linkifier2=C=d([E(0,R.IBufferService)],C)},9042:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.tooMuchOutput=u.promptLabel=void 0,u.promptLabel="Terminal input",u.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(X,u,h){var d=this&&this.__decorate||function(C,a,o,l){var c,v=arguments.length,S=v<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(C,a,o,l);else for(var A=C.length-1;A>=0;A--)(c=C[A])&&(S=(v<3?c(S):v>3?c(a,o,S):c(a,o))||S);return v>3&&S&&Object.defineProperty(a,o,S),S},E=this&&this.__param||function(C,a){return function(o,l){a(o,l,C)}};Object.defineProperty(u,"__esModule",{value:!0}),u.OscLinkProvider=void 0;const f=h(511),b=h(2585);let x=u.OscLinkProvider=class{constructor(C,a,o){this._bufferService=C,this._optionsService=a,this._oscLinkService=o}provideLinks(C,a){var o;const l=this._bufferService.buffer.lines.get(C-1);if(!l)return void a(void 0);const c=[],v=this._optionsService.rawOptions.linkHandler,S=new f.CellData,A=l.getTrimmedLength();let L=-1,g=-1,D=!1;for(let N=0;N<A;N++)if(g!==-1||l.hasContent(N)){if(l.loadCell(N,S),S.hasExtendedAttrs()&&S.extended.urlId){if(g===-1){g=N,L=S.extended.urlId;continue}D=S.extended.urlId!==L}else g!==-1&&(D=!0);if(D||g!==-1&&N===A-1){const I=(o=this._oscLinkService.getLinkData(L))===null||o===void 0?void 0:o.uri;if(I){const H={start:{x:g+1,y:C},end:{x:N+(D||N!==A-1?0:1),y:C}};let q=!1;if(!(v!=null&&v.allowNonHttpProtocols))try{const se=new URL(I);["http:","https:"].includes(se.protocol)||(q=!0)}catch{q=!0}q||c.push({text:I,range:H,activate:(se,ae)=>v?v.activate(se,ae,H):R(0,ae),hover:(se,ae)=>{var j;return(j=v==null?void 0:v.hover)===null||j===void 0?void 0:j.call(v,se,ae,H)},leave:(se,ae)=>{var j;return(j=v==null?void 0:v.leave)===null||j===void 0?void 0:j.call(v,se,ae,H)}})}D=!1,S.hasExtendedAttrs()&&S.extended.urlId?(g=N,L=S.extended.urlId):(g=-1,L=-1)}}a(c)}};function R(C,a){if(confirm(`Do you want to navigate to ${a}?

WARNING: This link could potentially be dangerous`)){const o=window.open();if(o){try{o.opener=null}catch{}o.location.href=a}else console.warn("Opening link blocked as opener could not be cleared")}}u.OscLinkProvider=x=d([E(0,b.IBufferService),E(1,b.IOptionsService),E(2,b.IOscLinkService)],x)},6193:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.RenderDebouncer=void 0,u.RenderDebouncer=class{constructor(h,d){this._parentWindow=h,this._renderCallback=d,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(h){return this._refreshCallbacks.push(h),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(h,d,E){this._rowCount=E,h=h!==void 0?h:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const h=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,d),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const h of this._refreshCallbacks)h(0);this._refreshCallbacks=[]}}},5596:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ScreenDprMonitor=void 0;const d=h(844);class E extends d.Disposable{constructor(b){super(),this._parentWindow=b,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,d.toDisposable)((()=>{this.clearListener()})))}setListener(b){this._listener&&this.clearListener(),this._listener=b,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var b;this._outerListener&&((b=this._resolutionMediaMatchList)===null||b===void 0||b.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}u.ScreenDprMonitor=E},3236:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const d=h(3614),E=h(3656),f=h(6465),b=h(9042),x=h(3730),R=h(1680),C=h(3107),a=h(5744),o=h(2950),l=h(1296),c=h(428),v=h(4269),S=h(5114),A=h(8934),L=h(3230),g=h(9312),D=h(4725),N=h(6731),I=h(8055),H=h(8969),q=h(8460),se=h(844),ae=h(6114),j=h(8437),P=h(2584),O=h(7399),k=h(5941),z=h(9074),T=h(2585),G=h(5435),$=h(4567),oe=typeof window<"u"?window.document:null;class ue extends H.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=ae,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new se.MutableDisposable),this._onCursorMove=this.register(new q.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new q.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new q.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new q.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new q.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new q.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new q.EventEmitter),this._onBlur=this.register(new q.EventEmitter),this._onA11yCharEmitter=this.register(new q.EventEmitter),this._onA11yTabEmitter=this.register(new q.EventEmitter),this._onWillOpen=this.register(new q.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(x.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(z.DecorationService),this._instantiationService.setService(T.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((F,ie)=>this.refresh(F,ie)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((F=>this._reportWindowsOptions(F)))),this.register(this._inputHandler.onColor((F=>this._handleColorEvent(F)))),this.register((0,q.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,q.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,q.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((F=>this._afterResize(F.cols,F.rows)))),this.register((0,se.toDisposable)((()=>{var F,ie;this._customKeyEventHandler=void 0,(ie=(F=this.element)===null||F===void 0?void 0:F.parentNode)===null||ie===void 0||ie.removeChild(this.element)})))}_handleColorEvent(B){if(this._themeService)for(const F of B){let ie,ne="";switch(F.index){case 256:ie="foreground",ne="10";break;case 257:ie="background",ne="11";break;case 258:ie="cursor",ne="12";break;default:ie="ansi",ne="4;"+F.index}switch(F.type){case 0:const pe=I.color.toColorRGB(ie==="ansi"?this._themeService.colors.ansi[F.index]:this._themeService.colors[ie]);this.coreService.triggerDataEvent(`${P.C0.ESC}]${ne};${(0,k.toRgbString)(pe)}${P.C1_ESCAPED.ST}`);break;case 1:if(ie==="ansi")this._themeService.modifyColors((he=>he.ansi[F.index]=I.rgba.toColor(...F.color)));else{const he=ie;this._themeService.modifyColors((Te=>Te[he]=I.rgba.toColor(...F.color)))}break;case 2:this._themeService.restoreColor(F.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance($.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(P.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(P.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,F=this.buffer.lines.get(B);if(!F)return;const ie=Math.min(this.buffer.x,this.cols-1),ne=this._renderService.dimensions.css.cell.height,pe=F.getWidth(ie),he=this._renderService.dimensions.css.cell.width*pe,Te=this.buffer.y*this._renderService.dimensions.css.cell.height,Ue=ie*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Ue+"px",this.textarea.style.top=Te+"px",this.textarea.style.width=he+"px",this.textarea.style.height=ne+"px",this.textarea.style.lineHeight=ne+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,E.addDisposableDomListener)(this.element,"copy",(F=>{this.hasSelection()&&(0,d.copyHandler)(F,this._selectionService)})));const B=F=>(0,d.handlePasteEvent)(F,this.textarea,this.coreService,this.optionsService);this.register((0,E.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,E.addDisposableDomListener)(this.element,"paste",B)),ae.isFirefox?this.register((0,E.addDisposableDomListener)(this.element,"mousedown",(F=>{F.button===2&&(0,d.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,E.addDisposableDomListener)(this.element,"contextmenu",(F=>{(0,d.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),ae.isLinux&&this.register((0,E.addDisposableDomListener)(this.element,"auxclick",(F=>{F.button===1&&(0,d.moveTextAreaUnderMouseCursor)(F,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,E.addDisposableDomListener)(this.textarea,"keyup",(B=>this._keyUp(B)),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"keydown",(B=>this._keyDown(B)),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"keypress",(B=>this._keyPress(B)),!0)),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionupdate",(B=>this._compositionHelper.compositionupdate(B)))),this.register((0,E.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,E.addDisposableDomListener)(this.textarea,"input",(B=>this._inputEvent(B)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(B){var F;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const ie=oe.createDocumentFragment();this._viewportElement=oe.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ie.appendChild(this._viewportElement),this._viewportScrollArea=oe.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=oe.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=oe.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ie.appendChild(this.screenElement),this.textarea=oe.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",b.promptLabel),ae.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,(F=this._document.defaultView)!==null&&F!==void 0?F:window),this._instantiationService.setService(D.ICoreBrowserService,this._coreBrowserService),this.register((0,E.addDisposableDomListener)(this.textarea,"focus",(ne=>this._handleTextAreaFocus(ne)))),this.register((0,E.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(c.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(D.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(N.ThemeService),this._instantiationService.setService(D.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(v.CharacterJoinerService),this._instantiationService.setService(D.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(D.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ne=>this._onRender.fire(ne)))),this.onResize((ne=>this._renderService.resize(ne.cols,ne.rows))),this._compositionView=oe.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ie);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(A.MouseService),this._instantiationService.setService(D.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(R.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ne=>this.scrollLines(ne.amount,ne.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(g.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(D.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ne=>this.scrollLines(ne.amount,ne.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ne=>this._renderService.handleSelectionChanged(ne.start,ne.end,ne.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ne=>{this.textarea.value=ne,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ne=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,E.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(C.BufferDecorationRenderer,this.screenElement)),this.register((0,E.addDisposableDomListener)(this.element,"mousedown",(ne=>this._selectionService.handleMouseDown(ne)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance($.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ne=>this._handleScreenReaderModeOptionChange(ne)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ne=>{!this._overviewRulerRenderer&&ne&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(l.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,F=this.element;function ie(he){const Te=B._mouseService.getMouseReportCoords(he,B.screenElement);if(!Te)return!1;let Ue,it;switch(he.overrideType||he.type){case"mousemove":it=32,he.buttons===void 0?(Ue=3,he.button!==void 0&&(Ue=he.button<3?he.button:3)):Ue=1&he.buttons?0:4&he.buttons?1:2&he.buttons?2:3;break;case"mouseup":it=0,Ue=he.button<3?he.button:3;break;case"mousedown":it=1,Ue=he.button<3?he.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(he)===0)return!1;it=he.deltaY<0?0:1,Ue=4;break;default:return!1}return!(it===void 0||Ue===void 0||Ue>4)&&B.coreMouseService.triggerMouseEvent({col:Te.col,row:Te.row,x:Te.x,y:Te.y,button:Ue,action:it,ctrl:he.ctrlKey,alt:he.altKey,shift:he.shiftKey})}const ne={mouseup:null,wheel:null,mousedrag:null,mousemove:null},pe={mouseup:he=>(ie(he),he.buttons||(this._document.removeEventListener("mouseup",ne.mouseup),ne.mousedrag&&this._document.removeEventListener("mousemove",ne.mousedrag)),this.cancel(he)),wheel:he=>(ie(he),this.cancel(he,!0)),mousedrag:he=>{he.buttons&&ie(he)},mousemove:he=>{he.buttons||ie(he)}};this.register(this.coreMouseService.onProtocolChange((he=>{he?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(he)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&he?ne.mousemove||(F.addEventListener("mousemove",pe.mousemove),ne.mousemove=pe.mousemove):(F.removeEventListener("mousemove",ne.mousemove),ne.mousemove=null),16&he?ne.wheel||(F.addEventListener("wheel",pe.wheel,{passive:!1}),ne.wheel=pe.wheel):(F.removeEventListener("wheel",ne.wheel),ne.wheel=null),2&he?ne.mouseup||(F.addEventListener("mouseup",pe.mouseup),ne.mouseup=pe.mouseup):(this._document.removeEventListener("mouseup",ne.mouseup),F.removeEventListener("mouseup",ne.mouseup),ne.mouseup=null),4&he?ne.mousedrag||(ne.mousedrag=pe.mousedrag):(this._document.removeEventListener("mousemove",ne.mousedrag),ne.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,E.addDisposableDomListener)(F,"mousedown",(he=>{if(he.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(he))return ie(he),ne.mouseup&&this._document.addEventListener("mouseup",ne.mouseup),ne.mousedrag&&this._document.addEventListener("mousemove",ne.mousedrag),this.cancel(he)}))),this.register((0,E.addDisposableDomListener)(F,"wheel",(he=>{if(!ne.wheel){if(!this.buffer.hasScrollback){const Te=this.viewport.getLinesScrolled(he);if(Te===0)return;const Ue=P.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(he.deltaY<0?"A":"B");let it="";for(let Xt=0;Xt<Math.abs(Te);Xt++)it+=Ue;return this.coreService.triggerDataEvent(it,!0),this.cancel(he,!0)}return this.viewport.handleWheel(he)?this.cancel(he):void 0}}),{passive:!1})),this.register((0,E.addDisposableDomListener)(F,"touchstart",(he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(he),this.cancel(he)}),{passive:!0})),this.register((0,E.addDisposableDomListener)(F,"touchmove",(he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(he)?void 0:this.cancel(he)}),{passive:!1}))}refresh(B,F){var ie;(ie=this._renderService)===null||ie===void 0||ie.refreshRows(B,F)}updateCursorStyle(B){var F;!((F=this._selectionService)===null||F===void 0)&&F.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,F,ie=0){var ne;ie===1?(super.scrollLines(B,F,ie),this.refresh(0,this.rows-1)):(ne=this.viewport)===null||ne===void 0||ne.scrollLines(B)}paste(B){(0,d.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const F=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),F}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,F,ie){this._selectionService.setSelection(B,F,ie)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,F){var ie;(ie=this._selectionService)===null||ie===void 0||ie.selectLines(B,F)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const F=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!F&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;F||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ie=(0,O.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),ie.type===3||ie.type===2){const ne=this.rows-1;return this.scrollLines(ie.type===2?-ne:ne),this.cancel(B,!0)}return ie.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(ie.cancel&&this.cancel(B,!0),!ie.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ie.key!==P.C0.ETX&&ie.key!==P.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ie.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(ie.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,F){const ie=B.isMac&&!this.options.macOptionIsMeta&&F.altKey&&!F.ctrlKey&&!F.metaKey||B.isWindows&&F.altKey&&F.ctrlKey&&!F.metaKey||B.isWindows&&F.getModifierState("AltGraph");return F.type==="keypress"?ie:ie&&(!F.keyCode||F.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||((function(F){return F.keyCode===16||F.keyCode===17||F.keyCode===18})(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let F;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)F=B.charCode;else if(B.which===null||B.which===void 0)F=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;F=B.which}return!(!F||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(F=String.fromCharCode(F),this._onKey.fire({key:F,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(F,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const F=B.data;return this.coreService.triggerDataEvent(F,!0),this.cancel(B),!0}return!1}resize(B,F){B!==this.cols||F!==this.rows?super.resize(B,F):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,F){var ie,ne;(ie=this._charSizeService)===null||ie===void 0||ie.measure(),(ne=this.viewport)===null||ne===void 0||ne.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let F=1;F<this.rows;F++)this.buffer.lines.push(this.buffer.getBlankLine(j.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)===null||B===void 0||B.reset(),this.refresh(0,this.rows-1)}}reset(){var B,F;this.options.rows=this.rows,this.options.cols=this.cols;const ie=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),(F=this.viewport)===null||F===void 0||F.reset(),this._customKeyEventHandler=ie,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(P.C0.ESC+"[I"):this.coreService.triggerDataEvent(P.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case G.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const F=this._renderService.dimensions.css.canvas.width.toFixed(0),ie=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${P.C0.ESC}[4;${ie};${F}t`);break;case G.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ne=this._renderService.dimensions.css.cell.width.toFixed(0),pe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${P.C0.ESC}[6;${pe};${ne}t`)}}cancel(B,F){if(this.options.cancelEvents||F)return B.preventDefault(),B.stopPropagation(),!1}}u.Terminal=ue},9924:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TimeBasedDebouncer=void 0,u.TimeBasedDebouncer=class{constructor(h,d=1e3){this._renderCallback=h,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(h,d,E){this._rowCount=E,h=h!==void 0?h:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const b=f-this._lastRefreshMs,x=this._debounceThresholdMS-b;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),x)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const h=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,d)}}},1680:function(X,u,h){var d=this&&this.__decorate||function(o,l,c,v){var S,A=arguments.length,L=A<3?l:v===null?v=Object.getOwnPropertyDescriptor(l,c):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(o,l,c,v);else for(var g=o.length-1;g>=0;g--)(S=o[g])&&(L=(A<3?S(L):A>3?S(l,c,L):S(l,c))||L);return A>3&&L&&Object.defineProperty(l,c,L),L},E=this&&this.__param||function(o,l){return function(c,v){l(c,v,o)}};Object.defineProperty(u,"__esModule",{value:!0}),u.Viewport=void 0;const f=h(3656),b=h(4725),x=h(8460),R=h(844),C=h(2585);let a=u.Viewport=class extends R.Disposable{constructor(o,l,c,v,S,A,L,g){super(),this._viewportElement=o,this._scrollArea=l,this._bufferService=c,this._optionsService=v,this._charSizeService=S,this._renderService=A,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((D=>this._activeBuffer=D.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((D=>this._renderDimensions=D))),this._handleThemeChange(g.colors),this.register(g.onChangeColors((D=>this._handleThemeChange(D)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(o){if(o)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const l=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==l&&(this._lastRecordedBufferHeight=l,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:l,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,l){const c=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(l<0&&this._viewportElement.scrollTop!==0||l>0&&c<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const l=this._getPixelsScrolled(o);return l!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+l:this._smoothScrollState.target+=l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=l,this._bubbleScroll(o,l))}scrollLines(o){if(o!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const l=o*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!1})}_getPixelsScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let l=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l}getBufferElements(o,l){var c;let v,S="";const A=[],L=l??this._bufferService.buffer.lines.length,g=this._bufferService.buffer.lines;for(let D=o;D<L;D++){const N=g.get(D);if(!N)continue;const I=(c=g.get(D+1))===null||c===void 0?void 0:c.isWrapped;if(S+=N.translateToString(!I),!I||D===g.length-1){const H=document.createElement("div");H.textContent=S,A.push(H),S.length>0&&(v=H),S=""}}return{bufferElements:A,cursorElement:v}}getLinesScrolled(o){if(o.deltaY===0||o.shiftKey)return 0;let l=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(l/=this._currentRowHeight+0,this._wheelPartialScroll+=l,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l}_applyScrollModifier(o,l){const c=this._optionsService.rawOptions.fastScrollModifier;return c==="alt"&&l.altKey||c==="ctrl"&&l.ctrlKey||c==="shift"&&l.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const l=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(o,l))}};u.Viewport=a=d([E(2,C.IBufferService),E(3,C.IOptionsService),E(4,b.ICharSizeService),E(5,b.IRenderService),E(6,b.ICoreBrowserService),E(7,b.IThemeService)],a)},3107:function(X,u,h){var d=this&&this.__decorate||function(a,o,l,c){var v,S=arguments.length,A=S<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(a,o,l,c);else for(var L=a.length-1;L>=0;L--)(v=a[L])&&(A=(S<3?v(A):S>3?v(o,l,A):v(o,l))||A);return S>3&&A&&Object.defineProperty(o,l,A),A},E=this&&this.__param||function(a,o){return function(l,c){o(l,c,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.BufferDecorationRenderer=void 0;const f=h(3656),b=h(4725),x=h(844),R=h(2585);let C=u.BufferDecorationRenderer=class extends x.Disposable{constructor(a,o,l,c){super(),this._screenElement=a,this._bufferService=o,this._decorationService=l,this._renderService=c,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,f.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((v=>this._removeDecoration(v)))),this.register((0,x.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const a of this._decorationService.decorations)this._renderDecoration(a);this._dimensionsChanged=!1}_renderDecoration(a){this._refreshStyle(a),this._dimensionsChanged&&this._refreshXPosition(a)}_createElement(a){var o,l;const c=document.createElement("div");c.classList.add("xterm-decoration"),c.classList.toggle("xterm-decoration-top-layer",((o=a==null?void 0:a.options)===null||o===void 0?void 0:o.layer)==="top"),c.style.width=`${Math.round((a.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,c.style.height=(a.options.height||1)*this._renderService.dimensions.css.cell.height+"px",c.style.top=(a.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",c.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const v=(l=a.options.x)!==null&&l!==void 0?l:0;return v&&v>this._bufferService.cols&&(c.style.display="none"),this._refreshXPosition(a,c),c}_refreshStyle(a){const o=a.marker.line-this._bufferService.buffers.active.ydisp;if(o<0||o>=this._bufferService.rows)a.element&&(a.element.style.display="none",a.onRenderEmitter.fire(a.element));else{let l=this._decorationElements.get(a);l||(l=this._createElement(a),a.element=l,this._decorationElements.set(a,l),this._container.appendChild(l),a.onDispose((()=>{this._decorationElements.delete(a),l.remove()}))),l.style.top=o*this._renderService.dimensions.css.cell.height+"px",l.style.display=this._altBufferIsActive?"none":"block",a.onRenderEmitter.fire(l)}}_refreshXPosition(a,o=a.element){var l;if(!o)return;const c=(l=a.options.x)!==null&&l!==void 0?l:0;(a.options.anchor||"left")==="right"?o.style.right=c?c*this._renderService.dimensions.css.cell.width+"px":"":o.style.left=c?c*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(a){var o;(o=this._decorationElements.get(a))===null||o===void 0||o.remove(),this._decorationElements.delete(a),a.dispose()}};u.BufferDecorationRenderer=C=d([E(1,R.IBufferService),E(2,R.IDecorationService),E(3,b.IRenderService)],C)},5871:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ColorZoneStore=void 0,u.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(h){if(h.options.overviewRulerOptions){for(const d of this._zones)if(d.color===h.options.overviewRulerOptions.color&&d.position===h.options.overviewRulerOptions.position){if(this._lineIntersectsZone(d,h.marker.line))return;if(this._lineAdjacentToZone(d,h.marker.line,h.options.overviewRulerOptions.position))return void this._addLineToZone(d,h.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=h.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=h.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=h.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=h.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:h.options.overviewRulerOptions.color,position:h.options.overviewRulerOptions.position,startBufferLine:h.marker.line,endBufferLine:h.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(h){this._linePadding=h}_lineIntersectsZone(h,d){return d>=h.startBufferLine&&d<=h.endBufferLine}_lineAdjacentToZone(h,d,E){return d>=h.startBufferLine-this._linePadding[E||"full"]&&d<=h.endBufferLine+this._linePadding[E||"full"]}_addLineToZone(h,d){h.startBufferLine=Math.min(h.startBufferLine,d),h.endBufferLine=Math.max(h.endBufferLine,d)}}},5744:function(X,u,h){var d=this&&this.__decorate||function(v,S,A,L){var g,D=arguments.length,N=D<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,A):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(v,S,A,L);else for(var I=v.length-1;I>=0;I--)(g=v[I])&&(N=(D<3?g(N):D>3?g(S,A,N):g(S,A))||N);return D>3&&N&&Object.defineProperty(S,A,N),N},E=this&&this.__param||function(v,S){return function(A,L){S(A,L,v)}};Object.defineProperty(u,"__esModule",{value:!0}),u.OverviewRulerRenderer=void 0;const f=h(5871),b=h(3656),x=h(4725),R=h(844),C=h(2585),a={full:0,left:0,center:0,right:0},o={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0};let c=u.OverviewRulerRenderer=class extends R.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(v,S,A,L,g,D,N){var I;super(),this._viewportElement=v,this._screenElement=S,this._bufferService=A,this._decorationService=L,this._renderService=g,this._optionsService=D,this._coreBrowseService=N,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(I=this._viewportElement.parentElement)===null||I===void 0||I.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,R.toDisposable)((()=>{var q;(q=this._canvas)===null||q===void 0||q.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,b.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const v=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);o.full=this._canvas.width,o.left=v,o.center=S,o.right=v,this._refreshDrawHeightConstants(),l.full=0,l.left=0,l.center=o.left,l.right=o.left+o.center}_refreshDrawHeightConstants(){a.full=Math.round(2*this._coreBrowseService.dpr);const v=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(v,12),6)*this._coreBrowseService.dpr);a.left=S,a.center=S,a.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const v=this._colorZoneStore.zones;for(const S of v)S.position!=="full"&&this._renderColorZone(S);for(const S of v)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(v){this._ctx.fillStyle=v.color,this._ctx.fillRect(l[v.position||"full"],Math.round((this._canvas.height-1)*(v.startBufferLine/this._bufferService.buffers.active.lines.length)-a[v.position||"full"]/2),o[v.position||"full"],Math.round((this._canvas.height-1)*((v.endBufferLine-v.startBufferLine)/this._bufferService.buffers.active.lines.length)+a[v.position||"full"]))}_queueRefresh(v,S){this._shouldUpdateDimensions=v||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};u.OverviewRulerRenderer=c=d([E(2,C.IBufferService),E(3,C.IDecorationService),E(4,x.IRenderService),E(5,C.IOptionsService),E(6,x.ICoreBrowserService)],c)},2950:function(X,u,h){var d=this&&this.__decorate||function(C,a,o,l){var c,v=arguments.length,S=v<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(C,a,o,l);else for(var A=C.length-1;A>=0;A--)(c=C[A])&&(S=(v<3?c(S):v>3?c(a,o,S):c(a,o))||S);return v>3&&S&&Object.defineProperty(a,o,S),S},E=this&&this.__param||function(C,a){return function(o,l){a(o,l,C)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CompositionHelper=void 0;const f=h(4725),b=h(2585),x=h(2584);let R=u.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(C,a,o,l,c,v){this._textarea=C,this._compositionView=a,this._bufferService=o,this._optionsService=l,this._coreService=c,this._renderService=v,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(C){this._compositionView.textContent=C.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(C){if(this._isComposing||this._isSendingComposition){if(C.keyCode===229||C.keyCode===16||C.keyCode===17||C.keyCode===18)return!1;this._finalizeComposition(!1)}return C.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(C){if(this._compositionView.classList.remove("active"),this._isComposing=!1,C){const a={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let o;this._isSendingComposition=!1,a.start+=this._dataAlreadySent.length,o=this._isComposing?this._textarea.value.substring(a.start,a.end):this._textarea.value.substring(a.start),o.length>0&&this._coreService.triggerDataEvent(o,!0)}}),0)}else{this._isSendingComposition=!1;const a=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(a,!0)}}_handleAnyTextareaChanges(){const C=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const a=this._textarea.value,o=a.replace(C,"");this._dataAlreadySent=o,a.length>C.length?this._coreService.triggerDataEvent(o,!0):a.length<C.length?this._coreService.triggerDataEvent(`${x.C0.DEL}`,!0):a.length===C.length&&a!==C&&this._coreService.triggerDataEvent(a,!0)}}),0)}updateCompositionElements(C){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const a=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),o=this._renderService.dimensions.css.cell.height,l=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,c=a*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=c+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=o+"px",this._compositionView.style.lineHeight=o+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const v=this._compositionView.getBoundingClientRect();this._textarea.style.left=c+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(v.width,1)+"px",this._textarea.style.height=Math.max(v.height,1)+"px",this._textarea.style.lineHeight=v.height+"px"}C||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};u.CompositionHelper=R=d([E(2,b.IBufferService),E(3,b.IOptionsService),E(4,b.ICoreService),E(5,f.IRenderService)],R)},9806:(X,u)=>{function h(d,E,f){const b=f.getBoundingClientRect(),x=d.getComputedStyle(f),R=parseInt(x.getPropertyValue("padding-left")),C=parseInt(x.getPropertyValue("padding-top"));return[E.clientX-b.left-R,E.clientY-b.top-C]}Object.defineProperty(u,"__esModule",{value:!0}),u.getCoords=u.getCoordsRelativeToElement=void 0,u.getCoordsRelativeToElement=h,u.getCoords=function(d,E,f,b,x,R,C,a,o){if(!R)return;const l=h(d,E,f);return l?(l[0]=Math.ceil((l[0]+(o?C/2:0))/C),l[1]=Math.ceil(l[1]/a),l[0]=Math.min(Math.max(l[0],1),b+(o?1:0)),l[1]=Math.min(Math.max(l[1],1),x),l):void 0}},9504:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.moveToCellSequence=void 0;const d=h(2584);function E(a,o,l,c){const v=a-f(a,l),S=o-f(o,l),A=Math.abs(v-S)-(function(L,g,D){let N=0;const I=L-f(L,D),H=g-f(g,D);for(let q=0;q<Math.abs(I-H);q++){const se=b(L,g)==="A"?-1:1,ae=D.buffer.lines.get(I+se*q);ae!=null&&ae.isWrapped&&N++}return N})(a,o,l);return C(A,R(b(a,o),c))}function f(a,o){let l=0,c=o.buffer.lines.get(a),v=c==null?void 0:c.isWrapped;for(;v&&a>=0&&a<o.rows;)l++,c=o.buffer.lines.get(--a),v=c==null?void 0:c.isWrapped;return l}function b(a,o){return a>o?"A":"B"}function x(a,o,l,c,v,S){let A=a,L=o,g="";for(;A!==l||L!==c;)A+=v?1:-1,v&&A>S.cols-1?(g+=S.buffer.translateBufferLineToString(L,!1,a,A),A=0,a=0,L++):!v&&A<0&&(g+=S.buffer.translateBufferLineToString(L,!1,0,a+1),A=S.cols-1,a=A,L--);return g+S.buffer.translateBufferLineToString(L,!1,a,A)}function R(a,o){const l=o?"O":"[";return d.C0.ESC+l+a}function C(a,o){a=Math.floor(a);let l="";for(let c=0;c<a;c++)l+=o;return l}u.moveToCellSequence=function(a,o,l,c){const v=l.buffer.x,S=l.buffer.y;if(!l.buffer.hasScrollback)return(function(g,D,N,I,H,q){return E(D,I,H,q).length===0?"":C(x(g,D,g,D-f(D,H),!1,H).length,R("D",q))})(v,S,0,o,l,c)+E(S,o,l,c)+(function(g,D,N,I,H,q){let se;se=E(D,I,H,q).length>0?I-f(I,H):D;const ae=I,j=(function(P,O,k,z,T,G){let $;return $=E(k,z,T,G).length>0?z-f(z,T):O,P<k&&$<=z||P>=k&&$<z?"C":"D"})(g,D,N,I,H,q);return C(x(g,se,N,ae,j==="C",H).length,R(j,q))})(v,S,a,o,l,c);let A;if(S===o)return A=v>a?"D":"C",C(Math.abs(v-a),R(A,c));A=S>o?"D":"C";const L=Math.abs(S-o);return C((function(g,D){return D.cols-g})(S>o?a:v,l)+(L-1)*l.cols+1+((S>o?v:a)-1),R(A,c))}},1296:function(X,u,h){var d=this&&this.__decorate||function(H,q,se,ae){var j,P=arguments.length,O=P<3?q:ae===null?ae=Object.getOwnPropertyDescriptor(q,se):ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(H,q,se,ae);else for(var k=H.length-1;k>=0;k--)(j=H[k])&&(O=(P<3?j(O):P>3?j(q,se,O):j(q,se))||O);return P>3&&O&&Object.defineProperty(q,se,O),O},E=this&&this.__param||function(H,q){return function(se,ae){q(se,ae,H)}};Object.defineProperty(u,"__esModule",{value:!0}),u.DomRenderer=void 0;const f=h(3787),b=h(2550),x=h(2223),R=h(6171),C=h(4725),a=h(8055),o=h(8460),l=h(844),c=h(2585),v="xterm-dom-renderer-owner-",S="xterm-rows",A="xterm-fg-",L="xterm-bg-",g="xterm-focus",D="xterm-selection";let N=1,I=u.DomRenderer=class extends l.Disposable{constructor(H,q,se,ae,j,P,O,k,z,T){super(),this._element=H,this._screenElement=q,this._viewportElement=se,this._linkifier2=ae,this._charSizeService=P,this._optionsService=O,this._bufferService=k,this._coreBrowserService=z,this._themeService=T,this._terminalClass=N++,this._rowElements=[],this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(D),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,R.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((G=>this._injectCss(G)))),this._injectCss(this._themeService.colors),this._rowFactory=j.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(v+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((G=>this._handleLinkHover(G)))),this.register(this._linkifier2.onHideLinkUnderline((G=>this._handleLinkLeave(G)))),this.register((0,l.toDisposable)((()=>{this._element.classList.remove(v+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new b.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const H=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*H,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*H),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/H),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/H),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const se of this._rowElements)se.style.width=`${this.dimensions.css.canvas.width}px`,se.style.height=`${this.dimensions.css.cell.height}px`,se.style.lineHeight=`${this.dimensions.css.cell.height}px`,se.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const q=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=q,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(H){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let q=`${this._terminalSelector} .${S} { color: ${H.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;q+=`${this._terminalSelector} .${S} .xterm-dim { color: ${a.color.multiplyOpacity(H.foreground,.5).css};}`,q+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,q+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",q+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${H.cursor.css};  color: ${H.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${H.cursor.css}; }}`,q+=`${this._terminalSelector} .${S}.${g} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${g} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${H.cursor.css}; color: ${H.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${H.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${H.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${H.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,q+=`${this._terminalSelector} .${D} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${D} div { position: absolute; background-color: ${H.selectionBackgroundOpaque.css};}${this._terminalSelector} .${D} div { position: absolute; background-color: ${H.selectionInactiveBackgroundOpaque.css};}`;for(const[se,ae]of H.ansi.entries())q+=`${this._terminalSelector} .${A}${se} { color: ${ae.css}; }${this._terminalSelector} .${A}${se}.xterm-dim { color: ${a.color.multiplyOpacity(ae,.5).css}; }${this._terminalSelector} .${L}${se} { background-color: ${ae.css}; }`;q+=`${this._terminalSelector} .${A}${x.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque(H.background).css}; }${this._terminalSelector} .${A}${x.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${a.color.multiplyOpacity(a.color.opaque(H.background),.5).css}; }${this._terminalSelector} .${L}${x.INVERTED_DEFAULT_COLOR} { background-color: ${H.foreground.css}; }`,this._themeStyleElement.textContent=q}_setDefaultSpacing(){const H=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${H}px`,this._rowFactory.defaultSpacing=H}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(H,q){for(let se=this._rowElements.length;se<=q;se++){const ae=document.createElement("div");this._rowContainer.appendChild(ae),this._rowElements.push(ae)}for(;this._rowElements.length>q;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(H,q){this._refreshRowElements(H,q),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(g)}handleFocus(){this._rowContainer.classList.add(g),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(H,q,se){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(H,q,se),this.renderRows(0,this._bufferService.rows-1),!H||!q)return;const ae=H[1]-this._bufferService.buffer.ydisp,j=q[1]-this._bufferService.buffer.ydisp,P=Math.max(ae,0),O=Math.min(j,this._bufferService.rows-1);if(P>=this._bufferService.rows||O<0)return;const k=document.createDocumentFragment();if(se){const z=H[0]>q[0];k.appendChild(this._createSelectionElement(P,z?q[0]:H[0],z?H[0]:q[0],O-P+1))}else{const z=ae===P?H[0]:0,T=P===j?q[0]:this._bufferService.cols;k.appendChild(this._createSelectionElement(P,z,T));const G=O-P-1;if(k.appendChild(this._createSelectionElement(P+1,0,this._bufferService.cols,G)),P!==O){const $=j===O?q[0]:this._bufferService.cols;k.appendChild(this._createSelectionElement(O,0,$))}}this._selectionContainer.appendChild(k)}_createSelectionElement(H,q,se,ae=1){const j=document.createElement("div");return j.style.height=ae*this.dimensions.css.cell.height+"px",j.style.top=H*this.dimensions.css.cell.height+"px",j.style.left=q*this.dimensions.css.cell.width+"px",j.style.width=this.dimensions.css.cell.width*(se-q)+"px",j}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const H of this._rowElements)H.replaceChildren()}renderRows(H,q){const se=this._bufferService.buffer,ae=se.ybase+se.y,j=Math.min(se.x,this._bufferService.cols-1),P=this._optionsService.rawOptions.cursorBlink,O=this._optionsService.rawOptions.cursorStyle,k=this._optionsService.rawOptions.cursorInactiveStyle;for(let z=H;z<=q;z++){const T=z+se.ydisp,G=this._rowElements[z],$=se.lines.get(T);if(!G||!$)break;G.replaceChildren(...this._rowFactory.createRow($,T,T===ae,O,k,j,P,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${v}${this._terminalClass}`}_handleLinkHover(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!0)}_handleLinkLeave(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!1)}_setCellUnderline(H,q,se,ae,j,P){se<0&&(H=0),ae<0&&(q=0);const O=this._bufferService.rows-1;se=Math.max(Math.min(se,O),0),ae=Math.max(Math.min(ae,O),0),j=Math.min(j,this._bufferService.cols);const k=this._bufferService.buffer,z=k.ybase+k.y,T=Math.min(k.x,j-1),G=this._optionsService.rawOptions.cursorBlink,$=this._optionsService.rawOptions.cursorStyle,oe=this._optionsService.rawOptions.cursorInactiveStyle;for(let ue=se;ue<=ae;++ue){const de=ue+k.ydisp,B=this._rowElements[ue],F=k.lines.get(de);if(!B||!F)break;B.replaceChildren(...this._rowFactory.createRow(F,de,de===z,$,oe,T,G,this.dimensions.css.cell.width,this._widthCache,P?ue===se?H:0:-1,P?(ue===ae?q:j)-1:-1))}}};u.DomRenderer=I=d([E(4,c.IInstantiationService),E(5,C.ICharSizeService),E(6,c.IOptionsService),E(7,c.IBufferService),E(8,C.ICoreBrowserService),E(9,C.IThemeService)],I)},3787:function(X,u,h){var d=this&&this.__decorate||function(A,L,g,D){var N,I=arguments.length,H=I<3?L:D===null?D=Object.getOwnPropertyDescriptor(L,g):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(A,L,g,D);else for(var q=A.length-1;q>=0;q--)(N=A[q])&&(H=(I<3?N(H):I>3?N(L,g,H):N(L,g))||H);return I>3&&H&&Object.defineProperty(L,g,H),H},E=this&&this.__param||function(A,L){return function(g,D){L(g,D,A)}};Object.defineProperty(u,"__esModule",{value:!0}),u.DomRendererRowFactory=void 0;const f=h(2223),b=h(643),x=h(511),R=h(2585),C=h(8055),a=h(4725),o=h(4269),l=h(6171),c=h(3734);let v=u.DomRendererRowFactory=class{constructor(A,L,g,D,N,I,H){this._document=A,this._characterJoinerService=L,this._optionsService=g,this._coreBrowserService=D,this._coreService=N,this._decorationService=I,this._themeService=H,this._workCell=new x.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(A,L,g){this._selectionStart=A,this._selectionEnd=L,this._columnSelectMode=g}createRow(A,L,g,D,N,I,H,q,se,ae,j){const P=[],O=this._characterJoinerService.getJoinedCharacters(L),k=this._themeService.colors;let z,T=A.getNoBgTrimmedLength();g&&T<I+1&&(T=I+1);let G=0,$="",oe=0,ue=0,de=0,B=!1,F=0,ie=!1,ne=0;const pe=[],he=ae!==-1&&j!==-1;for(let Te=0;Te<T;Te++){A.loadCell(Te,this._workCell);let Ue=this._workCell.getWidth();if(Ue===0)continue;let it=!1,Xt=Te,be=this._workCell;if(O.length>0&&Te===O[0][0]){it=!0;const je=O.shift();be=new o.JoinedCellData(this._workCell,A.translateToString(!0,je[0],je[1]),je[1]-je[0]),Xt=je[1]-1,Ue=be.getWidth()}const mi=this._isCellInSelection(Te,L),Pi=g&&Te===I,Xi=he&&Te>=ae&&Te<=j;let Fi=!1;this._decorationService.forEachDecorationAtCell(Te,L,void 0,(je=>{Fi=!0}));let vs=be.getChars()||b.WHITESPACE_CELL_CHAR;if(vs===" "&&(be.isUnderline()||be.isOverline())&&(vs=""),ne=Ue*q-se.get(vs,be.isBold(),be.isItalic()),z){if(G&&(mi&&ie||!mi&&!ie&&be.bg===oe)&&(mi&&ie&&k.selectionForeground||be.fg===ue)&&be.extended.ext===de&&Xi===B&&ne===F&&!Pi&&!it&&!Fi){$+=vs,G++;continue}G&&(z.textContent=$),z=this._document.createElement("span"),G=0,$=""}else z=this._document.createElement("span");if(oe=be.bg,ue=be.fg,de=be.extended.ext,B=Xi,F=ne,ie=mi,it&&I>=Te&&I<=Xt&&(I=Te),!this._coreService.isCursorHidden&&Pi){if(pe.push("xterm-cursor"),this._coreBrowserService.isFocused)H&&pe.push("xterm-cursor-blink"),pe.push(D==="bar"?"xterm-cursor-bar":D==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(N)switch(N){case"outline":pe.push("xterm-cursor-outline");break;case"block":pe.push("xterm-cursor-block");break;case"bar":pe.push("xterm-cursor-bar");break;case"underline":pe.push("xterm-cursor-underline")}}if(be.isBold()&&pe.push("xterm-bold"),be.isItalic()&&pe.push("xterm-italic"),be.isDim()&&pe.push("xterm-dim"),$=be.isInvisible()?b.WHITESPACE_CELL_CHAR:be.getChars()||b.WHITESPACE_CELL_CHAR,be.isUnderline()&&(pe.push(`xterm-underline-${be.extended.underlineStyle}`),$===" "&&($=""),!be.isUnderlineColorDefault()))if(be.isUnderlineColorRGB())z.style.textDecorationColor=`rgb(${c.AttributeData.toColorRGB(be.getUnderlineColor()).join(",")})`;else{let je=be.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&be.isBold()&&je<8&&(je+=8),z.style.textDecorationColor=k.ansi[je].css}be.isOverline()&&(pe.push("xterm-overline"),$===" "&&($="")),be.isStrikethrough()&&pe.push("xterm-strikethrough"),Xi&&(z.style.textDecoration="underline");let ft=be.getFgColor(),et=be.getFgColorMode(),Lt=be.getBgColor(),Si=be.getBgColorMode();const gs=!!be.isInverse();if(gs){const je=ft;ft=Lt,Lt=je;const Qi=et;et=Si,Si=Qi}let yt,sr,Yt,Wi=!1;switch(this._decorationService.forEachDecorationAtCell(Te,L,void 0,(je=>{je.options.layer!=="top"&&Wi||(je.backgroundColorRGB&&(Si=50331648,Lt=je.backgroundColorRGB.rgba>>8&16777215,yt=je.backgroundColorRGB),je.foregroundColorRGB&&(et=50331648,ft=je.foregroundColorRGB.rgba>>8&16777215,sr=je.foregroundColorRGB),Wi=je.options.layer==="top")})),!Wi&&mi&&(yt=this._coreBrowserService.isFocused?k.selectionBackgroundOpaque:k.selectionInactiveBackgroundOpaque,Lt=yt.rgba>>8&16777215,Si=50331648,Wi=!0,k.selectionForeground&&(et=50331648,ft=k.selectionForeground.rgba>>8&16777215,sr=k.selectionForeground)),Wi&&pe.push("xterm-decoration-top"),Si){case 16777216:case 33554432:Yt=k.ansi[Lt],pe.push(`xterm-bg-${Lt}`);break;case 50331648:Yt=C.rgba.toColor(Lt>>16,Lt>>8&255,255&Lt),this._addStyle(z,`background-color:#${S((Lt>>>0).toString(16),"0",6)}`);break;default:gs?(Yt=k.foreground,pe.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):Yt=k.background}switch(yt||be.isDim()&&(yt=C.color.multiplyOpacity(Yt,.5)),et){case 16777216:case 33554432:be.isBold()&&ft<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ft+=8),this._applyMinimumContrast(z,Yt,k.ansi[ft],be,yt,void 0)||pe.push(`xterm-fg-${ft}`);break;case 50331648:const je=C.rgba.toColor(ft>>16&255,ft>>8&255,255&ft);this._applyMinimumContrast(z,Yt,je,be,yt,sr)||this._addStyle(z,`color:#${S(ft.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(z,Yt,k.foreground,be,yt,void 0)||gs&&pe.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}pe.length&&(z.className=pe.join(" "),pe.length=0),Pi||it||Fi?z.textContent=$:G++,ne!==this.defaultSpacing&&(z.style.letterSpacing=`${ne}px`),P.push(z),Te=Xt}return z&&G&&(z.textContent=$),P}_applyMinimumContrast(A,L,g,D,N,I){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,l.excludeFromContrastRatioDemands)(D.getCode()))return!1;const H=this._getContrastCache(D);let q;if(N||I||(q=H.getColor(L.rgba,g.rgba)),q===void 0){const se=this._optionsService.rawOptions.minimumContrastRatio/(D.isDim()?2:1);q=C.color.ensureContrastRatio(N||L,I||g,se),H.setColor((N||L).rgba,(I||g).rgba,q??null)}return!!q&&(this._addStyle(A,`color:${q.css}`),!0)}_getContrastCache(A){return A.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(A,L){A.setAttribute("style",`${A.getAttribute("style")||""}${L};`)}_isCellInSelection(A,L){const g=this._selectionStart,D=this._selectionEnd;return!(!g||!D)&&(this._columnSelectMode?g[0]<=D[0]?A>=g[0]&&L>=g[1]&&A<D[0]&&L<=D[1]:A<g[0]&&L>=g[1]&&A>=D[0]&&L<=D[1]:L>g[1]&&L<D[1]||g[1]===D[1]&&L===g[1]&&A>=g[0]&&A<D[0]||g[1]<D[1]&&L===D[1]&&A<D[0]||g[1]<D[1]&&L===g[1]&&A>=g[0])}};function S(A,L,g){for(;A.length<g;)A=L+A;return A}u.DomRendererRowFactory=v=d([E(1,a.ICharacterJoinerService),E(2,R.IOptionsService),E(3,a.ICoreBrowserService),E(4,R.ICoreService),E(5,R.IDecorationService),E(6,a.IThemeService)],v)},2550:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WidthCache=void 0,u.WidthCache=class{constructor(h){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=h.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const d=h.createElement("span"),E=h.createElement("span");E.style.fontWeight="bold";const f=h.createElement("span");f.style.fontStyle="italic";const b=h.createElement("span");b.style.fontWeight="bold",b.style.fontStyle="italic",this._measureElements=[d,E,f,b],this._container.appendChild(d),this._container.appendChild(E),this._container.appendChild(f),this._container.appendChild(b),h.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(h,d,E,f){h===this._font&&d===this._fontSize&&E===this._weight&&f===this._weightBold||(this._font=h,this._fontSize=d,this._weight=E,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${E}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${E}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(h,d,E){let f=0;if(!d&&!E&&h.length===1&&(f=h.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(h,0);let b=h;d&&(b+="B"),E&&(b+="I");let x=this._holey.get(b);if(x===void 0){let R=0;d&&(R|=1),E&&(R|=2),x=this._measure(h,R),this._holey.set(b,x)}return x}_measure(h,d){const E=this._measureElements[d];return E.textContent=h.repeat(32),E.offsetWidth/32}}},2223:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TEXT_BASELINE=u.DIM_OPACITY=u.INVERTED_DEFAULT_COLOR=void 0;const d=h(6114);u.INVERTED_DEFAULT_COLOR=257,u.DIM_OPACITY=.5,u.TEXT_BASELINE=d.isFirefox||d.isLegacyEdge?"bottom":"ideographic"},6171:(X,u)=>{function h(d){return 57508<=d&&d<=57558}Object.defineProperty(u,"__esModule",{value:!0}),u.createRenderDimensions=u.excludeFromContrastRatioDemands=u.isRestrictedPowerlineGlyph=u.isPowerlineGlyph=u.throwIfFalsy=void 0,u.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},u.isPowerlineGlyph=h,u.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},u.excludeFromContrastRatioDemands=function(d){return h(d)||(function(E){return 9472<=E&&E<=9631})(d)},u.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SelectionModel=void 0,u.SelectionModel=class{constructor(h){this._bufferService=h,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?h%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)-1]:[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[h,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[Math.max(h,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const h=this.selectionStart,d=this.selectionEnd;return!(!h||!d)&&(h[1]>d[1]||h[1]===d[1]&&h[0]>d[0])}handleTrim(h){return this.selectionStart&&(this.selectionStart[1]-=h),this.selectionEnd&&(this.selectionEnd[1]-=h),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(X,u,h){var d=this&&this.__decorate||function(a,o,l,c){var v,S=arguments.length,A=S<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(a,o,l,c);else for(var L=a.length-1;L>=0;L--)(v=a[L])&&(A=(S<3?v(A):S>3?v(o,l,A):v(o,l))||A);return S>3&&A&&Object.defineProperty(o,l,A),A},E=this&&this.__param||function(a,o){return function(l,c){o(l,c,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CharSizeService=void 0;const f=h(2585),b=h(8460),x=h(844);let R=u.CharSizeService=class extends x.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,o,l){super(),this._optionsService=l,this.width=0,this.height=0,this._onCharSizeChange=this.register(new b.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new C(a,o,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};u.CharSizeService=R=d([E(2,f.IOptionsService)],R);class C{constructor(o,l,c){this._document=o,this._parentElement=l,this._optionsService=c,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const o={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return o.width!==0&&o.height!==0&&(this._result.width=o.width/32,this._result.height=Math.ceil(o.height)),this._result}}},4269:function(X,u,h){var d=this&&this.__decorate||function(o,l,c,v){var S,A=arguments.length,L=A<3?l:v===null?v=Object.getOwnPropertyDescriptor(l,c):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(o,l,c,v);else for(var g=o.length-1;g>=0;g--)(S=o[g])&&(L=(A<3?S(L):A>3?S(l,c,L):S(l,c))||L);return A>3&&L&&Object.defineProperty(l,c,L),L},E=this&&this.__param||function(o,l){return function(c,v){l(c,v,o)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CharacterJoinerService=u.JoinedCellData=void 0;const f=h(3734),b=h(643),x=h(511),R=h(2585);class C extends f.AttributeData{constructor(l,c,v){super(),this.content=0,this.combinedData="",this.fg=l.fg,this.bg=l.bg,this.combinedData=c,this._width=v}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(l){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}u.JoinedCellData=C;let a=u.CharacterJoinerService=class Yd{constructor(l){this._bufferService=l,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new x.CellData}register(l){const c={id:this._nextCharacterJoinerId++,handler:l};return this._characterJoiners.push(c),c.id}deregister(l){for(let c=0;c<this._characterJoiners.length;c++)if(this._characterJoiners[c].id===l)return this._characterJoiners.splice(c,1),!0;return!1}getJoinedCharacters(l){if(this._characterJoiners.length===0)return[];const c=this._bufferService.buffer.lines.get(l);if(!c||c.length===0)return[];const v=[],S=c.translateToString(!0);let A=0,L=0,g=0,D=c.getFg(0),N=c.getBg(0);for(let I=0;I<c.getTrimmedLength();I++)if(c.loadCell(I,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==D||this._workCell.bg!==N){if(I-A>1){const H=this._getJoinedRanges(S,g,L,c,A);for(let q=0;q<H.length;q++)v.push(H[q])}A=I,g=L,D=this._workCell.fg,N=this._workCell.bg}L+=this._workCell.getChars().length||b.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-A>1){const I=this._getJoinedRanges(S,g,L,c,A);for(let H=0;H<I.length;H++)v.push(I[H])}return v}_getJoinedRanges(l,c,v,S,A){const L=l.substring(c,v);let g=[];try{g=this._characterJoiners[0].handler(L)}catch(D){console.error(D)}for(let D=1;D<this._characterJoiners.length;D++)try{const N=this._characterJoiners[D].handler(L);for(let I=0;I<N.length;I++)Yd._mergeRanges(g,N[I])}catch(N){console.error(N)}return this._stringRangesToCellRanges(g,S,A),g}_stringRangesToCellRanges(l,c,v){let S=0,A=!1,L=0,g=l[S];if(g){for(let D=v;D<this._bufferService.cols;D++){const N=c.getWidth(D),I=c.getString(D).length||b.WHITESPACE_CELL_CHAR.length;if(N!==0){if(!A&&g[0]<=L&&(g[0]=D,A=!0),g[1]<=L){if(g[1]=D,g=l[++S],!g)break;g[0]<=L?(g[0]=D,A=!0):A=!1}L+=I}}g&&(g[1]=this._bufferService.cols)}}static _mergeRanges(l,c){let v=!1;for(let S=0;S<l.length;S++){const A=l[S];if(v){if(c[1]<=A[0])return l[S-1][1]=c[1],l;if(c[1]<=A[1])return l[S-1][1]=Math.max(c[1],A[1]),l.splice(S,1),l;l.splice(S,1),S--}else{if(c[1]<=A[0])return l.splice(S,0,c),l;if(c[1]<=A[1])return A[0]=Math.min(c[0],A[0]),l;c[0]<A[1]&&(A[0]=Math.min(c[0],A[0]),v=!0)}}return v?l[l.length-1][1]=c[1]:l.push(c),l}};u.CharacterJoinerService=a=d([E(0,R.IBufferService)],a)},5114:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CoreBrowserService=void 0,u.CoreBrowserService=class{constructor(h,d){this._textarea=h,this.window=d,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(X,u,h){var d=this&&this.__decorate||function(R,C,a,o){var l,c=arguments.length,v=c<3?C:o===null?o=Object.getOwnPropertyDescriptor(C,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(R,C,a,o);else for(var S=R.length-1;S>=0;S--)(l=R[S])&&(v=(c<3?l(v):c>3?l(C,a,v):l(C,a))||v);return c>3&&v&&Object.defineProperty(C,a,v),v},E=this&&this.__param||function(R,C){return function(a,o){C(a,o,R)}};Object.defineProperty(u,"__esModule",{value:!0}),u.MouseService=void 0;const f=h(4725),b=h(9806);let x=u.MouseService=class{constructor(R,C){this._renderService=R,this._charSizeService=C}getCoords(R,C,a,o,l){return(0,b.getCoords)(window,R,C,a,o,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,l)}getMouseReportCoords(R,C){const a=(0,b.getCoordsRelativeToElement)(window,R,C);if(this._charSizeService.hasValidSize)return a[0]=Math.min(Math.max(a[0],0),this._renderService.dimensions.css.canvas.width-1),a[1]=Math.min(Math.max(a[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(a[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(a[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(a[0]),y:Math.floor(a[1])}}};u.MouseService=x=d([E(0,f.IRenderService),E(1,f.ICharSizeService)],x)},3230:function(X,u,h){var d=this&&this.__decorate||function(v,S,A,L){var g,D=arguments.length,N=D<3?S:L===null?L=Object.getOwnPropertyDescriptor(S,A):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(v,S,A,L);else for(var I=v.length-1;I>=0;I--)(g=v[I])&&(N=(D<3?g(N):D>3?g(S,A,N):g(S,A))||N);return D>3&&N&&Object.defineProperty(S,A,N),N},E=this&&this.__param||function(v,S){return function(A,L){S(A,L,v)}};Object.defineProperty(u,"__esModule",{value:!0}),u.RenderService=void 0;const f=h(3656),b=h(6193),x=h(5596),R=h(4725),C=h(8460),a=h(844),o=h(7226),l=h(2585);let c=u.RenderService=class extends a.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(v,S,A,L,g,D,N,I){if(super(),this._rowCount=v,this._charSizeService=L,this._renderer=this.register(new a.MutableDisposable),this._pausedResizeTask=new o.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new C.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new C.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new C.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new C.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new b.RenderDebouncer(N.window,((H,q)=>this._renderRows(H,q))),this.register(this._renderDebouncer),this._screenDprMonitor=new x.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(D.onResize((()=>this._fullRefresh()))),this.register(D.buffers.onBufferActivate((()=>{var H;return(H=this._renderer.value)===null||H===void 0?void 0:H.clear()}))),this.register(A.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(g.onDecorationRegistered((()=>this._fullRefresh()))),this.register(g.onDecorationRemoved((()=>this._fullRefresh()))),this.register(A.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(D.cols,D.rows),this._fullRefresh()}))),this.register(A.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(D.buffer.y,D.buffer.y,!0)))),this.register((0,f.addDisposableDomListener)(N.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register(I.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in N.window){const H=new N.window.IntersectionObserver((q=>this._handleIntersectionChange(q[q.length-1])),{threshold:0});H.observe(S),this.register({dispose:()=>H.disconnect()})}}_handleIntersectionChange(v){this._isPaused=v.isIntersecting===void 0?v.intersectionRatio===0:!v.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(v,S,A=!1){this._isPaused?this._needsFullRefresh=!0:(A||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(v,S,this._rowCount))}_renderRows(v,S){this._renderer.value&&(v=Math.min(v,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(v,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:v,end:S}),this._onRender.fire({start:v,end:S}),this._isNextRenderRedrawOnly=!0)}resize(v,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(v){this._renderer.value=v,this._renderer.value.onRequestRedraw((S=>this.refreshRows(S.start,S.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(v){return this._renderDebouncer.addRefreshCallback(v)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var v,S;this._renderer.value&&((S=(v=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(v),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(v,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(v,S))):this._renderer.value.handleResize(v,S),this._fullRefresh())}handleCharSizeChanged(){var v;(v=this._renderer.value)===null||v===void 0||v.handleCharSizeChanged()}handleBlur(){var v;(v=this._renderer.value)===null||v===void 0||v.handleBlur()}handleFocus(){var v;(v=this._renderer.value)===null||v===void 0||v.handleFocus()}handleSelectionChanged(v,S,A){var L;this._selectionState.start=v,this._selectionState.end=S,this._selectionState.columnSelectMode=A,(L=this._renderer.value)===null||L===void 0||L.handleSelectionChanged(v,S,A)}handleCursorMove(){var v;(v=this._renderer.value)===null||v===void 0||v.handleCursorMove()}clear(){var v;(v=this._renderer.value)===null||v===void 0||v.clear()}};u.RenderService=c=d([E(2,l.IOptionsService),E(3,R.ICharSizeService),E(4,l.IDecorationService),E(5,l.IBufferService),E(6,R.ICoreBrowserService),E(7,R.IThemeService)],c)},9312:function(X,u,h){var d=this&&this.__decorate||function(g,D,N,I){var H,q=arguments.length,se=q<3?D:I===null?I=Object.getOwnPropertyDescriptor(D,N):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(g,D,N,I);else for(var ae=g.length-1;ae>=0;ae--)(H=g[ae])&&(se=(q<3?H(se):q>3?H(D,N,se):H(D,N))||se);return q>3&&se&&Object.defineProperty(D,N,se),se},E=this&&this.__param||function(g,D){return function(N,I){D(N,I,g)}};Object.defineProperty(u,"__esModule",{value:!0}),u.SelectionService=void 0;const f=h(9806),b=h(9504),x=h(456),R=h(4725),C=h(8460),a=h(844),o=h(6114),l=h(4841),c=h(511),v=h(2585),S="",A=new RegExp(S,"g");let L=u.SelectionService=class extends a.Disposable{constructor(g,D,N,I,H,q,se,ae,j){super(),this._element=g,this._screenElement=D,this._linkifier=N,this._bufferService=I,this._coreService=H,this._mouseService=q,this._optionsService=se,this._renderService=ae,this._coreBrowserService=j,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new c.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=P=>this._handleMouseMove(P),this._mouseUpListener=P=>this._handleMouseUp(P),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((P=>this._handleTrim(P))),this.register(this._bufferService.buffers.onBufferActivate((P=>this._handleBufferActivate(P)))),this.enable(),this._model=new x.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const g=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;return!(!g||!D||g[0]===D[0]&&g[1]===D[1])}get selectionText(){const g=this._model.finalSelectionStart,D=this._model.finalSelectionEnd;if(!g||!D)return"";const N=this._bufferService.buffer,I=[];if(this._activeSelectionMode===3){if(g[0]===D[0])return"";const H=g[0]<D[0]?g[0]:D[0],q=g[0]<D[0]?D[0]:g[0];for(let se=g[1];se<=D[1];se++){const ae=N.translateBufferLineToString(se,!0,H,q);I.push(ae)}}else{const H=g[1]===D[1]?D[0]:void 0;I.push(N.translateBufferLineToString(g[1],!0,g[0],H));for(let q=g[1]+1;q<=D[1]-1;q++){const se=N.lines.get(q),ae=N.translateBufferLineToString(q,!0);se!=null&&se.isWrapped?I[I.length-1]+=ae:I.push(ae)}if(g[1]!==D[1]){const q=N.lines.get(D[1]),se=N.translateBufferLineToString(D[1],!0,0,D[0]);q&&q.isWrapped?I[I.length-1]+=se:I.push(se)}}return I.map((H=>H.replace(A," "))).join(o.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(g){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),o.isLinux&&g&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(g){const D=this._getMouseBufferCoords(g),N=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!!(N&&I&&D)&&this._areCoordsInSelection(D,N,I)}isCellInSelection(g,D){const N=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!(!N||!I)&&this._areCoordsInSelection([g,D],N,I)}_areCoordsInSelection(g,D,N){return g[1]>D[1]&&g[1]<N[1]||D[1]===N[1]&&g[1]===D[1]&&g[0]>=D[0]&&g[0]<N[0]||D[1]<N[1]&&g[1]===N[1]&&g[0]<N[0]||D[1]<N[1]&&g[1]===D[1]&&g[0]>=D[0]}_selectWordAtCursor(g,D){var N,I;const H=(I=(N=this._linkifier.currentLink)===null||N===void 0?void 0:N.link)===null||I===void 0?void 0:I.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=(0,l.getRangeLength)(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const q=this._getMouseBufferCoords(g);return!!q&&(this._selectWordAt(q,D),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(g,D){this._model.clearSelection(),g=Math.max(g,0),D=Math.min(D,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,g],this._model.selectionEnd=[this._bufferService.cols,D],this.refresh(),this._onSelectionChange.fire()}_handleTrim(g){this._model.handleTrim(g)&&this.refresh()}_getMouseBufferCoords(g){const D=this._mouseService.getCoords(g,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(D)return D[0]--,D[1]--,D[1]+=this._bufferService.buffer.ydisp,D}_getMouseEventScrollAmount(g){let D=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,g,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return D>=0&&D<=N?0:(D>N&&(D-=N),D=Math.min(Math.max(D,-50),50),D/=50,D/Math.abs(D)+Math.round(14*D))}shouldForceSelection(g){return o.isMac?g.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:g.shiftKey}handleMouseDown(g){if(this._mouseDownTimeStamp=g.timeStamp,(g.button!==2||!this.hasSelection)&&g.button===0){if(!this._enabled){if(!this.shouldForceSelection(g))return;g.stopPropagation()}g.preventDefault(),this._dragScrollAmount=0,this._enabled&&g.shiftKey?this._handleIncrementalClick(g):g.detail===1?this._handleSingleClick(g):g.detail===2?this._handleDoubleClick(g):g.detail===3&&this._handleTripleClick(g),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(g){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(g))}_handleSingleClick(g){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(g)?3:0,this._model.selectionStart=this._getMouseBufferCoords(g),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const D=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);D&&D.length!==this._model.selectionStart[0]&&D.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(g){this._selectWordAtCursor(g,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(g){const D=this._getMouseBufferCoords(g);D&&(this._activeSelectionMode=2,this._selectLineAt(D[1]))}shouldColumnSelect(g){return g.altKey&&!(o.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(g){if(g.stopImmediatePropagation(),!this._model.selectionStart)return;const D=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(g),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(g),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const I=N.lines.get(this._model.selectionEnd[1]);I&&I.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}D&&D[0]===this._model.selectionEnd[0]&&D[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const g=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(g.ydisp+this._bufferService.rows,g.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=g.ydisp),this.refresh()}}_handleMouseUp(g){const D=g.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&D<500&&g.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(g,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&N[0]!==void 0&&N[1]!==void 0){const I=(0,b.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(I,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const g=this._model.finalSelectionStart,D=this._model.finalSelectionEnd,N=!(!g||!D||g[0]===D[0]&&g[1]===D[1]);N?g&&D&&(this._oldSelectionStart&&this._oldSelectionEnd&&g[0]===this._oldSelectionStart[0]&&g[1]===this._oldSelectionStart[1]&&D[0]===this._oldSelectionEnd[0]&&D[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(g,D,N)):this._oldHasSelection&&this._fireOnSelectionChange(g,D,N)}_fireOnSelectionChange(g,D,N){this._oldSelectionStart=g,this._oldSelectionEnd=D,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(g){this.clearSelection(),this._trimListener.dispose(),this._trimListener=g.activeBuffer.lines.onTrim((D=>this._handleTrim(D)))}_convertViewportColToCharacterIndex(g,D){let N=D;for(let I=0;D>=I;I++){const H=g.loadCell(I,this._workCell).getChars().length;this._workCell.getWidth()===0?N--:H>1&&D!==I&&(N+=H-1)}return N}setSelection(g,D,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[g,D],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(g){this._isClickInSelection(g)||(this._selectWordAtCursor(g,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(g,D,N=!0,I=!0){if(g[0]>=this._bufferService.cols)return;const H=this._bufferService.buffer,q=H.lines.get(g[1]);if(!q)return;const se=H.translateBufferLineToString(g[1],!1);let ae=this._convertViewportColToCharacterIndex(q,g[0]),j=ae;const P=g[0]-ae;let O=0,k=0,z=0,T=0;if(se.charAt(ae)===" "){for(;ae>0&&se.charAt(ae-1)===" ";)ae--;for(;j<se.length&&se.charAt(j+1)===" ";)j++}else{let oe=g[0],ue=g[0];q.getWidth(oe)===0&&(O++,oe--),q.getWidth(ue)===2&&(k++,ue++);const de=q.getString(ue).length;for(de>1&&(T+=de-1,j+=de-1);oe>0&&ae>0&&!this._isCharWordSeparator(q.loadCell(oe-1,this._workCell));){q.loadCell(oe-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(O++,oe--):B>1&&(z+=B-1,ae-=B-1),ae--,oe--}for(;ue<q.length&&j+1<se.length&&!this._isCharWordSeparator(q.loadCell(ue+1,this._workCell));){q.loadCell(ue+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(k++,ue++):B>1&&(T+=B-1,j+=B-1),j++,ue++}}j++;let G=ae+P-O+z,$=Math.min(this._bufferService.cols,j-ae+O+k-z-T);if(D||se.slice(ae,j).trim()!==""){if(N&&G===0&&q.getCodePoint(0)!==32){const oe=H.lines.get(g[1]-1);if(oe&&q.isWrapped&&oe.getCodePoint(this._bufferService.cols-1)!==32){const ue=this._getWordAt([this._bufferService.cols-1,g[1]-1],!1,!0,!1);if(ue){const de=this._bufferService.cols-ue.start;G-=de,$+=de}}}if(I&&G+$===this._bufferService.cols&&q.getCodePoint(this._bufferService.cols-1)!==32){const oe=H.lines.get(g[1]+1);if(oe!=null&&oe.isWrapped&&oe.getCodePoint(0)!==32){const ue=this._getWordAt([0,g[1]+1],!1,!1,!0);ue&&($+=ue.length)}}return{start:G,length:$}}}_selectWordAt(g,D){const N=this._getWordAt(g,D);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,g[1]--;this._model.selectionStart=[N.start,g[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(g){const D=this._getWordAt(g,!0);if(D){let N=g[1];for(;D.start<0;)D.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;D.start+D.length>this._bufferService.cols;)D.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?D.start:D.start+D.length,N]}}_isCharWordSeparator(g){return g.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(g.getChars())>=0}_selectLineAt(g){const D=this._bufferService.buffer.getWrappedRangeForLine(g),N={start:{x:0,y:D.first},end:{x:this._bufferService.cols-1,y:D.last}};this._model.selectionStart=[0,D.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,l.getRangeLength)(N,this._bufferService.cols)}};u.SelectionService=L=d([E(3,v.IBufferService),E(4,v.ICoreService),E(5,R.IMouseService),E(6,v.IOptionsService),E(7,R.IRenderService),E(8,R.ICoreBrowserService)],L)},4725:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.IThemeService=u.ICharacterJoinerService=u.ISelectionService=u.IRenderService=u.IMouseService=u.ICoreBrowserService=u.ICharSizeService=void 0;const d=h(8343);u.ICharSizeService=(0,d.createDecorator)("CharSizeService"),u.ICoreBrowserService=(0,d.createDecorator)("CoreBrowserService"),u.IMouseService=(0,d.createDecorator)("MouseService"),u.IRenderService=(0,d.createDecorator)("RenderService"),u.ISelectionService=(0,d.createDecorator)("SelectionService"),u.ICharacterJoinerService=(0,d.createDecorator)("CharacterJoinerService"),u.IThemeService=(0,d.createDecorator)("ThemeService")},6731:function(X,u,h){var d=this&&this.__decorate||function(L,g,D,N){var I,H=arguments.length,q=H<3?g:N===null?N=Object.getOwnPropertyDescriptor(g,D):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(L,g,D,N);else for(var se=L.length-1;se>=0;se--)(I=L[se])&&(q=(H<3?I(q):H>3?I(g,D,q):I(g,D))||q);return H>3&&q&&Object.defineProperty(g,D,q),q},E=this&&this.__param||function(L,g){return function(D,N){g(D,N,L)}};Object.defineProperty(u,"__esModule",{value:!0}),u.ThemeService=u.DEFAULT_ANSI_COLORS=void 0;const f=h(7239),b=h(8055),x=h(8460),R=h(844),C=h(2585),a=b.css.toColor("#ffffff"),o=b.css.toColor("#000000"),l=b.css.toColor("#ffffff"),c=b.css.toColor("#000000"),v={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};u.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[b.css.toColor("#2e3436"),b.css.toColor("#cc0000"),b.css.toColor("#4e9a06"),b.css.toColor("#c4a000"),b.css.toColor("#3465a4"),b.css.toColor("#75507b"),b.css.toColor("#06989a"),b.css.toColor("#d3d7cf"),b.css.toColor("#555753"),b.css.toColor("#ef2929"),b.css.toColor("#8ae234"),b.css.toColor("#fce94f"),b.css.toColor("#729fcf"),b.css.toColor("#ad7fa8"),b.css.toColor("#34e2e2"),b.css.toColor("#eeeeec")],g=[0,95,135,175,215,255];for(let D=0;D<216;D++){const N=g[D/36%6|0],I=g[D/6%6|0],H=g[D%6];L.push({css:b.channels.toCss(N,I,H),rgba:b.channels.toRgba(N,I,H)})}for(let D=0;D<24;D++){const N=8+10*D;L.push({css:b.channels.toCss(N,N,N),rgba:b.channels.toRgba(N,N,N)})}return L})());let S=u.ThemeService=class extends R.Disposable{get colors(){return this._colors}constructor(L){super(),this._optionsService=L,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new x.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:a,background:o,cursor:l,cursorAccent:c,selectionForeground:void 0,selectionBackgroundTransparent:v,selectionBackgroundOpaque:b.color.blend(o,v),selectionInactiveBackgroundTransparent:v,selectionInactiveBackgroundOpaque:b.color.blend(o,v),ansi:u.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(L={}){const g=this._colors;if(g.foreground=A(L.foreground,a),g.background=A(L.background,o),g.cursor=A(L.cursor,l),g.cursorAccent=A(L.cursorAccent,c),g.selectionBackgroundTransparent=A(L.selectionBackground,v),g.selectionBackgroundOpaque=b.color.blend(g.background,g.selectionBackgroundTransparent),g.selectionInactiveBackgroundTransparent=A(L.selectionInactiveBackground,g.selectionBackgroundTransparent),g.selectionInactiveBackgroundOpaque=b.color.blend(g.background,g.selectionInactiveBackgroundTransparent),g.selectionForeground=L.selectionForeground?A(L.selectionForeground,b.NULL_COLOR):void 0,g.selectionForeground===b.NULL_COLOR&&(g.selectionForeground=void 0),b.color.isOpaque(g.selectionBackgroundTransparent)&&(g.selectionBackgroundTransparent=b.color.opacity(g.selectionBackgroundTransparent,.3)),b.color.isOpaque(g.selectionInactiveBackgroundTransparent)&&(g.selectionInactiveBackgroundTransparent=b.color.opacity(g.selectionInactiveBackgroundTransparent,.3)),g.ansi=u.DEFAULT_ANSI_COLORS.slice(),g.ansi[0]=A(L.black,u.DEFAULT_ANSI_COLORS[0]),g.ansi[1]=A(L.red,u.DEFAULT_ANSI_COLORS[1]),g.ansi[2]=A(L.green,u.DEFAULT_ANSI_COLORS[2]),g.ansi[3]=A(L.yellow,u.DEFAULT_ANSI_COLORS[3]),g.ansi[4]=A(L.blue,u.DEFAULT_ANSI_COLORS[4]),g.ansi[5]=A(L.magenta,u.DEFAULT_ANSI_COLORS[5]),g.ansi[6]=A(L.cyan,u.DEFAULT_ANSI_COLORS[6]),g.ansi[7]=A(L.white,u.DEFAULT_ANSI_COLORS[7]),g.ansi[8]=A(L.brightBlack,u.DEFAULT_ANSI_COLORS[8]),g.ansi[9]=A(L.brightRed,u.DEFAULT_ANSI_COLORS[9]),g.ansi[10]=A(L.brightGreen,u.DEFAULT_ANSI_COLORS[10]),g.ansi[11]=A(L.brightYellow,u.DEFAULT_ANSI_COLORS[11]),g.ansi[12]=A(L.brightBlue,u.DEFAULT_ANSI_COLORS[12]),g.ansi[13]=A(L.brightMagenta,u.DEFAULT_ANSI_COLORS[13]),g.ansi[14]=A(L.brightCyan,u.DEFAULT_ANSI_COLORS[14]),g.ansi[15]=A(L.brightWhite,u.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const D=Math.min(g.ansi.length-16,L.extendedAnsi.length);for(let N=0;N<D;N++)g.ansi[N+16]=A(L.extendedAnsi[N],u.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let g=0;g<this._restoreColors.ansi.length;++g)this._colors.ansi[g]=this._restoreColors.ansi[g]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function A(L,g){if(L!==void 0)try{return b.css.toColor(L)}catch{}return g}u.ThemeService=S=d([E(0,C.IOptionsService)],S)},6349:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CircularList=void 0;const d=h(8460),E=h(844);class f extends E.Disposable{constructor(x){super(),this._maxLength=x,this.onDeleteEmitter=this.register(new d.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new d.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new d.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(x){if(this._maxLength===x)return;const R=new Array(x);for(let C=0;C<Math.min(x,this.length);C++)R[C]=this._array[this._getCyclicIndex(C)];this._array=R,this._maxLength=x,this._startIndex=0}get length(){return this._length}set length(x){if(x>this._length)for(let R=this._length;R<x;R++)this._array[R]=void 0;this._length=x}get(x){return this._array[this._getCyclicIndex(x)]}set(x,R){this._array[this._getCyclicIndex(x)]=R}push(x){this._array[this._getCyclicIndex(this._length)]=x,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(x,R,...C){if(R){for(let a=x;a<this._length-R;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+R)];this._length-=R,this.onDeleteEmitter.fire({index:x,amount:R})}for(let a=this._length-1;a>=x;a--)this._array[this._getCyclicIndex(a+C.length)]=this._array[this._getCyclicIndex(a)];for(let a=0;a<C.length;a++)this._array[this._getCyclicIndex(x+a)]=C[a];if(C.length&&this.onInsertEmitter.fire({index:x,amount:C.length}),this._length+C.length>this._maxLength){const a=this._length+C.length-this._maxLength;this._startIndex+=a,this._length=this._maxLength,this.onTrimEmitter.fire(a)}else this._length+=C.length}trimStart(x){x>this._length&&(x=this._length),this._startIndex+=x,this._length-=x,this.onTrimEmitter.fire(x)}shiftElements(x,R,C){if(!(R<=0)){if(x<0||x>=this._length)throw new Error("start argument out of range");if(x+C<0)throw new Error("Cannot shift elements in list beyond index 0");if(C>0){for(let o=R-1;o>=0;o--)this.set(x+o+C,this.get(x+o));const a=x+R+C-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let a=0;a<R;a++)this.set(x+a+C,this.get(x+a))}}_getCyclicIndex(x){return(this._startIndex+x)%this._maxLength}}u.CircularList=f},1439:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.clone=void 0,u.clone=function h(d,E=5){if(typeof d!="object")return d;const f=Array.isArray(d)?[]:{};for(const b in d)f[b]=E<=1?d[b]:d[b]&&h(d[b],E-1);return f}},8055:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.contrastRatio=u.toPaddedHex=u.rgba=u.rgb=u.css=u.color=u.channels=u.NULL_COLOR=void 0;const d=h(6114);let E=0,f=0,b=0,x=0;var R,C,a,o,l;function c(S){const A=S.toString(16);return A.length<2?"0"+A:A}function v(S,A){return S<A?(A+.05)/(S+.05):(S+.05)/(A+.05)}u.NULL_COLOR={css:"#00000000",rgba:0},(function(S){S.toCss=function(A,L,g,D){return D!==void 0?`#${c(A)}${c(L)}${c(g)}${c(D)}`:`#${c(A)}${c(L)}${c(g)}`},S.toRgba=function(A,L,g,D=255){return(A<<24|L<<16|g<<8|D)>>>0}})(R||(u.channels=R={})),(function(S){function A(L,g){return x=Math.round(255*g),[E,f,b]=l.toChannels(L.rgba),{css:R.toCss(E,f,b,x),rgba:R.toRgba(E,f,b,x)}}S.blend=function(L,g){if(x=(255&g.rgba)/255,x===1)return{css:g.css,rgba:g.rgba};const D=g.rgba>>24&255,N=g.rgba>>16&255,I=g.rgba>>8&255,H=L.rgba>>24&255,q=L.rgba>>16&255,se=L.rgba>>8&255;return E=H+Math.round((D-H)*x),f=q+Math.round((N-q)*x),b=se+Math.round((I-se)*x),{css:R.toCss(E,f,b),rgba:R.toRgba(E,f,b)}},S.isOpaque=function(L){return(255&L.rgba)==255},S.ensureContrastRatio=function(L,g,D){const N=l.ensureContrastRatio(L.rgba,g.rgba,D);if(N)return l.toColor(N>>24&255,N>>16&255,N>>8&255)},S.opaque=function(L){const g=(255|L.rgba)>>>0;return[E,f,b]=l.toChannels(g),{css:R.toCss(E,f,b),rgba:g}},S.opacity=A,S.multiplyOpacity=function(L,g){return x=255&L.rgba,A(L,x*g/255)},S.toColorRGB=function(L){return[L.rgba>>24&255,L.rgba>>16&255,L.rgba>>8&255]}})(C||(u.color=C={})),(function(S){let A,L;if(!d.isNode){const g=document.createElement("canvas");g.width=1,g.height=1;const D=g.getContext("2d",{willReadFrequently:!0});D&&(A=D,A.globalCompositeOperation="copy",L=A.createLinearGradient(0,0,1,1))}S.toColor=function(g){if(g.match(/#[\da-f]{3,8}/i))switch(g.length){case 4:return E=parseInt(g.slice(1,2).repeat(2),16),f=parseInt(g.slice(2,3).repeat(2),16),b=parseInt(g.slice(3,4).repeat(2),16),l.toColor(E,f,b);case 5:return E=parseInt(g.slice(1,2).repeat(2),16),f=parseInt(g.slice(2,3).repeat(2),16),b=parseInt(g.slice(3,4).repeat(2),16),x=parseInt(g.slice(4,5).repeat(2),16),l.toColor(E,f,b,x);case 7:return{css:g,rgba:(parseInt(g.slice(1),16)<<8|255)>>>0};case 9:return{css:g,rgba:parseInt(g.slice(1),16)>>>0}}const D=g.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(D)return E=parseInt(D[1]),f=parseInt(D[2]),b=parseInt(D[3]),x=Math.round(255*(D[5]===void 0?1:parseFloat(D[5]))),l.toColor(E,f,b,x);if(!A||!L)throw new Error("css.toColor: Unsupported css format");if(A.fillStyle=L,A.fillStyle=g,typeof A.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(A.fillRect(0,0,1,1),[E,f,b,x]=A.getImageData(0,0,1,1).data,x!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:R.toRgba(E,f,b,x),css:g}}})(a||(u.css=a={})),(function(S){function A(L,g,D){const N=L/255,I=g/255,H=D/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))+.0722*(H<=.03928?H/12.92:Math.pow((H+.055)/1.055,2.4))}S.relativeLuminance=function(L){return A(L>>16&255,L>>8&255,255&L)},S.relativeLuminance2=A})(o||(u.rgb=o={})),(function(S){function A(g,D,N){const I=g>>24&255,H=g>>16&255,q=g>>8&255;let se=D>>24&255,ae=D>>16&255,j=D>>8&255,P=v(o.relativeLuminance2(se,ae,j),o.relativeLuminance2(I,H,q));for(;P<N&&(se>0||ae>0||j>0);)se-=Math.max(0,Math.ceil(.1*se)),ae-=Math.max(0,Math.ceil(.1*ae)),j-=Math.max(0,Math.ceil(.1*j)),P=v(o.relativeLuminance2(se,ae,j),o.relativeLuminance2(I,H,q));return(se<<24|ae<<16|j<<8|255)>>>0}function L(g,D,N){const I=g>>24&255,H=g>>16&255,q=g>>8&255;let se=D>>24&255,ae=D>>16&255,j=D>>8&255,P=v(o.relativeLuminance2(se,ae,j),o.relativeLuminance2(I,H,q));for(;P<N&&(se<255||ae<255||j<255);)se=Math.min(255,se+Math.ceil(.1*(255-se))),ae=Math.min(255,ae+Math.ceil(.1*(255-ae))),j=Math.min(255,j+Math.ceil(.1*(255-j))),P=v(o.relativeLuminance2(se,ae,j),o.relativeLuminance2(I,H,q));return(se<<24|ae<<16|j<<8|255)>>>0}S.ensureContrastRatio=function(g,D,N){const I=o.relativeLuminance(g>>8),H=o.relativeLuminance(D>>8);if(v(I,H)<N){if(H<I){const ae=A(g,D,N),j=v(I,o.relativeLuminance(ae>>8));if(j<N){const P=L(g,D,N);return j>v(I,o.relativeLuminance(P>>8))?ae:P}return ae}const q=L(g,D,N),se=v(I,o.relativeLuminance(q>>8));if(se<N){const ae=A(g,D,N);return se>v(I,o.relativeLuminance(ae>>8))?q:ae}return q}},S.reduceLuminance=A,S.increaseLuminance=L,S.toChannels=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},S.toColor=function(g,D,N,I){return{css:R.toCss(g,D,N,I),rgba:R.toRgba(g,D,N,I)}}})(l||(u.rgba=l={})),u.toPaddedHex=c,u.contrastRatio=v},8969:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CoreTerminal=void 0;const d=h(844),E=h(2585),f=h(4348),b=h(7866),x=h(744),R=h(7302),C=h(6975),a=h(8460),o=h(1753),l=h(1480),c=h(7994),v=h(9282),S=h(5435),A=h(5981),L=h(2660);let g=!1;class D extends d.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new a.EventEmitter),this._onScroll.event((I=>{var H;(H=this._onScrollApi)===null||H===void 0||H.fire(I.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(I){for(const H in I)this.optionsService.options[H]=I[H]}constructor(I){super(),this._windowsWrappingHeuristics=this.register(new d.MutableDisposable),this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new a.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new R.OptionsService(I)),this._instantiationService.setService(E.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(x.BufferService)),this._instantiationService.setService(E.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(b.LogService)),this._instantiationService.setService(E.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(C.CoreService)),this._instantiationService.setService(E.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(o.CoreMouseService)),this._instantiationService.setService(E.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(l.UnicodeService)),this._instantiationService.setService(E.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(c.CharsetService),this._instantiationService.setService(E.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(E.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,a.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,a.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,a.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,a.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new A.WriteBuffer(((H,q)=>this._inputHandler.parse(H,q)))),this.register((0,a.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(I,H){this._writeBuffer.write(I,H)}writeSync(I,H){this._logService.logLevel<=E.LogLevelEnum.WARN&&!g&&(this._logService.warn("writeSync is unreliable and will be removed soon."),g=!0),this._writeBuffer.writeSync(I,H)}resize(I,H){isNaN(I)||isNaN(H)||(I=Math.max(I,x.MINIMUM_COLS),H=Math.max(H,x.MINIMUM_ROWS),this._bufferService.resize(I,H))}scroll(I,H=!1){this._bufferService.scroll(I,H)}scrollLines(I,H,q){this._bufferService.scrollLines(I,H,q)}scrollPages(I){this.scrollLines(I*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(I){const H=I-this._bufferService.buffer.ydisp;H!==0&&this.scrollLines(H)}registerEscHandler(I,H){return this._inputHandler.registerEscHandler(I,H)}registerDcsHandler(I,H){return this._inputHandler.registerDcsHandler(I,H)}registerCsiHandler(I,H){return this._inputHandler.registerCsiHandler(I,H)}registerOscHandler(I,H){return this._inputHandler.registerOscHandler(I,H)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let I=!1;const H=this.optionsService.rawOptions.windowsPty;H&&H.buildNumber!==void 0&&H.buildNumber!==void 0?I=H.backend==="conpty"&&H.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(I=!0),I?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const I=[];I.push(this.onLineFeed(v.updateWindowsModeWrappedState.bind(null,this._bufferService))),I.push(this.registerCsiHandler({final:"H"},(()=>((0,v.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,d.toDisposable)((()=>{for(const H of I)H.dispose()}))}}}u.CoreTerminal=D},8460:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=h=>(this._listeners.push(h),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===h)return void this._listeners.splice(d,1)}}})),this._event}fire(h,d){const E=[];for(let f=0;f<this._listeners.length;f++)E.push(this._listeners[f]);for(let f=0;f<E.length;f++)E[f].call(void 0,h,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(h,d){return h((E=>d.fire(E)))}},5435:function(X,u,h){var d=this&&this.__decorate||function(P,O,k,z){var T,G=arguments.length,$=G<3?O:z===null?z=Object.getOwnPropertyDescriptor(O,k):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(P,O,k,z);else for(var oe=P.length-1;oe>=0;oe--)(T=P[oe])&&($=(G<3?T($):G>3?T(O,k,$):T(O,k))||$);return G>3&&$&&Object.defineProperty(O,k,$),$},E=this&&this.__param||function(P,O){return function(k,z){O(k,z,P)}};Object.defineProperty(u,"__esModule",{value:!0}),u.InputHandler=u.WindowsOptionsReportType=void 0;const f=h(2584),b=h(7116),x=h(2015),R=h(844),C=h(482),a=h(8437),o=h(8460),l=h(643),c=h(511),v=h(3734),S=h(2585),A=h(6242),L=h(6351),g=h(5941),D={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function I(P,O){if(P>24)return O.setWinLines||!1;switch(P){case 1:return!!O.restoreWin;case 2:return!!O.minimizeWin;case 3:return!!O.setWinPosition;case 4:return!!O.setWinSizePixels;case 5:return!!O.raiseWin;case 6:return!!O.lowerWin;case 7:return!!O.refreshWin;case 8:return!!O.setWinSizeChars;case 9:return!!O.maximizeWin;case 10:return!!O.fullscreenWin;case 11:return!!O.getWinState;case 13:return!!O.getWinPosition;case 14:return!!O.getWinSizePixels;case 15:return!!O.getScreenSizePixels;case 16:return!!O.getCellSizePixels;case 18:return!!O.getWinSizeChars;case 19:return!!O.getScreenSizeChars;case 20:return!!O.getIconTitle;case 21:return!!O.getWinTitle;case 22:return!!O.pushTitle;case 23:return!!O.popTitle;case 24:return!!O.setWinLines}return!1}var H;(function(P){P[P.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",P[P.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(H||(u.WindowsOptionsReportType=H={}));let q=0;class se extends R.Disposable{getAttrData(){return this._curAttrData}constructor(O,k,z,T,G,$,oe,ue,de=new x.EscapeSequenceParser){super(),this._bufferService=O,this._charsetService=k,this._coreService=z,this._logService=T,this._optionsService=G,this._oscLinkService=$,this._coreMouseService=oe,this._unicodeService=ue,this._parser=de,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new C.StringToUtf32,this._utf8Decoder=new C.Utf8ToUtf32,this._workCell=new c.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new o.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new o.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new o.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new o.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new o.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new o.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new o.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new o.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new o.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new o.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new o.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new o.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ae(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((B=>this._activeBuffer=B.activeBuffer))),this._parser.setCsiHandlerFallback(((B,F)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:F.toArray()})})),this._parser.setEscHandlerFallback((B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})})),this._parser.setExecuteHandlerFallback((B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})})),this._parser.setOscHandlerFallback(((B,F,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:F,data:ie})})),this._parser.setDcsHandlerFallback(((B,F,ie)=>{F==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:F,payload:ie})})),this._parser.setPrintHandler(((B,F,ie)=>this.print(B,F,ie))),this._parser.registerCsiHandler({final:"@"},(B=>this.insertChars(B))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(B=>this.scrollLeft(B))),this._parser.registerCsiHandler({final:"A"},(B=>this.cursorUp(B))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(B=>this.scrollRight(B))),this._parser.registerCsiHandler({final:"B"},(B=>this.cursorDown(B))),this._parser.registerCsiHandler({final:"C"},(B=>this.cursorForward(B))),this._parser.registerCsiHandler({final:"D"},(B=>this.cursorBackward(B))),this._parser.registerCsiHandler({final:"E"},(B=>this.cursorNextLine(B))),this._parser.registerCsiHandler({final:"F"},(B=>this.cursorPrecedingLine(B))),this._parser.registerCsiHandler({final:"G"},(B=>this.cursorCharAbsolute(B))),this._parser.registerCsiHandler({final:"H"},(B=>this.cursorPosition(B))),this._parser.registerCsiHandler({final:"I"},(B=>this.cursorForwardTab(B))),this._parser.registerCsiHandler({final:"J"},(B=>this.eraseInDisplay(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(B=>this.eraseInDisplay(B,!0))),this._parser.registerCsiHandler({final:"K"},(B=>this.eraseInLine(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(B=>this.eraseInLine(B,!0))),this._parser.registerCsiHandler({final:"L"},(B=>this.insertLines(B))),this._parser.registerCsiHandler({final:"M"},(B=>this.deleteLines(B))),this._parser.registerCsiHandler({final:"P"},(B=>this.deleteChars(B))),this._parser.registerCsiHandler({final:"S"},(B=>this.scrollUp(B))),this._parser.registerCsiHandler({final:"T"},(B=>this.scrollDown(B))),this._parser.registerCsiHandler({final:"X"},(B=>this.eraseChars(B))),this._parser.registerCsiHandler({final:"Z"},(B=>this.cursorBackwardTab(B))),this._parser.registerCsiHandler({final:"`"},(B=>this.charPosAbsolute(B))),this._parser.registerCsiHandler({final:"a"},(B=>this.hPositionRelative(B))),this._parser.registerCsiHandler({final:"b"},(B=>this.repeatPrecedingCharacter(B))),this._parser.registerCsiHandler({final:"c"},(B=>this.sendDeviceAttributesPrimary(B))),this._parser.registerCsiHandler({prefix:">",final:"c"},(B=>this.sendDeviceAttributesSecondary(B))),this._parser.registerCsiHandler({final:"d"},(B=>this.linePosAbsolute(B))),this._parser.registerCsiHandler({final:"e"},(B=>this.vPositionRelative(B))),this._parser.registerCsiHandler({final:"f"},(B=>this.hVPosition(B))),this._parser.registerCsiHandler({final:"g"},(B=>this.tabClear(B))),this._parser.registerCsiHandler({final:"h"},(B=>this.setMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(B=>this.setModePrivate(B))),this._parser.registerCsiHandler({final:"l"},(B=>this.resetMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(B=>this.resetModePrivate(B))),this._parser.registerCsiHandler({final:"m"},(B=>this.charAttributes(B))),this._parser.registerCsiHandler({final:"n"},(B=>this.deviceStatus(B))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(B=>this.deviceStatusPrivate(B))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(B=>this.softReset(B))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(B=>this.setCursorStyle(B))),this._parser.registerCsiHandler({final:"r"},(B=>this.setScrollRegion(B))),this._parser.registerCsiHandler({final:"s"},(B=>this.saveCursor(B))),this._parser.registerCsiHandler({final:"t"},(B=>this.windowOptions(B))),this._parser.registerCsiHandler({final:"u"},(B=>this.restoreCursor(B))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(B=>this.insertColumns(B))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(B=>this.deleteColumns(B))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(B=>this.selectProtected(B))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(B=>this.requestMode(B,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(B=>this.requestMode(B,!1))),this._parser.setExecuteHandler(f.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(f.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(f.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(f.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(f.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(f.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(f.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(f.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(f.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(f.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(f.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(f.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new A.OscHandler((B=>(this.setTitle(B),this.setIconName(B),!0)))),this._parser.registerOscHandler(1,new A.OscHandler((B=>this.setIconName(B)))),this._parser.registerOscHandler(2,new A.OscHandler((B=>this.setTitle(B)))),this._parser.registerOscHandler(4,new A.OscHandler((B=>this.setOrReportIndexedColor(B)))),this._parser.registerOscHandler(8,new A.OscHandler((B=>this.setHyperlink(B)))),this._parser.registerOscHandler(10,new A.OscHandler((B=>this.setOrReportFgColor(B)))),this._parser.registerOscHandler(11,new A.OscHandler((B=>this.setOrReportBgColor(B)))),this._parser.registerOscHandler(12,new A.OscHandler((B=>this.setOrReportCursorColor(B)))),this._parser.registerOscHandler(104,new A.OscHandler((B=>this.restoreIndexedColor(B)))),this._parser.registerOscHandler(110,new A.OscHandler((B=>this.restoreFgColor(B)))),this._parser.registerOscHandler(111,new A.OscHandler((B=>this.restoreBgColor(B)))),this._parser.registerOscHandler(112,new A.OscHandler((B=>this.restoreCursorColor(B)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const B in b.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},(()=>this.selectCharset("("+B))),this._parser.registerEscHandler({intermediates:")",final:B},(()=>this.selectCharset(")"+B))),this._parser.registerEscHandler({intermediates:"*",final:B},(()=>this.selectCharset("*"+B))),this._parser.registerEscHandler({intermediates:"+",final:B},(()=>this.selectCharset("+"+B))),this._parser.registerEscHandler({intermediates:"-",final:B},(()=>this.selectCharset("-"+B))),this._parser.registerEscHandler({intermediates:".",final:B},(()=>this.selectCharset("."+B))),this._parser.registerEscHandler({intermediates:"/",final:B},(()=>this.selectCharset("/"+B)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((B=>(this._logService.error("Parsing error: ",B),B))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new L.DcsHandler(((B,F)=>this.requestStatusString(B,F))))}_preserveStack(O,k,z,T){this._parseStack.paused=!0,this._parseStack.cursorStartX=O,this._parseStack.cursorStartY=k,this._parseStack.decodedLength=z,this._parseStack.position=T}_logSlowResolvingAsync(O){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([O,new Promise(((k,z)=>setTimeout((()=>z("#SLOW_TIMEOUT")),5e3)))]).catch((k=>{if(k!=="#SLOW_TIMEOUT")throw k;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(O,k){let z,T=this._activeBuffer.x,G=this._activeBuffer.y,$=0;const oe=this._parseStack.paused;if(oe){if(z=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,k))return this._logSlowResolvingAsync(z),z;T=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,O.length>N&&($=this._parseStack.position+N)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof O=="string"?` "${O}"`:` "${Array.prototype.map.call(O,(ue=>String.fromCharCode(ue))).join("")}"`),typeof O=="string"?O.split("").map((ue=>ue.charCodeAt(0))):O),this._parseBuffer.length<O.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(O.length,N))),oe||this._dirtyRowTracker.clearRange(),O.length>N)for(let ue=$;ue<O.length;ue+=N){const de=ue+N<O.length?ue+N:O.length,B=typeof O=="string"?this._stringDecoder.decode(O.substring(ue,de),this._parseBuffer):this._utf8Decoder.decode(O.subarray(ue,de),this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,B))return this._preserveStack(T,G,B,ue),this._logSlowResolvingAsync(z),z}else if(!oe){const ue=typeof O=="string"?this._stringDecoder.decode(O,this._parseBuffer):this._utf8Decoder.decode(O,this._parseBuffer);if(z=this._parser.parse(this._parseBuffer,ue))return this._preserveStack(T,G,ue,0),this._logSlowResolvingAsync(z),z}this._activeBuffer.x===T&&this._activeBuffer.y===G||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(O,k,z){let T,G;const $=this._charsetService.charset,oe=this._optionsService.rawOptions.screenReaderMode,ue=this._bufferService.cols,de=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,F=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&z-k>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodePoint(this._activeBuffer.x-1,0,1,F.fg,F.bg,F.extended);for(let ne=k;ne<z;++ne){if(T=O[ne],G=this._unicodeService.wcwidth(T),T<127&&$){const pe=$[String.fromCharCode(T)];pe&&(T=pe.charCodeAt(0))}if(oe&&this._onA11yChar.fire((0,C.stringFromCodePoint)(T)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),G||!this._activeBuffer.x){if(this._activeBuffer.x+G-1>=ue){if(de){for(;this._activeBuffer.x<ue;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,1,F.fg,F.bg,F.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ue-1,G===2)continue}if(B&&(ie.insertCells(this._activeBuffer.x,G,this._activeBuffer.getNullCell(F),F),ie.getWidth(ue-1)===2&&ie.setCellFromCodePoint(ue-1,l.NULL_CELL_CODE,l.NULL_CELL_WIDTH,F.fg,F.bg,F.extended)),ie.setCellFromCodePoint(this._activeBuffer.x++,T,G,F.fg,F.bg,F.extended),G>0)for(;--G;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,0,F.fg,F.bg,F.extended)}else ie.getWidth(this._activeBuffer.x-1)?ie.addCodepointToCell(this._activeBuffer.x-1,T):ie.addCodepointToCell(this._activeBuffer.x-2,T)}z-k>0&&(ie.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ue&&z-k>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodePoint(this._activeBuffer.x,0,1,F.fg,F.bg,F.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(O,k){return O.final!=="t"||O.prefix||O.intermediates?this._parser.registerCsiHandler(O,k):this._parser.registerCsiHandler(O,(z=>!I(z.params[0],this._optionsService.rawOptions.windowOptions)||k(z)))}registerDcsHandler(O,k){return this._parser.registerDcsHandler(O,new L.DcsHandler(k))}registerEscHandler(O,k){return this._parser.registerEscHandler(O,k)}registerOscHandler(O,k){return this._parser.registerOscHandler(O,new A.OscHandler(k))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var O;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||O===void 0)&&O.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);k.hasWidth(this._activeBuffer.x)&&!k.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const O=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-O),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(O=this._bufferService.cols-1){this._activeBuffer.x=Math.min(O,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(O,k){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=O,this._activeBuffer.y=this._activeBuffer.scrollTop+k):(this._activeBuffer.x=O,this._activeBuffer.y=k),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(O,k){this._restrictCursor(),this._setCursor(this._activeBuffer.x+O,this._activeBuffer.y+k)}cursorUp(O){const k=this._activeBuffer.y-this._activeBuffer.scrollTop;return k>=0?this._moveCursor(0,-Math.min(k,O.params[0]||1)):this._moveCursor(0,-(O.params[0]||1)),!0}cursorDown(O){const k=this._activeBuffer.scrollBottom-this._activeBuffer.y;return k>=0?this._moveCursor(0,Math.min(k,O.params[0]||1)):this._moveCursor(0,O.params[0]||1),!0}cursorForward(O){return this._moveCursor(O.params[0]||1,0),!0}cursorBackward(O){return this._moveCursor(-(O.params[0]||1),0),!0}cursorNextLine(O){return this.cursorDown(O),this._activeBuffer.x=0,!0}cursorPrecedingLine(O){return this.cursorUp(O),this._activeBuffer.x=0,!0}cursorCharAbsolute(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(O){return this._setCursor(O.length>=2?(O.params[1]||1)-1:0,(O.params[0]||1)-1),!0}charPosAbsolute(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(O){return this._moveCursor(O.params[0]||1,0),!0}linePosAbsolute(O){return this._setCursor(this._activeBuffer.x,(O.params[0]||1)-1),!0}vPositionRelative(O){return this._moveCursor(0,O.params[0]||1),!0}hVPosition(O){return this.cursorPosition(O),!0}tabClear(O){const k=O.params[0];return k===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:k===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let k=O.params[0]||1;for(;k--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let k=O.params[0]||1;for(;k--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(O){const k=O.params[0];return k===1&&(this._curAttrData.bg|=536870912),k!==2&&k!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(O,k,z,T=!1,G=!1){const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);$.replaceCells(k,z,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),G),T&&($.isWrapped=!1)}_resetBufferLine(O,k=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);z&&(z.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),k),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+O),z.isWrapped=!1)}eraseInDisplay(O,k=!1){let z;switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,k);z<this._bufferService.rows;z++)this._resetBufferLine(z,k);this._dirtyRowTracker.markDirty(z);break;case 1:for(z=this._activeBuffer.y,this._dirtyRowTracker.markDirty(z),this._eraseInBufferLine(z,0,this._activeBuffer.x+1,!0,k),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(z+1).isWrapped=!1);z--;)this._resetBufferLine(z,k);this._dirtyRowTracker.markDirty(0);break;case 2:for(z=this._bufferService.rows,this._dirtyRowTracker.markDirty(z-1);z--;)this._resetBufferLine(z,k);this._dirtyRowTracker.markDirty(0);break;case 3:const T=this._activeBuffer.lines.length-this._bufferService.rows;T>0&&(this._activeBuffer.lines.trimStart(T),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-T,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-T,0),this._onScroll.fire(0))}return!0}eraseInLine(O,k=!1){switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,k);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,k);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,k)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(O){this._restrictCursor();let k=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y,T=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-T+1;for(;k--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(z,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(O){this._restrictCursor();let k=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const z=this._activeBuffer.ybase+this._activeBuffer.y;let T;for(T=this._bufferService.rows-1-this._activeBuffer.scrollBottom,T=this._bufferService.rows-1+this._activeBuffer.ybase-T;k--;)this._activeBuffer.lines.splice(z,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(O){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.insertCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(O){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.deleteCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(O){let k=O.params[0]||1;for(;k--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(O){let k=O.params[0]||1;for(;k--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(a.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=O.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);T.deleteCells(0,k,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=O.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);T.insertCells(0,k,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=O.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);T.insertCells(this._activeBuffer.x,k,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=O.params[0]||1;for(let z=this._activeBuffer.scrollTop;z<=this._activeBuffer.scrollBottom;++z){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+z);T.deleteCells(this._activeBuffer.x,k,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),T.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(O){this._restrictCursor();const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return k&&(k.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(O.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(O){if(!this._parser.precedingCodepoint)return!0;const k=O.params[0]||1,z=new Uint32Array(k);for(let T=0;T<k;++T)z[T]=this._parser.precedingCodepoint;return this.print(z,0,z.length),!0}sendDeviceAttributesPrimary(O){return O.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(O){return O.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(O.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(O){return(this._optionsService.rawOptions.termName+"").indexOf(O)===0}setMode(O){for(let k=0;k<O.length;k++)switch(O.params[k]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(O){for(let k=0;k<O.length;k++)switch(O.params[k]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),this._charsetService.setgCharset(1,b.DEFAULT_CHARSET),this._charsetService.setgCharset(2,b.DEFAULT_CHARSET),this._charsetService.setgCharset(3,b.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(O){for(let k=0;k<O.length;k++)switch(O.params[k]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(O){for(let k=0;k<O.length;k++)switch(O.params[k]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),O.params[k]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(O,k){const z=this._coreService.decPrivateModes,{activeProtocol:T,activeEncoding:G}=this._coreMouseService,$=this._coreService,{buffers:oe,cols:ue}=this._bufferService,{active:de,alt:B}=oe,F=this._optionsService.rawOptions,ie=Te=>Te?1:2,ne=O.params[0];return pe=ne,he=k?ne===2?4:ne===4?ie($.modes.insertMode):ne===12?3:ne===20?ie(F.convertEol):0:ne===1?ie(z.applicationCursorKeys):ne===3?F.windowOptions.setWinLines?ue===80?2:ue===132?1:0:0:ne===6?ie(z.origin):ne===7?ie(z.wraparound):ne===8?3:ne===9?ie(T==="X10"):ne===12?ie(F.cursorBlink):ne===25?ie(!$.isCursorHidden):ne===45?ie(z.reverseWraparound):ne===66?ie(z.applicationKeypad):ne===67?4:ne===1e3?ie(T==="VT200"):ne===1002?ie(T==="DRAG"):ne===1003?ie(T==="ANY"):ne===1004?ie(z.sendFocus):ne===1005?4:ne===1006?ie(G==="SGR"):ne===1015?4:ne===1016?ie(G==="SGR_PIXELS"):ne===1048?1:ne===47||ne===1047||ne===1049?ie(de===B):ne===2004?ie(z.bracketedPasteMode):0,$.triggerDataEvent(`${f.C0.ESC}[${k?"":"?"}${pe};${he}$y`),!0;var pe,he}_updateAttrColor(O,k,z,T,G){return k===2?(O|=50331648,O&=-16777216,O|=v.AttributeData.fromColorRGB([z,T,G])):k===5&&(O&=-50331904,O|=33554432|255&z),O}_extractColor(O,k,z){const T=[0,0,-1,0,0,0];let G=0,$=0;do{if(T[$+G]=O.params[k+$],O.hasSubParams(k+$)){const oe=O.getSubParams(k+$);let ue=0;do T[1]===5&&(G=1),T[$+ue+1+G]=oe[ue];while(++ue<oe.length&&ue+$+1+G<T.length);break}if(T[1]===5&&$+G>=2||T[1]===2&&$+G>=5)break;T[1]&&(G=1)}while(++$+k<O.length&&$+G<T.length);for(let oe=2;oe<T.length;++oe)T[oe]===-1&&(T[oe]=0);switch(T[0]){case 38:z.fg=this._updateAttrColor(z.fg,T[1],T[3],T[4],T[5]);break;case 48:z.bg=this._updateAttrColor(z.bg,T[1],T[3],T[4],T[5]);break;case 58:z.extended=z.extended.clone(),z.extended.underlineColor=this._updateAttrColor(z.extended.underlineColor,T[1],T[3],T[4],T[5])}return $}_processUnderline(O,k){k.extended=k.extended.clone(),(!~O||O>5)&&(O=1),k.extended.underlineStyle=O,k.fg|=268435456,O===0&&(k.fg&=-268435457),k.updateExtended()}_processSGR0(O){O.fg=a.DEFAULT_ATTR_DATA.fg,O.bg=a.DEFAULT_ATTR_DATA.bg,O.extended=O.extended.clone(),O.extended.underlineStyle=0,O.extended.underlineColor&=-67108864,O.updateExtended()}charAttributes(O){if(O.length===1&&O.params[0]===0)return this._processSGR0(this._curAttrData),!0;const k=O.length;let z;const T=this._curAttrData;for(let G=0;G<k;G++)z=O.params[G],z>=30&&z<=37?(T.fg&=-50331904,T.fg|=16777216|z-30):z>=40&&z<=47?(T.bg&=-50331904,T.bg|=16777216|z-40):z>=90&&z<=97?(T.fg&=-50331904,T.fg|=16777224|z-90):z>=100&&z<=107?(T.bg&=-50331904,T.bg|=16777224|z-100):z===0?this._processSGR0(T):z===1?T.fg|=134217728:z===3?T.bg|=67108864:z===4?(T.fg|=268435456,this._processUnderline(O.hasSubParams(G)?O.getSubParams(G)[0]:1,T)):z===5?T.fg|=536870912:z===7?T.fg|=67108864:z===8?T.fg|=1073741824:z===9?T.fg|=2147483648:z===2?T.bg|=134217728:z===21?this._processUnderline(2,T):z===22?(T.fg&=-134217729,T.bg&=-134217729):z===23?T.bg&=-67108865:z===24?(T.fg&=-268435457,this._processUnderline(0,T)):z===25?T.fg&=-536870913:z===27?T.fg&=-67108865:z===28?T.fg&=-1073741825:z===29?T.fg&=2147483647:z===39?(T.fg&=-67108864,T.fg|=16777215&a.DEFAULT_ATTR_DATA.fg):z===49?(T.bg&=-67108864,T.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):z===38||z===48||z===58?G+=this._extractColor(O,G,T):z===53?T.bg|=1073741824:z===55?T.bg&=-1073741825:z===59?(T.extended=T.extended.clone(),T.extended.underlineColor=-1,T.updateExtended()):z===100?(T.fg&=-67108864,T.fg|=16777215&a.DEFAULT_ATTR_DATA.fg,T.bg&=-67108864,T.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",z);return!0}deviceStatus(O){switch(O.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const k=this._activeBuffer.y+1,z=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${k};${z}R`)}return!0}deviceStatusPrivate(O){if(O.params[0]===6){const k=this._activeBuffer.y+1,z=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${k};${z}R`)}return!0}softReset(O){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(O){const k=O.params[0]||1;switch(k){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const z=k%2==1;return this._optionsService.options.cursorBlink=z,!0}setScrollRegion(O){const k=O.params[0]||1;let z;return(O.length<2||(z=O.params[1])>this._bufferService.rows||z===0)&&(z=this._bufferService.rows),z>k&&(this._activeBuffer.scrollTop=k-1,this._activeBuffer.scrollBottom=z-1,this._setCursor(0,0)),!0}windowOptions(O){if(!I(O.params[0],this._optionsService.rawOptions.windowOptions))return!0;const k=O.length>1?O.params[1]:0;switch(O.params[0]){case 14:k!==2&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:k!==0&&k!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),k!==0&&k!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:k!==0&&k!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),k!==0&&k!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(O){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(O){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(O){return this._windowTitle=O,this._onTitleChange.fire(O),!0}setIconName(O){return this._iconName=O,!0}setOrReportIndexedColor(O){const k=[],z=O.split(";");for(;z.length>1;){const T=z.shift(),G=z.shift();if(/^\d+$/.exec(T)){const $=parseInt(T);if(j($))if(G==="?")k.push({type:0,index:$});else{const oe=(0,g.parseColor)(G);oe&&k.push({type:1,index:$,color:oe})}}}return k.length&&this._onColor.fire(k),!0}setHyperlink(O){const k=O.split(";");return!(k.length<2)&&(k[1]?this._createHyperlink(k[0],k[1]):!k[0]&&this._finishHyperlink())}_createHyperlink(O,k){this._getCurrentLinkId()&&this._finishHyperlink();const z=O.split(":");let T;const G=z.findIndex(($=>$.startsWith("id=")));return G!==-1&&(T=z[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:T,uri:k}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(O,k){const z=O.split(";");for(let T=0;T<z.length&&!(k>=this._specialColors.length);++T,++k)if(z[T]==="?")this._onColor.fire([{type:0,index:this._specialColors[k]}]);else{const G=(0,g.parseColor)(z[T]);G&&this._onColor.fire([{type:1,index:this._specialColors[k],color:G}])}return!0}setOrReportFgColor(O){return this._setOrReportSpecialColor(O,0)}setOrReportBgColor(O){return this._setOrReportSpecialColor(O,1)}setOrReportCursorColor(O){return this._setOrReportSpecialColor(O,2)}restoreIndexedColor(O){if(!O)return this._onColor.fire([{type:2}]),!0;const k=[],z=O.split(";");for(let T=0;T<z.length;++T)if(/^\d+$/.exec(z[T])){const G=parseInt(z[T]);j(G)&&k.push({type:2,index:G})}return k.length&&this._onColor.fire(k),!0}restoreFgColor(O){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(O){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(O){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,b.DEFAULT_CHARSET),!0}selectCharset(O){return O.length!==2?(this.selectDefaultCharset(),!0):(O[0]==="/"||this._charsetService.setgCharset(D[O[0]],b.CHARSETS[O[1]]||b.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const O=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,O,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(O){return this._charsetService.setgLevel(O),!0}screenAlignmentPattern(){const O=new c.CellData;O.content=4194373,O.fg=this._curAttrData.fg,O.bg=this._curAttrData.bg,this._setCursor(0,0);for(let k=0;k<this._bufferService.rows;++k){const z=this._activeBuffer.ybase+this._activeBuffer.y+k,T=this._activeBuffer.lines.get(z);T&&(T.fill(O),T.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(O,k){const z=this._bufferService.buffer,T=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${G}${f.C0.ESC}\\`),!0))(O==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:O==='"p'?'P1$r61;1"p':O==="r"?`P1$r${z.scrollTop+1};${z.scrollBottom+1}r`:O==="m"?"P1$r0m":O===" q"?`P1$r${{block:2,underline:4,bar:6}[T.cursorStyle]-(T.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(O,k){this._dirtyRowTracker.markRangeDirty(O,k)}}u.InputHandler=se;let ae=class{constructor(P){this._bufferService=P,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(P){P<this.start?this.start=P:P>this.end&&(this.end=P)}markRangeDirty(P,O){P>O&&(q=P,P=O,O=q),P<this.start&&(this.start=P),O>this.end&&(this.end=O)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function j(P){return 0<=P&&P<256}ae=d([E(0,S.IBufferService)],ae)},844:(X,u)=>{function h(d){for(const E of d)E.dispose();d.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const E=this._disposables.indexOf(d);E!==-1&&this._disposables.splice(E,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var E;this._isDisposed||d===this._value||((E=this._value)===null||E===void 0||E.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)===null||d===void 0||d.dispose(),this._value=void 0}},u.toDisposable=function(d){return{dispose:d}},u.disposeArray=h,u.getDisposeArrayDisposable=function(d){return{dispose:()=>h(d)}}},1505:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FourKeyMap=u.TwoKeyMap=void 0;class h{constructor(){this._data={}}set(E,f,b){this._data[E]||(this._data[E]={}),this._data[E][f]=b}get(E,f){return this._data[E]?this._data[E][f]:void 0}clear(){this._data={}}}u.TwoKeyMap=h,u.FourKeyMap=class{constructor(){this._data=new h}set(d,E,f,b,x){this._data.get(d,E)||this._data.set(d,E,new h),this._data.get(d,E).set(f,b,x)}get(d,E,f,b){var x;return(x=this._data.get(d,E))===null||x===void 0?void 0:x.get(f,b)}clear(){this._data.clear()}}},6114:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.isChromeOS=u.isLinux=u.isWindows=u.isIphone=u.isIpad=u.isMac=u.getSafariVersion=u.isSafari=u.isLegacyEdge=u.isFirefox=u.isNode=void 0,u.isNode=typeof navigator>"u";const h=u.isNode?"node":navigator.userAgent,d=u.isNode?"node":navigator.platform;u.isFirefox=h.includes("Firefox"),u.isLegacyEdge=h.includes("Edge"),u.isSafari=/^((?!chrome|android).)*safari/i.test(h),u.getSafariVersion=function(){if(!u.isSafari)return 0;const E=h.match(/Version\/(\d+)/);return E===null||E.length<2?0:parseInt(E[1])},u.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(d),u.isIpad=d==="iPad",u.isIphone=d==="iPhone",u.isWindows=["Windows","Win16","Win32","WinCE"].includes(d),u.isLinux=d.indexOf("Linux")>=0,u.isChromeOS=/\bCrOS\b/.test(h)},6106:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SortedList=void 0;let h=0;u.SortedList=class{constructor(d){this._getKey=d,this._array=[]}clear(){this._array.length=0}insert(d){this._array.length!==0?(h=this._search(this._getKey(d)),this._array.splice(h,0,d)):this._array.push(d)}delete(d){if(this._array.length===0)return!1;const E=this._getKey(d);if(E===void 0||(h=this._search(E),h===-1)||this._getKey(this._array[h])!==E)return!1;do if(this._array[h]===d)return this._array.splice(h,1),!0;while(++h<this._array.length&&this._getKey(this._array[h])===E);return!1}*getKeyIterator(d){if(this._array.length!==0&&(h=this._search(d),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===d))do yield this._array[h];while(++h<this._array.length&&this._getKey(this._array[h])===d)}forEachByKey(d,E){if(this._array.length!==0&&(h=this._search(d),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===d))do E(this._array[h]);while(++h<this._array.length&&this._getKey(this._array[h])===d)}values(){return[...this._array].values()}_search(d){let E=0,f=this._array.length-1;for(;f>=E;){let b=E+f>>1;const x=this._getKey(this._array[b]);if(x>d)f=b-1;else{if(!(x<d)){for(;b>0&&this._getKey(this._array[b-1])===d;)b--;return b}E=b+1}}return E}}},7226:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DebouncedIdleTask=u.IdleTaskQueue=u.PriorityTaskQueue=void 0;const d=h(6114);class E{constructor(){this._tasks=[],this._i=0}enqueue(x){this._tasks.push(x),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(x){this._idleCallback=void 0;let R=0,C=0,a=x.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(R=Date.now(),this._tasks[this._i]()||this._i++,R=Math.max(1,Date.now()-R),C=Math.max(R,C),o=x.timeRemaining(),1.5*C>o)return a-R<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(a-R))}ms`),void this._start();a=o}this.clear()}}class f extends E{_requestCallback(x){return setTimeout((()=>x(this._createDeadline(16))))}_cancelCallback(x){clearTimeout(x)}_createDeadline(x){const R=Date.now()+x;return{timeRemaining:()=>Math.max(0,R-Date.now())}}}u.PriorityTaskQueue=f,u.IdleTaskQueue=!d.isNode&&"requestIdleCallback"in window?class extends E{_requestCallback(b){return requestIdleCallback(b)}_cancelCallback(b){cancelIdleCallback(b)}}:f,u.DebouncedIdleTask=class{constructor(){this._queue=new u.IdleTaskQueue}set(b){this._queue.clear(),this._queue.enqueue(b)}flush(){this._queue.flush()}}},9282:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.updateWindowsModeWrappedState=void 0;const d=h(643);u.updateWindowsModeWrappedState=function(E){const f=E.buffer.lines.get(E.buffer.ybase+E.buffer.y-1),b=f==null?void 0:f.get(E.cols-1),x=E.buffer.lines.get(E.buffer.ybase+E.buffer.y);x&&b&&(x.isWrapped=b[d.CHAR_DATA_CODE_INDEX]!==d.NULL_CELL_CODE&&b[d.CHAR_DATA_CODE_INDEX]!==d.WHITESPACE_CELL_CODE)}},3734:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ExtendedAttrs=u.AttributeData=void 0;class h{constructor(){this.fg=0,this.bg=0,this.extended=new d}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new h;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}u.AttributeData=h;class d{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,b=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=b}clone(){return new d(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}u.ExtendedAttrs=d},9092:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Buffer=u.MAX_BUFFER_SIZE=void 0;const d=h(6349),E=h(7226),f=h(3734),b=h(8437),x=h(4634),R=h(511),C=h(643),a=h(4863),o=h(7116);u.MAX_BUFFER_SIZE=4294967295,u.Buffer=class{constructor(l,c,v){this._hasScrollback=l,this._optionsService=c,this._bufferService=v,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=b.DEFAULT_ATTR_DATA.clone(),this.savedCharset=o.DEFAULT_CHARSET,this.markers=[],this._nullCell=R.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]),this._whitespaceCell=R.CellData.fromCharData([0,C.WHITESPACE_CELL_CHAR,C.WHITESPACE_CELL_WIDTH,C.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new E.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(l){return l?(this._nullCell.fg=l.fg,this._nullCell.bg=l.bg,this._nullCell.extended=l.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(l){return l?(this._whitespaceCell.fg=l.fg,this._whitespaceCell.bg=l.bg,this._whitespaceCell.extended=l.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(l,c){return new b.BufferLine(this._bufferService.cols,this.getNullCell(l),c)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const l=this.ybase+this.y-this.ydisp;return l>=0&&l<this._rows}_getCorrectBufferLength(l){if(!this._hasScrollback)return l;const c=l+this._optionsService.rawOptions.scrollback;return c>u.MAX_BUFFER_SIZE?u.MAX_BUFFER_SIZE:c}fillViewportRows(l){if(this.lines.length===0){l===void 0&&(l=b.DEFAULT_ATTR_DATA);let c=this._rows;for(;c--;)this.lines.push(this.getBlankLine(l))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(l,c){const v=this.getNullCell(b.DEFAULT_ATTR_DATA);let S=0;const A=this._getCorrectBufferLength(c);if(A>this.lines.maxLength&&(this.lines.maxLength=A),this.lines.length>0){if(this._cols<l)for(let g=0;g<this.lines.length;g++)S+=+this.lines.get(g).resize(l,v);let L=0;if(this._rows<c)for(let g=this._rows;g<c;g++)this.lines.length<c+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new b.BufferLine(l,v)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new b.BufferLine(l,v)));else for(let g=this._rows;g>c;g--)this.lines.length>c+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(A<this.lines.maxLength){const g=this.lines.length-A;g>0&&(this.lines.trimStart(g),this.ybase=Math.max(this.ybase-g,0),this.ydisp=Math.max(this.ydisp-g,0),this.savedY=Math.max(this.savedY-g,0)),this.lines.maxLength=A}this.x=Math.min(this.x,l-1),this.y=Math.min(this.y,c-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,l-1),this.scrollTop=0}if(this.scrollBottom=c-1,this._isReflowEnabled&&(this._reflow(l,c),this._cols>l))for(let L=0;L<this.lines.length;L++)S+=+this.lines.get(L).resize(l,v);this._cols=l,this._rows=c,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let l=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,l=!1);let c=0;for(;this._memoryCleanupPosition<this.lines.length;)if(c+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),c>100)return!0;return l}get _isReflowEnabled(){const l=this._optionsService.rawOptions.windowsPty;return l&&l.buildNumber?this._hasScrollback&&l.backend==="conpty"&&l.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(l,c){this._cols!==l&&(l>this._cols?this._reflowLarger(l,c):this._reflowSmaller(l,c))}_reflowLarger(l,c){const v=(0,x.reflowLargerGetLinesToRemove)(this.lines,this._cols,l,this.ybase+this.y,this.getNullCell(b.DEFAULT_ATTR_DATA));if(v.length>0){const S=(0,x.reflowLargerCreateNewLayout)(this.lines,v);(0,x.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(l,c,S.countRemoved)}}_reflowLargerAdjustViewport(l,c,v){const S=this.getNullCell(b.DEFAULT_ATTR_DATA);let A=v;for(;A-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<c&&this.lines.push(new b.BufferLine(l,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-v,0)}_reflowSmaller(l,c){const v=this.getNullCell(b.DEFAULT_ATTR_DATA),S=[];let A=0;for(let L=this.lines.length-1;L>=0;L--){let g=this.lines.get(L);if(!g||!g.isWrapped&&g.getTrimmedLength()<=l)continue;const D=[g];for(;g.isWrapped&&L>0;)g=this.lines.get(--L),D.unshift(g);const N=this.ybase+this.y;if(N>=L&&N<L+D.length)continue;const I=D[D.length-1].getTrimmedLength(),H=(0,x.reflowSmallerGetNewLineLengths)(D,this._cols,l),q=H.length-D.length;let se;se=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+q):Math.max(0,this.lines.length-this.lines.maxLength+q);const ae=[];for(let T=0;T<q;T++){const G=this.getBlankLine(b.DEFAULT_ATTR_DATA,!0);ae.push(G)}ae.length>0&&(S.push({start:L+D.length+A,newLines:ae}),A+=ae.length),D.push(...ae);let j=H.length-1,P=H[j];P===0&&(j--,P=H[j]);let O=D.length-q-1,k=I;for(;O>=0;){const T=Math.min(k,P);if(D[j]===void 0)break;if(D[j].copyCellsFrom(D[O],k-T,P-T,T,!0),P-=T,P===0&&(j--,P=H[j]),k-=T,k===0){O--;const G=Math.max(O,0);k=(0,x.getWrappedLineTrimmedLength)(D,G,this._cols)}}for(let T=0;T<D.length;T++)H[T]<l&&D[T].setCell(H[T],v);let z=q-se;for(;z-- >0;)this.ybase===0?this.y<c-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+A)-c&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+q,this.ybase+c-1)}if(S.length>0){const L=[],g=[];for(let j=0;j<this.lines.length;j++)g.push(this.lines.get(j));const D=this.lines.length;let N=D-1,I=0,H=S[I];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+A);let q=0;for(let j=Math.min(this.lines.maxLength-1,D+A-1);j>=0;j--)if(H&&H.start>N+q){for(let P=H.newLines.length-1;P>=0;P--)this.lines.set(j--,H.newLines[P]);j++,L.push({index:N+1,amount:H.newLines.length}),q+=H.newLines.length,H=S[++I]}else this.lines.set(j,g[N--]);let se=0;for(let j=L.length-1;j>=0;j--)L[j].index+=se,this.lines.onInsertEmitter.fire(L[j]),se+=L[j].amount;const ae=Math.max(0,D+A-this.lines.maxLength);ae>0&&this.lines.onTrimEmitter.fire(ae)}}translateBufferLineToString(l,c,v=0,S){const A=this.lines.get(l);return A?A.translateToString(c,v,S):""}getWrappedRangeForLine(l){let c=l,v=l;for(;c>0&&this.lines.get(c).isWrapped;)c--;for(;v+1<this.lines.length&&this.lines.get(v+1).isWrapped;)v++;return{first:c,last:v}}setupTabStops(l){for(l!=null?this.tabs[l]||(l=this.prevStop(l)):(this.tabs={},l=0);l<this._cols;l+=this._optionsService.rawOptions.tabStopWidth)this.tabs[l]=!0}prevStop(l){for(l==null&&(l=this.x);!this.tabs[--l]&&l>0;);return l>=this._cols?this._cols-1:l<0?0:l}nextStop(l){for(l==null&&(l=this.x);!this.tabs[++l]&&l<this._cols;);return l>=this._cols?this._cols-1:l<0?0:l}clearMarkers(l){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].line===l&&(this.markers[c].dispose(),this.markers.splice(c--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let l=0;l<this.markers.length;l++)this.markers[l].dispose(),this.markers.splice(l--,1);this._isClearing=!1}addMarker(l){const c=new a.Marker(l);return this.markers.push(c),c.register(this.lines.onTrim((v=>{c.line-=v,c.line<0&&c.dispose()}))),c.register(this.lines.onInsert((v=>{c.line>=v.index&&(c.line+=v.amount)}))),c.register(this.lines.onDelete((v=>{c.line>=v.index&&c.line<v.index+v.amount&&c.dispose(),c.line>v.index&&(c.line-=v.amount)}))),c.register(c.onDispose((()=>this._removeMarker(c)))),c}_removeMarker(l){this._isClearing||this.markers.splice(this.markers.indexOf(l),1)}}},8437:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferLine=u.DEFAULT_ATTR_DATA=void 0;const d=h(3734),E=h(511),f=h(643),b=h(482);u.DEFAULT_ATTR_DATA=Object.freeze(new d.AttributeData);let x=0;class R{constructor(a,o,l=!1){this.isWrapped=l,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*a);const c=o||E.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let v=0;v<a;++v)this.setCell(v,c);this.length=a}get(a){const o=this._data[3*a+0],l=2097151&o;return[this._data[3*a+1],2097152&o?this._combined[a]:l?(0,b.stringFromCodePoint)(l):"",o>>22,2097152&o?this._combined[a].charCodeAt(this._combined[a].length-1):l]}set(a,o){this._data[3*a+1]=o[f.CHAR_DATA_ATTR_INDEX],o[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[a]=o[1],this._data[3*a+0]=2097152|a|o[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*a+0]=o[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|o[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(a){return this._data[3*a+0]>>22}hasWidth(a){return 12582912&this._data[3*a+0]}getFg(a){return this._data[3*a+1]}getBg(a){return this._data[3*a+2]}hasContent(a){return 4194303&this._data[3*a+0]}getCodePoint(a){const o=this._data[3*a+0];return 2097152&o?this._combined[a].charCodeAt(this._combined[a].length-1):2097151&o}isCombined(a){return 2097152&this._data[3*a+0]}getString(a){const o=this._data[3*a+0];return 2097152&o?this._combined[a]:2097151&o?(0,b.stringFromCodePoint)(2097151&o):""}isProtected(a){return 536870912&this._data[3*a+2]}loadCell(a,o){return x=3*a,o.content=this._data[x+0],o.fg=this._data[x+1],o.bg=this._data[x+2],2097152&o.content&&(o.combinedData=this._combined[a]),268435456&o.bg&&(o.extended=this._extendedAttrs[a]),o}setCell(a,o){2097152&o.content&&(this._combined[a]=o.combinedData),268435456&o.bg&&(this._extendedAttrs[a]=o.extended),this._data[3*a+0]=o.content,this._data[3*a+1]=o.fg,this._data[3*a+2]=o.bg}setCellFromCodePoint(a,o,l,c,v,S){268435456&v&&(this._extendedAttrs[a]=S),this._data[3*a+0]=o|l<<22,this._data[3*a+1]=c,this._data[3*a+2]=v}addCodepointToCell(a,o){let l=this._data[3*a+0];2097152&l?this._combined[a]+=(0,b.stringFromCodePoint)(o):(2097151&l?(this._combined[a]=(0,b.stringFromCodePoint)(2097151&l)+(0,b.stringFromCodePoint)(o),l&=-2097152,l|=2097152):l=o|4194304,this._data[3*a+0]=l)}insertCells(a,o,l,c){if((a%=this.length)&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),o<this.length-a){const v=new E.CellData;for(let S=this.length-a-o-1;S>=0;--S)this.setCell(a+o+S,this.loadCell(a+S,v));for(let S=0;S<o;++S)this.setCell(a+S,l)}else for(let v=a;v<this.length;++v)this.setCell(v,l);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs)}deleteCells(a,o,l,c){if(a%=this.length,o<this.length-a){const v=new E.CellData;for(let S=0;S<this.length-a-o;++S)this.setCell(a+S,this.loadCell(a+o+S,v));for(let S=this.length-o;S<this.length;++S)this.setCell(S,l)}else for(let v=a;v<this.length;++v)this.setCell(v,l);a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),this.getWidth(a)!==0||this.hasContent(a)||this.setCellFromCodePoint(a,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs)}replaceCells(a,o,l,c,v=!1){if(v)for(a&&this.getWidth(a-1)===2&&!this.isProtected(a-1)&&this.setCellFromCodePoint(a-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&!this.isProtected(o)&&this.setCellFromCodePoint(o,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs);a<o&&a<this.length;)this.isProtected(a)||this.setCell(a,l),a++;else for(a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),o<this.length&&this.getWidth(o-1)===2&&this.setCellFromCodePoint(o,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs);a<o&&a<this.length;)this.setCell(a++,l)}resize(a,o){if(a===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const l=3*a;if(a>this.length){if(this._data.buffer.byteLength>=4*l)this._data=new Uint32Array(this._data.buffer,0,l);else{const c=new Uint32Array(l);c.set(this._data),this._data=c}for(let c=this.length;c<a;++c)this.setCell(c,o)}else{this._data=this._data.subarray(0,l);const c=Object.keys(this._combined);for(let S=0;S<c.length;S++){const A=parseInt(c[S],10);A>=a&&delete this._combined[A]}const v=Object.keys(this._extendedAttrs);for(let S=0;S<v.length;S++){const A=parseInt(v[S],10);A>=a&&delete this._extendedAttrs[A]}}return this.length=a,4*l*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const a=new Uint32Array(this._data.length);return a.set(this._data),this._data=a,1}return 0}fill(a,o=!1){if(o)for(let l=0;l<this.length;++l)this.isProtected(l)||this.setCell(l,a);else{this._combined={},this._extendedAttrs={};for(let l=0;l<this.length;++l)this.setCell(l,a)}}copyFrom(a){this.length!==a.length?this._data=new Uint32Array(a._data):this._data.set(a._data),this.length=a.length,this._combined={};for(const o in a._combined)this._combined[o]=a._combined[o];this._extendedAttrs={};for(const o in a._extendedAttrs)this._extendedAttrs[o]=a._extendedAttrs[o];this.isWrapped=a.isWrapped}clone(){const a=new R(0);a._data=new Uint32Array(this._data),a.length=this.length;for(const o in this._combined)a._combined[o]=this._combined[o];for(const o in this._extendedAttrs)a._extendedAttrs[o]=this._extendedAttrs[o];return a.isWrapped=this.isWrapped,a}getTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0])return a+(this._data[3*a+0]>>22);return 0}getNoBgTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0]||50331648&this._data[3*a+2])return a+(this._data[3*a+0]>>22);return 0}copyCellsFrom(a,o,l,c,v){const S=a._data;if(v)for(let L=c-1;L>=0;L--){for(let g=0;g<3;g++)this._data[3*(l+L)+g]=S[3*(o+L)+g];268435456&S[3*(o+L)+2]&&(this._extendedAttrs[l+L]=a._extendedAttrs[o+L])}else for(let L=0;L<c;L++){for(let g=0;g<3;g++)this._data[3*(l+L)+g]=S[3*(o+L)+g];268435456&S[3*(o+L)+2]&&(this._extendedAttrs[l+L]=a._extendedAttrs[o+L])}const A=Object.keys(a._combined);for(let L=0;L<A.length;L++){const g=parseInt(A[L],10);g>=o&&(this._combined[g-o+l]=a._combined[g])}}translateToString(a=!1,o=0,l=this.length){a&&(l=Math.min(l,this.getTrimmedLength()));let c="";for(;o<l;){const v=this._data[3*o+0],S=2097151&v;c+=2097152&v?this._combined[o]:S?(0,b.stringFromCodePoint)(S):f.WHITESPACE_CELL_CHAR,o+=v>>22||1}return c}}u.BufferLine=R},4841:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.getRangeLength=void 0,u.getRangeLength=function(h,d){if(h.start.y>h.end.y)throw new Error(`Buffer range end (${h.end.x}, ${h.end.y}) cannot be before start (${h.start.x}, ${h.start.y})`);return d*(h.end.y-h.start.y)+(h.end.x-h.start.x+1)}},4634:(X,u)=>{function h(d,E,f){if(E===d.length-1)return d[E].getTrimmedLength();const b=!d[E].hasContent(f-1)&&d[E].getWidth(f-1)===1,x=d[E+1].getWidth(0)===2;return b&&x?f-1:f}Object.defineProperty(u,"__esModule",{value:!0}),u.getWrappedLineTrimmedLength=u.reflowSmallerGetNewLineLengths=u.reflowLargerApplyNewLayout=u.reflowLargerCreateNewLayout=u.reflowLargerGetLinesToRemove=void 0,u.reflowLargerGetLinesToRemove=function(d,E,f,b,x){const R=[];for(let C=0;C<d.length-1;C++){let a=C,o=d.get(++a);if(!o.isWrapped)continue;const l=[d.get(C)];for(;a<d.length&&o.isWrapped;)l.push(o),o=d.get(++a);if(b>=C&&b<a){C+=l.length-1;continue}let c=0,v=h(l,c,E),S=1,A=0;for(;S<l.length;){const g=h(l,S,E),D=g-A,N=f-v,I=Math.min(D,N);l[c].copyCellsFrom(l[S],A,v,I,!1),v+=I,v===f&&(c++,v=0),A+=I,A===g&&(S++,A=0),v===0&&c!==0&&l[c-1].getWidth(f-1)===2&&(l[c].copyCellsFrom(l[c-1],f-1,v++,1,!1),l[c-1].setCell(f-1,x))}l[c].replaceCells(v,f,x);let L=0;for(let g=l.length-1;g>0&&(g>c||l[g].getTrimmedLength()===0);g--)L++;L>0&&(R.push(C+l.length-L),R.push(L)),C+=l.length-1}return R},u.reflowLargerCreateNewLayout=function(d,E){const f=[];let b=0,x=E[b],R=0;for(let C=0;C<d.length;C++)if(x===C){const a=E[++b];d.onDeleteEmitter.fire({index:C-R,amount:a}),C+=a-1,R+=a,x=E[++b]}else f.push(C);return{layout:f,countRemoved:R}},u.reflowLargerApplyNewLayout=function(d,E){const f=[];for(let b=0;b<E.length;b++)f.push(d.get(E[b]));for(let b=0;b<f.length;b++)d.set(b,f[b]);d.length=E.length},u.reflowSmallerGetNewLineLengths=function(d,E,f){const b=[],x=d.map(((o,l)=>h(d,l,E))).reduce(((o,l)=>o+l));let R=0,C=0,a=0;for(;a<x;){if(x-a<f){b.push(x-a);break}R+=f;const o=h(d,C,E);R>o&&(R-=o,C++);const l=d[C].getWidth(R-1)===2;l&&R--;const c=l?f-1:f;b.push(c),a+=c}return b},u.getWrappedLineTrimmedLength=h},5295:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferSet=void 0;const d=h(8460),E=h(844),f=h(9092);class b extends E.Disposable{constructor(R,C){super(),this._optionsService=R,this._bufferService=C,this._onBufferActivate=this.register(new d.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(R){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(R),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(R,C){this._normal.resize(R,C),this._alt.resize(R,C),this.setupTabStops(R)}setupTabStops(R){this._normal.setupTabStops(R),this._alt.setupTabStops(R)}}u.BufferSet=b},511:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CellData=void 0;const d=h(482),E=h(643),f=h(3734);class b extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(R){const C=new b;return C.setFromCharData(R),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(R){this.fg=R[E.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(R[E.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(R[E.CHAR_DATA_CHAR_INDEX].length===2){const a=R[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=a&&a<=56319){const o=R[E.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=o&&o<=57343?this.content=1024*(a-55296)+o-56320+65536|R[E.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=R[E.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|R[E.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=R[E.CHAR_DATA_CHAR_INDEX],this.content=2097152|R[E.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}u.CellData=b},643:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WHITESPACE_CELL_CODE=u.WHITESPACE_CELL_WIDTH=u.WHITESPACE_CELL_CHAR=u.NULL_CELL_CODE=u.NULL_CELL_WIDTH=u.NULL_CELL_CHAR=u.CHAR_DATA_CODE_INDEX=u.CHAR_DATA_WIDTH_INDEX=u.CHAR_DATA_CHAR_INDEX=u.CHAR_DATA_ATTR_INDEX=u.DEFAULT_EXT=u.DEFAULT_ATTR=u.DEFAULT_COLOR=void 0,u.DEFAULT_COLOR=0,u.DEFAULT_ATTR=256|u.DEFAULT_COLOR<<9,u.DEFAULT_EXT=0,u.CHAR_DATA_ATTR_INDEX=0,u.CHAR_DATA_CHAR_INDEX=1,u.CHAR_DATA_WIDTH_INDEX=2,u.CHAR_DATA_CODE_INDEX=3,u.NULL_CELL_CHAR="",u.NULL_CELL_WIDTH=1,u.NULL_CELL_CODE=0,u.WHITESPACE_CELL_CHAR=" ",u.WHITESPACE_CELL_WIDTH=1,u.WHITESPACE_CELL_CODE=32},4863:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Marker=void 0;const d=h(8460),E=h(844);class f{get id(){return this._id}constructor(x){this.line=x,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,E.disposeArray)(this._disposables),this._disposables.length=0)}register(x){return this._disposables.push(x),x}}u.Marker=f,f._nextId=1},7116:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DEFAULT_CHARSET=u.CHARSETS=void 0,u.CHARSETS={},u.DEFAULT_CHARSET=u.CHARSETS.B,u.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},u.CHARSETS.A={"#":""},u.CHARSETS.B=void 0,u.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},u.CHARSETS.C=u.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},u.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},u.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},u.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},u.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},u.CHARSETS.E=u.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},u.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},u.CHARSETS.H=u.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},u.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(X,u)=>{var h,d,E;Object.defineProperty(u,"__esModule",{value:!0}),u.C1_ESCAPED=u.C1=u.C0=void 0,(function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""})(h||(u.C0=h={})),(function(f){f.PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC=""})(d||(u.C1=d={})),(function(f){f.ST=`${h.ESC}\\`})(E||(u.C1_ESCAPED=E={}))},7399:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.evaluateKeyboardEvent=void 0;const d=h(2584),E={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};u.evaluateKeyboardEvent=function(f,b,x,R){const C={type:0,cancel:!1,key:void 0},a=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?C.key=b?d.C0.ESC+"OA":d.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?C.key=b?d.C0.ESC+"OD":d.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?C.key=b?d.C0.ESC+"OC":d.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(C.key=b?d.C0.ESC+"OB":d.C0.ESC+"[B");break;case 8:if(f.altKey){C.key=d.C0.ESC+d.C0.DEL;break}C.key=d.C0.DEL;break;case 9:if(f.shiftKey){C.key=d.C0.ESC+"[Z";break}C.key=d.C0.HT,C.cancel=!0;break;case 13:C.key=f.altKey?d.C0.ESC+d.C0.CR:d.C0.CR,C.cancel=!0;break;case 27:C.key=d.C0.ESC,f.altKey&&(C.key=d.C0.ESC+d.C0.ESC),C.cancel=!0;break;case 37:if(f.metaKey)break;a?(C.key=d.C0.ESC+"[1;"+(a+1)+"D",C.key===d.C0.ESC+"[1;3D"&&(C.key=d.C0.ESC+(x?"b":"[1;5D"))):C.key=b?d.C0.ESC+"OD":d.C0.ESC+"[D";break;case 39:if(f.metaKey)break;a?(C.key=d.C0.ESC+"[1;"+(a+1)+"C",C.key===d.C0.ESC+"[1;3C"&&(C.key=d.C0.ESC+(x?"f":"[1;5C"))):C.key=b?d.C0.ESC+"OC":d.C0.ESC+"[C";break;case 38:if(f.metaKey)break;a?(C.key=d.C0.ESC+"[1;"+(a+1)+"A",x||C.key!==d.C0.ESC+"[1;3A"||(C.key=d.C0.ESC+"[1;5A")):C.key=b?d.C0.ESC+"OA":d.C0.ESC+"[A";break;case 40:if(f.metaKey)break;a?(C.key=d.C0.ESC+"[1;"+(a+1)+"B",x||C.key!==d.C0.ESC+"[1;3B"||(C.key=d.C0.ESC+"[1;5B")):C.key=b?d.C0.ESC+"OB":d.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(C.key=d.C0.ESC+"[2~");break;case 46:C.key=a?d.C0.ESC+"[3;"+(a+1)+"~":d.C0.ESC+"[3~";break;case 36:C.key=a?d.C0.ESC+"[1;"+(a+1)+"H":b?d.C0.ESC+"OH":d.C0.ESC+"[H";break;case 35:C.key=a?d.C0.ESC+"[1;"+(a+1)+"F":b?d.C0.ESC+"OF":d.C0.ESC+"[F";break;case 33:f.shiftKey?C.type=2:f.ctrlKey?C.key=d.C0.ESC+"[5;"+(a+1)+"~":C.key=d.C0.ESC+"[5~";break;case 34:f.shiftKey?C.type=3:f.ctrlKey?C.key=d.C0.ESC+"[6;"+(a+1)+"~":C.key=d.C0.ESC+"[6~";break;case 112:C.key=a?d.C0.ESC+"[1;"+(a+1)+"P":d.C0.ESC+"OP";break;case 113:C.key=a?d.C0.ESC+"[1;"+(a+1)+"Q":d.C0.ESC+"OQ";break;case 114:C.key=a?d.C0.ESC+"[1;"+(a+1)+"R":d.C0.ESC+"OR";break;case 115:C.key=a?d.C0.ESC+"[1;"+(a+1)+"S":d.C0.ESC+"OS";break;case 116:C.key=a?d.C0.ESC+"[15;"+(a+1)+"~":d.C0.ESC+"[15~";break;case 117:C.key=a?d.C0.ESC+"[17;"+(a+1)+"~":d.C0.ESC+"[17~";break;case 118:C.key=a?d.C0.ESC+"[18;"+(a+1)+"~":d.C0.ESC+"[18~";break;case 119:C.key=a?d.C0.ESC+"[19;"+(a+1)+"~":d.C0.ESC+"[19~";break;case 120:C.key=a?d.C0.ESC+"[20;"+(a+1)+"~":d.C0.ESC+"[20~";break;case 121:C.key=a?d.C0.ESC+"[21;"+(a+1)+"~":d.C0.ESC+"[21~";break;case 122:C.key=a?d.C0.ESC+"[23;"+(a+1)+"~":d.C0.ESC+"[23~";break;case 123:C.key=a?d.C0.ESC+"[24;"+(a+1)+"~":d.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(x&&!R||!f.altKey||f.metaKey)!x||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?C.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(C.key=d.C0.US),f.key==="@"&&(C.key=d.C0.NUL)):f.keyCode===65&&(C.type=1);else{const o=E[f.keyCode],l=o==null?void 0:o[f.shiftKey?1:0];if(l)C.key=d.C0.ESC+l;else if(f.keyCode>=65&&f.keyCode<=90){const c=f.ctrlKey?f.keyCode-64:f.keyCode+32;let v=String.fromCharCode(c);f.shiftKey&&(v=v.toUpperCase()),C.key=d.C0.ESC+v}else if(f.keyCode===32)C.key=d.C0.ESC+(f.ctrlKey?d.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let c=f.code.slice(3,4);f.shiftKey||(c=c.toLowerCase()),C.key=d.C0.ESC+c,C.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?C.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?C.key=d.C0.NUL:f.keyCode>=51&&f.keyCode<=55?C.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?C.key=d.C0.DEL:f.keyCode===219?C.key=d.C0.ESC:f.keyCode===220?C.key=d.C0.FS:f.keyCode===221&&(C.key=d.C0.GS)}return C}},482:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Utf8ToUtf32=u.StringToUtf32=u.utf32ToString=u.stringFromCodePoint=void 0,u.stringFromCodePoint=function(h){return h>65535?(h-=65536,String.fromCharCode(55296+(h>>10))+String.fromCharCode(h%1024+56320)):String.fromCharCode(h)},u.utf32ToString=function(h,d=0,E=h.length){let f="";for(let b=d;b<E;++b){let x=h[b];x>65535?(x-=65536,f+=String.fromCharCode(55296+(x>>10))+String.fromCharCode(x%1024+56320)):f+=String.fromCharCode(x)}return f},u.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(h,d){const E=h.length;if(!E)return 0;let f=0,b=0;if(this._interim){const x=h.charCodeAt(b++);56320<=x&&x<=57343?d[f++]=1024*(this._interim-55296)+x-56320+65536:(d[f++]=this._interim,d[f++]=x),this._interim=0}for(let x=b;x<E;++x){const R=h.charCodeAt(x);if(55296<=R&&R<=56319){if(++x>=E)return this._interim=R,f;const C=h.charCodeAt(x);56320<=C&&C<=57343?d[f++]=1024*(R-55296)+C-56320+65536:(d[f++]=R,d[f++]=C)}else R!==65279&&(d[f++]=R)}return f}},u.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(h,d){const E=h.length;if(!E)return 0;let f,b,x,R,C=0,a=0,o=0;if(this.interim[0]){let v=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let A,L=0;for(;(A=63&this.interim[++L])&&L<4;)S<<=6,S|=A;const g=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,D=g-L;for(;o<D;){if(o>=E)return 0;if(A=h[o++],(192&A)!=128){o--,v=!0;break}this.interim[L++]=A,S<<=6,S|=63&A}v||(g===2?S<128?o--:d[C++]=S:g===3?S<2048||S>=55296&&S<=57343||S===65279||(d[C++]=S):S<65536||S>1114111||(d[C++]=S)),this.interim.fill(0)}const l=E-4;let c=o;for(;c<E;){for(;!(!(c<l)||128&(f=h[c])||128&(b=h[c+1])||128&(x=h[c+2])||128&(R=h[c+3]));)d[C++]=f,d[C++]=b,d[C++]=x,d[C++]=R,c+=4;if(f=h[c++],f<128)d[C++]=f;else if((224&f)==192){if(c>=E)return this.interim[0]=f,C;if(b=h[c++],(192&b)!=128){c--;continue}if(a=(31&f)<<6|63&b,a<128){c--;continue}d[C++]=a}else if((240&f)==224){if(c>=E)return this.interim[0]=f,C;if(b=h[c++],(192&b)!=128){c--;continue}if(c>=E)return this.interim[0]=f,this.interim[1]=b,C;if(x=h[c++],(192&x)!=128){c--;continue}if(a=(15&f)<<12|(63&b)<<6|63&x,a<2048||a>=55296&&a<=57343||a===65279)continue;d[C++]=a}else if((248&f)==240){if(c>=E)return this.interim[0]=f,C;if(b=h[c++],(192&b)!=128){c--;continue}if(c>=E)return this.interim[0]=f,this.interim[1]=b,C;if(x=h[c++],(192&x)!=128){c--;continue}if(c>=E)return this.interim[0]=f,this.interim[1]=b,this.interim[2]=x,C;if(R=h[c++],(192&R)!=128){c--;continue}if(a=(7&f)<<18|(63&b)<<12|(63&x)<<6|63&R,a<65536||a>1114111)continue;d[C++]=a}}return C}}},225:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UnicodeV6=void 0;const h=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],d=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let E;u.UnicodeV6=class{constructor(){if(this.version="6",!E){E=new Uint8Array(65536),E.fill(1),E[0]=0,E.fill(0,1,32),E.fill(0,127,160),E.fill(2,4352,4448),E[9001]=2,E[9002]=2,E.fill(2,11904,42192),E[12351]=1,E.fill(2,44032,55204),E.fill(2,63744,64256),E.fill(2,65040,65050),E.fill(2,65072,65136),E.fill(2,65280,65377),E.fill(2,65504,65511);for(let f=0;f<h.length;++f)E.fill(0,h[f][0],h[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?E[f]:(function(b,x){let R,C=0,a=x.length-1;if(b<x[0][0]||b>x[a][1])return!1;for(;a>=C;)if(R=C+a>>1,b>x[R][1])C=R+1;else{if(!(b<x[R][0]))return!0;a=R-1}return!1})(f,d)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.WriteBuffer=void 0;const d=h(8460),E=h(844);class f extends E.Disposable{constructor(x){super(),this._action=x,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(x,R){if(R!==void 0&&this._syncCalls>R)return void(this._syncCalls=0);if(this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let C;for(this._isSyncWriting=!0;C=this._writeBuffer.shift();){this._action(C);const a=this._callbacks.shift();a&&a()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(x,R){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(R),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(R)}_innerWrite(x=0,R=!0){const C=x||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const a=this._writeBuffer[this._bufferOffset],o=this._action(a,R);if(o){const c=v=>Date.now()-C>=12?setTimeout((()=>this._innerWrite(0,v))):this._innerWrite(C,v);return void o.catch((v=>(queueMicrotask((()=>{throw v})),Promise.resolve(!1)))).then(c)}const l=this._callbacks[this._bufferOffset];if(l&&l(),this._bufferOffset++,this._pendingData-=a.length,Date.now()-C>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}u.WriteBuffer=f},5941:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.toRgbString=u.parseColor=void 0;const h=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,d=/^[\da-f]+$/;function E(f,b){const x=f.toString(16),R=x.length<2?"0"+x:x;switch(b){case 4:return x[0];case 8:return R;case 12:return(R+R).slice(0,3);default:return R+R}}u.parseColor=function(f){if(!f)return;let b=f.toLowerCase();if(b.indexOf("rgb:")===0){b=b.slice(4);const x=h.exec(b);if(x){const R=x[1]?15:x[4]?255:x[7]?4095:65535;return[Math.round(parseInt(x[1]||x[4]||x[7]||x[10],16)/R*255),Math.round(parseInt(x[2]||x[5]||x[8]||x[11],16)/R*255),Math.round(parseInt(x[3]||x[6]||x[9]||x[12],16)/R*255)]}}else if(b.indexOf("#")===0&&(b=b.slice(1),d.exec(b)&&[3,6,9,12].includes(b.length))){const x=b.length/3,R=[0,0,0];for(let C=0;C<3;++C){const a=parseInt(b.slice(x*C,x*C+x),16);R[C]=x===1?a<<4:x===2?a:x===3?a>>4:a>>8}return R}},u.toRgbString=function(f,b=16){const[x,R,C]=f;return`rgb:${E(x,b)}/${E(R,b)}/${E(C,b)}`}},5770:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PAYLOAD_LIMIT=void 0,u.PAYLOAD_LIMIT=1e7},6351:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DcsHandler=u.DcsParser=void 0;const d=h(482),E=h(8742),f=h(5770),b=[];u.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=b,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=b}registerHandler(R,C){this._handlers[R]===void 0&&(this._handlers[R]=[]);const a=this._handlers[R];return a.push(C),{dispose:()=>{const o=a.indexOf(C);o!==-1&&a.splice(o,1)}}}clearHandler(R){this._handlers[R]&&delete this._handlers[R]}setHandlerFallback(R){this._handlerFb=R}reset(){if(this._active.length)for(let R=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;R>=0;--R)this._active[R].unhook(!1);this._stack.paused=!1,this._active=b,this._ident=0}hook(R,C){if(this.reset(),this._ident=R,this._active=this._handlers[R]||b,this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].hook(C);else this._handlerFb(this._ident,"HOOK",C)}put(R,C,a){if(this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].put(R,C,a);else this._handlerFb(this._ident,"PUT",(0,d.utf32ToString)(R,C,a))}unhook(R,C=!0){if(this._active.length){let a=!1,o=this._active.length-1,l=!1;if(this._stack.paused&&(o=this._stack.loopPosition-1,a=C,l=this._stack.fallThrough,this._stack.paused=!1),!l&&a===!1){for(;o>=0&&(a=this._active[o].unhook(R),a!==!0);o--)if(a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!1,a;o--}for(;o>=0;o--)if(a=this._active[o].unhook(!1),a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=o,this._stack.fallThrough=!0,a}else this._handlerFb(this._ident,"UNHOOK",R);this._active=b,this._ident=0}};const x=new E.Params;x.addParam(0),u.DcsHandler=class{constructor(R){this._handler=R,this._data="",this._params=x,this._hitLimit=!1}hook(R){this._params=R.length>1||R.params[0]?R.clone():x,this._data="",this._hitLimit=!1}put(R,C,a){this._hitLimit||(this._data+=(0,d.utf32ToString)(R,C,a),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(R){let C=!1;if(this._hitLimit)C=!1;else if(R&&(C=this._handler(this._data,this._params),C instanceof Promise))return C.then((a=>(this._params=x,this._data="",this._hitLimit=!1,a)));return this._params=x,this._data="",this._hitLimit=!1,C}}},2015:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.EscapeSequenceParser=u.VT500_TRANSITION_TABLE=u.TransitionTable=void 0;const d=h(844),E=h(8742),f=h(6242),b=h(6351);class x{constructor(o){this.table=new Uint8Array(o)}setDefault(o,l){this.table.fill(o<<4|l)}add(o,l,c,v){this.table[l<<8|o]=c<<4|v}addMany(o,l,c,v){for(let S=0;S<o.length;S++)this.table[l<<8|o[S]]=c<<4|v}}u.TransitionTable=x;const R=160;u.VT500_TRANSITION_TABLE=(function(){const a=new x(4095),o=Array.apply(null,Array(256)).map(((L,g)=>g)),l=(L,g)=>o.slice(L,g),c=l(32,127),v=l(0,24);v.push(25),v.push.apply(v,l(28,32));const S=l(0,14);let A;for(A in a.setDefault(1,0),a.addMany(c,0,2,0),S)a.addMany([24,26,153,154],A,3,0),a.addMany(l(128,144),A,3,0),a.addMany(l(144,152),A,3,0),a.add(156,A,0,0),a.add(27,A,11,1),a.add(157,A,4,8),a.addMany([152,158,159],A,0,7),a.add(155,A,11,3),a.add(144,A,11,9);return a.addMany(v,0,3,0),a.addMany(v,1,3,1),a.add(127,1,0,1),a.addMany(v,8,0,8),a.addMany(v,3,3,3),a.add(127,3,0,3),a.addMany(v,4,3,4),a.add(127,4,0,4),a.addMany(v,6,3,6),a.addMany(v,5,3,5),a.add(127,5,0,5),a.addMany(v,2,3,2),a.add(127,2,0,2),a.add(93,1,4,8),a.addMany(c,8,5,8),a.add(127,8,5,8),a.addMany([156,27,24,26,7],8,6,0),a.addMany(l(28,32),8,0,8),a.addMany([88,94,95],1,0,7),a.addMany(c,7,0,7),a.addMany(v,7,0,7),a.add(156,7,0,0),a.add(127,7,0,7),a.add(91,1,11,3),a.addMany(l(64,127),3,7,0),a.addMany(l(48,60),3,8,4),a.addMany([60,61,62,63],3,9,4),a.addMany(l(48,60),4,8,4),a.addMany(l(64,127),4,7,0),a.addMany([60,61,62,63],4,0,6),a.addMany(l(32,64),6,0,6),a.add(127,6,0,6),a.addMany(l(64,127),6,0,0),a.addMany(l(32,48),3,9,5),a.addMany(l(32,48),5,9,5),a.addMany(l(48,64),5,0,6),a.addMany(l(64,127),5,7,0),a.addMany(l(32,48),4,9,5),a.addMany(l(32,48),1,9,2),a.addMany(l(32,48),2,9,2),a.addMany(l(48,127),2,10,0),a.addMany(l(48,80),1,10,0),a.addMany(l(81,88),1,10,0),a.addMany([89,90,92],1,10,0),a.addMany(l(96,127),1,10,0),a.add(80,1,11,9),a.addMany(v,9,0,9),a.add(127,9,0,9),a.addMany(l(28,32),9,0,9),a.addMany(l(32,48),9,9,12),a.addMany(l(48,60),9,8,10),a.addMany([60,61,62,63],9,9,10),a.addMany(v,11,0,11),a.addMany(l(32,128),11,0,11),a.addMany(l(28,32),11,0,11),a.addMany(v,10,0,10),a.add(127,10,0,10),a.addMany(l(28,32),10,0,10),a.addMany(l(48,60),10,8,10),a.addMany([60,61,62,63],10,0,11),a.addMany(l(32,48),10,9,12),a.addMany(v,12,0,12),a.add(127,12,0,12),a.addMany(l(28,32),12,0,12),a.addMany(l(32,48),12,9,12),a.addMany(l(48,64),12,0,11),a.addMany(l(64,127),12,12,13),a.addMany(l(64,127),10,12,13),a.addMany(l(64,127),9,12,13),a.addMany(v,13,13,13),a.addMany(c,13,13,13),a.add(127,13,0,13),a.addMany([27,156,24,26],13,14,0),a.add(R,0,2,0),a.add(R,8,5,8),a.add(R,6,0,6),a.add(R,11,0,11),a.add(R,13,13,13),a})();class C extends d.Disposable{constructor(o=u.VT500_TRANSITION_TABLE){super(),this._transitions=o,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new E.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(l,c,v)=>{},this._executeHandlerFb=l=>{},this._csiHandlerFb=(l,c)=>{},this._escHandlerFb=l=>{},this._errorHandlerFb=l=>l,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,d.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new b.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(o,l=[64,126]){let c=0;if(o.prefix){if(o.prefix.length>1)throw new Error("only one byte as prefix supported");if(c=o.prefix.charCodeAt(0),c&&60>c||c>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(o.intermediates){if(o.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<o.intermediates.length;++S){const A=o.intermediates.charCodeAt(S);if(32>A||A>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");c<<=8,c|=A}}if(o.final.length!==1)throw new Error("final must be a single byte");const v=o.final.charCodeAt(0);if(l[0]>v||v>l[1])throw new Error(`final must be in range ${l[0]} .. ${l[1]}`);return c<<=8,c|=v,c}identToString(o){const l=[];for(;o;)l.push(String.fromCharCode(255&o)),o>>=8;return l.reverse().join("")}setPrintHandler(o){this._printHandler=o}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(o,l){const c=this._identifier(o,[48,126]);this._escHandlers[c]===void 0&&(this._escHandlers[c]=[]);const v=this._escHandlers[c];return v.push(l),{dispose:()=>{const S=v.indexOf(l);S!==-1&&v.splice(S,1)}}}clearEscHandler(o){this._escHandlers[this._identifier(o,[48,126])]&&delete this._escHandlers[this._identifier(o,[48,126])]}setEscHandlerFallback(o){this._escHandlerFb=o}setExecuteHandler(o,l){this._executeHandlers[o.charCodeAt(0)]=l}clearExecuteHandler(o){this._executeHandlers[o.charCodeAt(0)]&&delete this._executeHandlers[o.charCodeAt(0)]}setExecuteHandlerFallback(o){this._executeHandlerFb=o}registerCsiHandler(o,l){const c=this._identifier(o);this._csiHandlers[c]===void 0&&(this._csiHandlers[c]=[]);const v=this._csiHandlers[c];return v.push(l),{dispose:()=>{const S=v.indexOf(l);S!==-1&&v.splice(S,1)}}}clearCsiHandler(o){this._csiHandlers[this._identifier(o)]&&delete this._csiHandlers[this._identifier(o)]}setCsiHandlerFallback(o){this._csiHandlerFb=o}registerDcsHandler(o,l){return this._dcsParser.registerHandler(this._identifier(o),l)}clearDcsHandler(o){this._dcsParser.clearHandler(this._identifier(o))}setDcsHandlerFallback(o){this._dcsParser.setHandlerFallback(o)}registerOscHandler(o,l){return this._oscParser.registerHandler(o,l)}clearOscHandler(o){this._oscParser.clearHandler(o)}setOscHandlerFallback(o){this._oscParser.setHandlerFallback(o)}setErrorHandler(o){this._errorHandler=o}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(o,l,c,v,S){this._parseStack.state=o,this._parseStack.handlers=l,this._parseStack.handlerPos=c,this._parseStack.transition=v,this._parseStack.chunkPos=S}parse(o,l,c){let v,S=0,A=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(c===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const g=this._parseStack.handlers;let D=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(c===!1&&D>-1){for(;D>=0&&(v=g[D](this._params),v!==!0);D--)if(v instanceof Promise)return this._parseStack.handlerPos=D,v}this._parseStack.handlers=[];break;case 4:if(c===!1&&D>-1){for(;D>=0&&(v=g[D](),v!==!0);D--)if(v instanceof Promise)return this._parseStack.handlerPos=D,v}this._parseStack.handlers=[];break;case 6:if(S=o[this._parseStack.chunkPos],v=this._dcsParser.unhook(S!==24&&S!==26,c),v)return v;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=o[this._parseStack.chunkPos],v=this._oscParser.end(S!==24&&S!==26,c),v)return v;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let g=L;g<l;++g){switch(S=o[g],A=this._transitions.table[this.currentState<<8|(S<160?S:R)],A>>4){case 2:for(let q=g+1;;++q){if(q>=l||(S=o[q])<32||S>126&&S<R){this._printHandler(o,g,q),g=q-1;break}if(++q>=l||(S=o[q])<32||S>126&&S<R){this._printHandler(o,g,q),g=q-1;break}if(++q>=l||(S=o[q])<32||S>126&&S<R){this._printHandler(o,g,q),g=q-1;break}if(++q>=l||(S=o[q])<32||S>126&&S<R){this._printHandler(o,g,q),g=q-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:g,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const D=this._csiHandlers[this._collect<<8|S];let N=D?D.length-1:-1;for(;N>=0&&(v=D[N](this._params),v!==!0);N--)if(v instanceof Promise)return this._preserveStack(3,D,N,A,g),v;N<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++g<l&&(S=o[g])>47&&S<60);g--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const I=this._escHandlers[this._collect<<8|S];let H=I?I.length-1:-1;for(;H>=0&&(v=I[H](),v!==!0);H--)if(v instanceof Promise)return this._preserveStack(4,I,H,A,g),v;H<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let q=g+1;;++q)if(q>=l||(S=o[q])===24||S===26||S===27||S>127&&S<R){this._dcsParser.put(o,g,q),g=q-1;break}break;case 14:if(v=this._dcsParser.unhook(S!==24&&S!==26),v)return this._preserveStack(6,[],0,A,g),v;S===27&&(A|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let q=g+1;;q++)if(q>=l||(S=o[q])<32||S>127&&S<R){this._oscParser.put(o,g,q),g=q-1;break}break;case 6:if(v=this._oscParser.end(S!==24&&S!==26),v)return this._preserveStack(5,[],0,A,g),v;S===27&&(A|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&A}}}u.EscapeSequenceParser=C},6242:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.OscHandler=u.OscParser=void 0;const d=h(5770),E=h(482),f=[];u.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(b,x){this._handlers[b]===void 0&&(this._handlers[b]=[]);const R=this._handlers[b];return R.push(x),{dispose:()=>{const C=R.indexOf(x);C!==-1&&R.splice(C,1)}}}clearHandler(b){this._handlers[b]&&delete this._handlers[b]}setHandlerFallback(b){this._handlerFb=b}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let b=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;b>=0;--b)this._active[b].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].start();else this._handlerFb(this._id,"START")}_put(b,x,R){if(this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].put(b,x,R);else this._handlerFb(this._id,"PUT",(0,E.utf32ToString)(b,x,R))}start(){this.reset(),this._state=1}put(b,x,R){if(this._state!==3){if(this._state===1)for(;x<R;){const C=b[x++];if(C===59){this._state=2,this._start();break}if(C<48||57<C)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+C-48}this._state===2&&R-x>0&&this._put(b,x,R)}}end(b,x=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let R=!1,C=this._active.length-1,a=!1;if(this._stack.paused&&(C=this._stack.loopPosition-1,R=x,a=this._stack.fallThrough,this._stack.paused=!1),!a&&R===!1){for(;C>=0&&(R=this._active[C].end(b),R!==!0);C--)if(R instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!1,R;C--}for(;C>=0;C--)if(R=this._active[C].end(!1),R instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=C,this._stack.fallThrough=!0,R}else this._handlerFb(this._id,"END",b);this._active=f,this._id=-1,this._state=0}}},u.OscHandler=class{constructor(b){this._handler=b,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(b,x,R){this._hitLimit||(this._data+=(0,E.utf32ToString)(b,x,R),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(b){let x=!1;if(this._hitLimit)x=!1;else if(b&&(x=this._handler(this._data),x instanceof Promise))return x.then((R=>(this._data="",this._hitLimit=!1,R)));return this._data="",this._hitLimit=!1,x}}},8742:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Params=void 0;const h=2147483647;class d{static fromArray(f){const b=new d;if(!f.length)return b;for(let x=Array.isArray(f[0])?1:0;x<f.length;++x){const R=f[x];if(Array.isArray(R))for(let C=0;C<R.length;++C)b.addSubParam(R[C]);else b.addParam(R)}return b}constructor(f=32,b=32){if(this.maxLength=f,this.maxSubParamsLength=b,b>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(b),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new d(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let b=0;b<this.length;++b){f.push(this.params[b]);const x=this._subParamsIdx[b]>>8,R=255&this._subParamsIdx[b];R-x>0&&f.push(Array.prototype.slice.call(this._subParams,x,R))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>h?h:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>h?h:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const b=this._subParamsIdx[f]>>8,x=255&this._subParamsIdx[f];return x-b>0?this._subParams.subarray(b,x):null}getSubParamsAll(){const f={};for(let b=0;b<this.length;++b){const x=this._subParamsIdx[b]>>8,R=255&this._subParamsIdx[b];R-x>0&&(f[b]=this._subParams.slice(x,R))}return f}addDigit(f){let b;if(this._rejectDigits||!(b=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const x=this._digitIsSub?this._subParams:this.params,R=x[b-1];x[b-1]=~R?Math.min(10*R+f,h):f}}u.Params=d},5741:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AddonManager=void 0,u.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let h=this._addons.length-1;h>=0;h--)this._addons[h].instance.dispose()}loadAddon(h,d){const E={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(E),d.dispose=()=>this._wrappedAddonDispose(E),d.activate(h)}_wrappedAddonDispose(h){if(h.isDisposed)return;let d=-1;for(let E=0;E<this._addons.length;E++)if(this._addons[E]===h){d=E;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");h.isDisposed=!0,h.dispose.apply(h.instance),this._addons.splice(d,1)}}},8771:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferApiView=void 0;const d=h(3785),E=h(511);u.BufferApiView=class{constructor(f,b){this._buffer=f,this.type=b}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const b=this._buffer.lines.get(f);if(b)return new d.BufferLineApiView(b)}getNullCell(){return new E.CellData}}},3785:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferLineApiView=void 0;const d=h(511);u.BufferLineApiView=class{constructor(E){this._line=E}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(E,f){if(!(E<0||E>=this._line.length))return f?(this._line.loadCell(E,f),f):this._line.loadCell(E,new d.CellData)}translateToString(E,f,b){return this._line.translateToString(E,f,b)}}},8285:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BufferNamespaceApi=void 0;const d=h(8771),E=h(8460),f=h(844);class b extends f.Disposable{constructor(R){super(),this._core=R,this._onBufferChange=this.register(new E.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new d.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new d.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}u.BufferNamespaceApi=b},7975:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.ParserApi=void 0,u.ParserApi=class{constructor(h){this._core=h}registerCsiHandler(h,d){return this._core.registerCsiHandler(h,(E=>d(E.toArray())))}addCsiHandler(h,d){return this.registerCsiHandler(h,d)}registerDcsHandler(h,d){return this._core.registerDcsHandler(h,((E,f)=>d(E,f.toArray())))}addDcsHandler(h,d){return this.registerDcsHandler(h,d)}registerEscHandler(h,d){return this._core.registerEscHandler(h,d)}addEscHandler(h,d){return this.registerEscHandler(h,d)}registerOscHandler(h,d){return this._core.registerOscHandler(h,d)}addOscHandler(h,d){return this.registerOscHandler(h,d)}}},7090:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UnicodeApi=void 0,u.UnicodeApi=class{constructor(h){this._core=h}register(h){this._core.unicodeService.register(h)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(h){this._core.unicodeService.activeVersion=h}}},744:function(X,u,h){var d=this&&this.__decorate||function(a,o,l,c){var v,S=arguments.length,A=S<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(a,o,l,c);else for(var L=a.length-1;L>=0;L--)(v=a[L])&&(A=(S<3?v(A):S>3?v(o,l,A):v(o,l))||A);return S>3&&A&&Object.defineProperty(o,l,A),A},E=this&&this.__param||function(a,o){return function(l,c){o(l,c,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.BufferService=u.MINIMUM_ROWS=u.MINIMUM_COLS=void 0;const f=h(8460),b=h(844),x=h(5295),R=h(2585);u.MINIMUM_COLS=2,u.MINIMUM_ROWS=1;let C=u.BufferService=class extends b.Disposable{get buffer(){return this.buffers.active}constructor(a){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(a.rawOptions.cols||0,u.MINIMUM_COLS),this.rows=Math.max(a.rawOptions.rows||0,u.MINIMUM_ROWS),this.buffers=this.register(new x.BufferSet(a,this))}resize(a,o){this.cols=a,this.rows=o,this.buffers.resize(a,o),this._onResize.fire({cols:a,rows:o})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(a,o=!1){const l=this.buffer;let c;c=this._cachedBlankLine,c&&c.length===this.cols&&c.getFg(0)===a.fg&&c.getBg(0)===a.bg||(c=l.getBlankLine(a,o),this._cachedBlankLine=c),c.isWrapped=o;const v=l.ybase+l.scrollTop,S=l.ybase+l.scrollBottom;if(l.scrollTop===0){const A=l.lines.isFull;S===l.lines.length-1?A?l.lines.recycle().copyFrom(c):l.lines.push(c.clone()):l.lines.splice(S+1,0,c.clone()),A?this.isUserScrolling&&(l.ydisp=Math.max(l.ydisp-1,0)):(l.ybase++,this.isUserScrolling||l.ydisp++)}else{const A=S-v+1;l.lines.shiftElements(v+1,A-1,-1),l.lines.set(S,c.clone())}this.isUserScrolling||(l.ydisp=l.ybase),this._onScroll.fire(l.ydisp)}scrollLines(a,o,l){const c=this.buffer;if(a<0){if(c.ydisp===0)return;this.isUserScrolling=!0}else a+c.ydisp>=c.ybase&&(this.isUserScrolling=!1);const v=c.ydisp;c.ydisp=Math.max(Math.min(c.ydisp+a,c.ybase),0),v!==c.ydisp&&(o||this._onScroll.fire(c.ydisp))}};u.BufferService=C=d([E(0,R.IOptionsService)],C)},7994:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CharsetService=void 0,u.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(h){this.glevel=h,this.charset=this._charsets[h]}setgCharset(h,d){this._charsets[h]=d,this.glevel===h&&(this.charset=d)}}},1753:function(X,u,h){var d=this&&this.__decorate||function(c,v,S,A){var L,g=arguments.length,D=g<3?v:A===null?A=Object.getOwnPropertyDescriptor(v,S):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(c,v,S,A);else for(var N=c.length-1;N>=0;N--)(L=c[N])&&(D=(g<3?L(D):g>3?L(v,S,D):L(v,S))||D);return g>3&&D&&Object.defineProperty(v,S,D),D},E=this&&this.__param||function(c,v){return function(S,A){v(S,A,c)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CoreMouseService=void 0;const f=h(2585),b=h(8460),x=h(844),R={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:c=>c.button!==4&&c.action===1&&(c.ctrl=!1,c.alt=!1,c.shift=!1,!0)},VT200:{events:19,restrict:c=>c.action!==32},DRAG:{events:23,restrict:c=>c.action!==32||c.button!==3},ANY:{events:31,restrict:c=>!0}};function C(c,v){let S=(c.ctrl?16:0)|(c.shift?4:0)|(c.alt?8:0);return c.button===4?(S|=64,S|=c.action):(S|=3&c.button,4&c.button&&(S|=64),8&c.button&&(S|=128),c.action===32?S|=32:c.action!==0||v||(S|=3)),S}const a=String.fromCharCode,o={DEFAULT:c=>{const v=[C(c,!1)+32,c.col+32,c.row+32];return v[0]>255||v[1]>255||v[2]>255?"":`\x1B[M${a(v[0])}${a(v[1])}${a(v[2])}`},SGR:c=>{const v=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${C(c,!0)};${c.col};${c.row}${v}`},SGR_PIXELS:c=>{const v=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${C(c,!0)};${c.x};${c.y}${v}`}};let l=u.CoreMouseService=class extends x.Disposable{constructor(c,v){super(),this._bufferService=c,this._coreService=v,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new b.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(R))this.addProtocol(S,R[S]);for(const S of Object.keys(o))this.addEncoding(S,o[S]);this.reset()}addProtocol(c,v){this._protocols[c]=v}addEncoding(c,v){this._encodings[c]=v}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(c){if(!this._protocols[c])throw new Error(`unknown protocol "${c}"`);this._activeProtocol=c,this._onProtocolChange.fire(this._protocols[c].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(c){if(!this._encodings[c])throw new Error(`unknown encoding "${c}"`);this._activeEncoding=c}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(c){if(c.col<0||c.col>=this._bufferService.cols||c.row<0||c.row>=this._bufferService.rows||c.button===4&&c.action===32||c.button===3&&c.action!==32||c.button!==4&&(c.action===2||c.action===3)||(c.col++,c.row++,c.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,c,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(c))return!1;const v=this._encodings[this._activeEncoding](c);return v&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(v):this._coreService.triggerDataEvent(v,!0)),this._lastEvent=c,!0}explainEvents(c){return{down:!!(1&c),up:!!(2&c),drag:!!(4&c),move:!!(8&c),wheel:!!(16&c)}}_equalEvents(c,v,S){if(S){if(c.x!==v.x||c.y!==v.y)return!1}else if(c.col!==v.col||c.row!==v.row)return!1;return c.button===v.button&&c.action===v.action&&c.ctrl===v.ctrl&&c.alt===v.alt&&c.shift===v.shift}};u.CoreMouseService=l=d([E(0,f.IBufferService),E(1,f.ICoreService)],l)},6975:function(X,u,h){var d=this&&this.__decorate||function(l,c,v,S){var A,L=arguments.length,g=L<3?c:S===null?S=Object.getOwnPropertyDescriptor(c,v):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(l,c,v,S);else for(var D=l.length-1;D>=0;D--)(A=l[D])&&(g=(L<3?A(g):L>3?A(c,v,g):A(c,v))||g);return L>3&&g&&Object.defineProperty(c,v,g),g},E=this&&this.__param||function(l,c){return function(v,S){c(v,S,l)}};Object.defineProperty(u,"__esModule",{value:!0}),u.CoreService=void 0;const f=h(1439),b=h(8460),x=h(844),R=h(2585),C=Object.freeze({insertMode:!1}),a=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let o=u.CoreService=class extends x.Disposable{constructor(l,c,v){super(),this._bufferService=l,this._logService=c,this._optionsService=v,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new b.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new b.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new b.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new b.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(C),this.decPrivateModes=(0,f.clone)(a)}reset(){this.modes=(0,f.clone)(C),this.decPrivateModes=(0,f.clone)(a)}triggerDataEvent(l,c=!1){if(this._optionsService.rawOptions.disableStdin)return;const v=this._bufferService.buffer;c&&this._optionsService.rawOptions.scrollOnUserInput&&v.ybase!==v.ydisp&&this._onRequestScrollToBottom.fire(),c&&this._onUserInput.fire(),this._logService.debug(`sending data "${l}"`,(()=>l.split("").map((S=>S.charCodeAt(0))))),this._onData.fire(l)}triggerBinaryEvent(l){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${l}"`,(()=>l.split("").map((c=>c.charCodeAt(0))))),this._onBinary.fire(l))}};u.CoreService=o=d([E(0,R.IBufferService),E(1,R.ILogService),E(2,R.IOptionsService)],o)},9074:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.DecorationService=void 0;const d=h(8055),E=h(8460),f=h(844),b=h(6106);let x=0,R=0;class C extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new b.SortedList((l=>l==null?void 0:l.marker.line)),this._onDecorationRegistered=this.register(new E.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new E.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)((()=>this.reset())))}registerDecoration(l){if(l.marker.isDisposed)return;const c=new a(l);if(c){const v=c.marker.onDispose((()=>c.dispose()));c.onDispose((()=>{c&&(this._decorations.delete(c)&&this._onDecorationRemoved.fire(c),v.dispose())})),this._decorations.insert(c),this._onDecorationRegistered.fire(c)}return c}reset(){for(const l of this._decorations.values())l.dispose();this._decorations.clear()}*getDecorationsAtCell(l,c,v){var S,A,L;let g=0,D=0;for(const N of this._decorations.getKeyIterator(c))g=(S=N.options.x)!==null&&S!==void 0?S:0,D=g+((A=N.options.width)!==null&&A!==void 0?A:1),l>=g&&l<D&&(!v||((L=N.options.layer)!==null&&L!==void 0?L:"bottom")===v)&&(yield N)}forEachDecorationAtCell(l,c,v,S){this._decorations.forEachByKey(c,(A=>{var L,g,D;x=(L=A.options.x)!==null&&L!==void 0?L:0,R=x+((g=A.options.width)!==null&&g!==void 0?g:1),l>=x&&l<R&&(!v||((D=A.options.layer)!==null&&D!==void 0?D:"bottom")===v)&&S(A)}))}}u.DecorationService=C;class a extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=d.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=d.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(l){super(),this.options=l,this.onRenderEmitter=this.register(new E.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new E.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=l.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.InstantiationService=u.ServiceCollection=void 0;const d=h(2585),E=h(8343);class f{constructor(...x){this._entries=new Map;for(const[R,C]of x)this.set(R,C)}set(x,R){const C=this._entries.get(x);return this._entries.set(x,R),C}forEach(x){for(const[R,C]of this._entries.entries())x(R,C)}has(x){return this._entries.has(x)}get(x){return this._entries.get(x)}}u.ServiceCollection=f,u.InstantiationService=class{constructor(){this._services=new f,this._services.set(d.IInstantiationService,this)}setService(b,x){this._services.set(b,x)}getService(b){return this._services.get(b)}createInstance(b,...x){const R=(0,E.getServiceDependencies)(b).sort(((o,l)=>o.index-l.index)),C=[];for(const o of R){const l=this._services.get(o.id);if(!l)throw new Error(`[createInstance] ${b.name} depends on UNKNOWN service ${o.id}.`);C.push(l)}const a=R.length>0?R[0].index:x.length;if(x.length!==a)throw new Error(`[createInstance] First service dependency of ${b.name} at position ${a+1} conflicts with ${x.length} static arguments`);return new b(...x,...C)}}},7866:function(X,u,h){var d=this&&this.__decorate||function(a,o,l,c){var v,S=arguments.length,A=S<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(a,o,l,c);else for(var L=a.length-1;L>=0;L--)(v=a[L])&&(A=(S<3?v(A):S>3?v(o,l,A):v(o,l))||A);return S>3&&A&&Object.defineProperty(o,l,A),A},E=this&&this.__param||function(a,o){return function(l,c){o(l,c,a)}};Object.defineProperty(u,"__esModule",{value:!0}),u.traceCall=u.setTraceLogger=u.LogService=void 0;const f=h(844),b=h(2585),x={trace:b.LogLevelEnum.TRACE,debug:b.LogLevelEnum.DEBUG,info:b.LogLevelEnum.INFO,warn:b.LogLevelEnum.WARN,error:b.LogLevelEnum.ERROR,off:b.LogLevelEnum.OFF};let R,C=u.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(a){super(),this._optionsService=a,this._logLevel=b.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),R=this}_updateLogLevel(){this._logLevel=x[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(a){for(let o=0;o<a.length;o++)typeof a[o]=="function"&&(a[o]=a[o]())}_log(a,o,l){this._evalLazyOptionalParams(l),a.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+o,...l)}trace(a,...o){var l,c;this._logLevel<=b.LogLevelEnum.TRACE&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.trace.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.log,a,o)}debug(a,...o){var l,c;this._logLevel<=b.LogLevelEnum.DEBUG&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.debug.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.log,a,o)}info(a,...o){var l,c;this._logLevel<=b.LogLevelEnum.INFO&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.info.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.info,a,o)}warn(a,...o){var l,c;this._logLevel<=b.LogLevelEnum.WARN&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.warn.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.warn,a,o)}error(a,...o){var l,c;this._logLevel<=b.LogLevelEnum.ERROR&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.error.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.error,a,o)}};u.LogService=C=d([E(0,b.IOptionsService)],C),u.setTraceLogger=function(a){R=a},u.traceCall=function(a,o,l){if(typeof l.value!="function")throw new Error("not supported");const c=l.value;l.value=function(...v){if(R.logLevel!==b.LogLevelEnum.TRACE)return c.apply(this,v);R.trace(`GlyphRenderer#${c.name}(${v.map((A=>JSON.stringify(A))).join(", ")})`);const S=c.apply(this,v);return R.trace(`GlyphRenderer#${c.name} return`,S),S}}},7302:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.OptionsService=u.DEFAULT_OPTIONS=void 0;const d=h(8460),E=h(844),f=h(6114);u.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const b=["normal","bold","100","200","300","400","500","600","700","800","900"];class x extends E.Disposable{constructor(C){super(),this._onOptionChange=this.register(new d.EventEmitter),this.onOptionChange=this._onOptionChange.event;const a=Object.assign({},u.DEFAULT_OPTIONS);for(const o in C)if(o in a)try{const l=C[o];a[o]=this._sanitizeAndValidateOption(o,l)}catch(l){console.error(l)}this.rawOptions=a,this.options=Object.assign({},a),this._setupOptions()}onSpecificOptionChange(C,a){return this.onOptionChange((o=>{o===C&&a(this.rawOptions[C])}))}onMultipleOptionChange(C,a){return this.onOptionChange((o=>{C.indexOf(o)!==-1&&a()}))}_setupOptions(){const C=o=>{if(!(o in u.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);return this.rawOptions[o]},a=(o,l)=>{if(!(o in u.DEFAULT_OPTIONS))throw new Error(`No option with key "${o}"`);l=this._sanitizeAndValidateOption(o,l),this.rawOptions[o]!==l&&(this.rawOptions[o]=l,this._onOptionChange.fire(o))};for(const o in this.rawOptions){const l={get:C.bind(this,o),set:a.bind(this,o)};Object.defineProperty(this.options,o,l)}}_sanitizeAndValidateOption(C,a){switch(C){case"cursorStyle":if(a||(a=u.DEFAULT_OPTIONS[C]),!(function(o){return o==="block"||o==="underline"||o==="bar"})(a))throw new Error(`"${a}" is not a valid value for ${C}`);break;case"wordSeparator":a||(a=u.DEFAULT_OPTIONS[C]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=b.includes(a)?a:u.DEFAULT_OPTIONS[C];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(`${C} cannot be less than 1, value: ${a}`);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(`${C} cannot be less than 0, value: ${a}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(`${C} cannot be less than or equal to 0, value: ${a}`);break;case"rows":case"cols":if(!a&&a!==0)throw new Error(`${C} must be numeric, value: ${a}`);break;case"windowsPty":a=a??{}}return a}}u.OptionsService=x},2660:function(X,u,h){var d=this&&this.__decorate||function(x,R,C,a){var o,l=arguments.length,c=l<3?R:a===null?a=Object.getOwnPropertyDescriptor(R,C):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(x,R,C,a);else for(var v=x.length-1;v>=0;v--)(o=x[v])&&(c=(l<3?o(c):l>3?o(R,C,c):o(R,C))||c);return l>3&&c&&Object.defineProperty(R,C,c),c},E=this&&this.__param||function(x,R){return function(C,a){R(C,a,x)}};Object.defineProperty(u,"__esModule",{value:!0}),u.OscLinkService=void 0;const f=h(2585);let b=u.OscLinkService=class{constructor(x){this._bufferService=x,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(x){const R=this._bufferService.buffer;if(x.id===void 0){const v=R.addMarker(R.ybase+R.y),S={data:x,id:this._nextId++,lines:[v]};return v.onDispose((()=>this._removeMarkerFromLink(S,v))),this._dataByLinkId.set(S.id,S),S.id}const C=x,a=this._getEntryIdKey(C),o=this._entriesWithId.get(a);if(o)return this.addLineToLink(o.id,R.ybase+R.y),o.id;const l=R.addMarker(R.ybase+R.y),c={id:this._nextId++,key:this._getEntryIdKey(C),data:C,lines:[l]};return l.onDispose((()=>this._removeMarkerFromLink(c,l))),this._entriesWithId.set(c.key,c),this._dataByLinkId.set(c.id,c),c.id}addLineToLink(x,R){const C=this._dataByLinkId.get(x);if(C&&C.lines.every((a=>a.line!==R))){const a=this._bufferService.buffer.addMarker(R);C.lines.push(a),a.onDispose((()=>this._removeMarkerFromLink(C,a)))}}getLinkData(x){var R;return(R=this._dataByLinkId.get(x))===null||R===void 0?void 0:R.data}_getEntryIdKey(x){return`${x.id};;${x.uri}`}_removeMarkerFromLink(x,R){const C=x.lines.indexOf(R);C!==-1&&(x.lines.splice(C,1),x.lines.length===0&&(x.data.id!==void 0&&this._entriesWithId.delete(x.key),this._dataByLinkId.delete(x.id)))}};u.OscLinkService=b=d([E(0,f.IBufferService)],b)},8343:(X,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createDecorator=u.getServiceDependencies=u.serviceRegistry=void 0;const h="di$target",d="di$dependencies";u.serviceRegistry=new Map,u.getServiceDependencies=function(E){return E[d]||[]},u.createDecorator=function(E){if(u.serviceRegistry.has(E))return u.serviceRegistry.get(E);const f=function(b,x,R){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,a,o){a[h]===a?a[d].push({id:C,index:o}):(a[d]=[{id:C,index:o}],a[h]=a)})(f,b,R)};return f.toString=()=>E,u.serviceRegistry.set(E,f),f}},2585:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.IDecorationService=u.IUnicodeService=u.IOscLinkService=u.IOptionsService=u.ILogService=u.LogLevelEnum=u.IInstantiationService=u.ICharsetService=u.ICoreService=u.ICoreMouseService=u.IBufferService=void 0;const d=h(8343);var E;u.IBufferService=(0,d.createDecorator)("BufferService"),u.ICoreMouseService=(0,d.createDecorator)("CoreMouseService"),u.ICoreService=(0,d.createDecorator)("CoreService"),u.ICharsetService=(0,d.createDecorator)("CharsetService"),u.IInstantiationService=(0,d.createDecorator)("InstantiationService"),(function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"})(E||(u.LogLevelEnum=E={})),u.ILogService=(0,d.createDecorator)("LogService"),u.IOptionsService=(0,d.createDecorator)("OptionsService"),u.IOscLinkService=(0,d.createDecorator)("OscLinkService"),u.IUnicodeService=(0,d.createDecorator)("UnicodeService"),u.IDecorationService=(0,d.createDecorator)("DecorationService")},1480:(X,u,h)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.UnicodeService=void 0;const d=h(8460),E=h(225);u.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new d.EventEmitter,this.onChange=this._onChange.event;const f=new E.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let b=0;const x=f.length;for(let R=0;R<x;++R){let C=f.charCodeAt(R);if(55296<=C&&C<=56319){if(++R>=x)return b+this.wcwidth(C);const a=f.charCodeAt(R);56320<=a&&a<=57343?C=1024*(C-55296)+a-56320+65536:b+=this.wcwidth(a)}b+=this.wcwidth(C)}return b}}}},m={};function Y(X){var u=m[X];if(u!==void 0)return u.exports;var h=m[X]={exports:{}};return y[X].call(h.exports,h,h.exports,Y),h.exports}var te={};return(()=>{var X=te;Object.defineProperty(X,"__esModule",{value:!0}),X.Terminal=void 0;const u=Y(9042),h=Y(3236),d=Y(844),E=Y(5741),f=Y(8285),b=Y(7975),x=Y(7090),R=["cols","rows"];class C extends d.Disposable{constructor(o){super(),this._core=this.register(new h.Terminal(o)),this._addonManager=this.register(new E.AddonManager),this._publicOptions=Object.assign({},this._core.options);const l=v=>this._core.options[v],c=(v,S)=>{this._checkReadonlyOptions(v),this._core.options[v]=S};for(const v in this._core.options){const S={get:l.bind(this,v),set:c.bind(this,v)};Object.defineProperty(this._publicOptions,v,S)}}_checkReadonlyOptions(o){if(R.includes(o))throw new Error(`Option "${o}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new b.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new x.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const o=this._core.coreService.decPrivateModes;let l="none";switch(this._core.coreMouseService.activeProtocol){case"X10":l="x10";break;case"VT200":l="vt200";break;case"DRAG":l="drag";break;case"ANY":l="any"}return{applicationCursorKeysMode:o.applicationCursorKeys,applicationKeypadMode:o.applicationKeypad,bracketedPasteMode:o.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:l,originMode:o.origin,reverseWraparoundMode:o.reverseWraparound,sendFocusMode:o.sendFocus,wraparoundMode:o.wraparound}}get options(){return this._publicOptions}set options(o){for(const l in o)this._publicOptions[l]=o[l]}blur(){this._core.blur()}focus(){this._core.focus()}resize(o,l){this._verifyIntegers(o,l),this._core.resize(o,l)}open(o){this._core.open(o)}attachCustomKeyEventHandler(o){this._core.attachCustomKeyEventHandler(o)}registerLinkProvider(o){return this._core.registerLinkProvider(o)}registerCharacterJoiner(o){return this._checkProposedApi(),this._core.registerCharacterJoiner(o)}deregisterCharacterJoiner(o){this._checkProposedApi(),this._core.deregisterCharacterJoiner(o)}registerMarker(o=0){return this._verifyIntegers(o),this._core.registerMarker(o)}registerDecoration(o){var l,c,v;return this._checkProposedApi(),this._verifyPositiveIntegers((l=o.x)!==null&&l!==void 0?l:0,(c=o.width)!==null&&c!==void 0?c:0,(v=o.height)!==null&&v!==void 0?v:0),this._core.registerDecoration(o)}hasSelection(){return this._core.hasSelection()}select(o,l,c){this._verifyIntegers(o,l,c),this._core.select(o,l,c)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(o,l){this._verifyIntegers(o,l),this._core.selectLines(o,l)}dispose(){super.dispose()}scrollLines(o){this._verifyIntegers(o),this._core.scrollLines(o)}scrollPages(o){this._verifyIntegers(o),this._core.scrollPages(o)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(o){this._verifyIntegers(o),this._core.scrollToLine(o)}clear(){this._core.clear()}write(o,l){this._core.write(o,l)}writeln(o,l){this._core.write(o),this._core.write(`\r
`,l)}paste(o){this._core.paste(o)}refresh(o,l){this._verifyIntegers(o,l),this._core.refresh(o,l)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(o){this._addonManager.loadAddon(this,o)}static get strings(){return u}_verifyIntegers(...o){for(const l of o)if(l===1/0||isNaN(l)||l%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...o){for(const l of o)if(l&&(l===1/0||isNaN(l)||l%1!=0||l<0))throw new Error("This API only accepts positive integers")}}X.Terminal=C})(),te})()))})(Wo)),Wo.exports}var Ep=Cp(),Qo={exports:{}},xd;function wp(){return xd||(xd=1,(function(w,_){(function(y,m){w.exports=m()})(self,(()=>(()=>{var y={};return(()=>{var m=y;Object.defineProperty(m,"__esModule",{value:!0}),m.FitAddon=void 0,m.FitAddon=class{activate(Y){this._terminal=Y}dispose(){}fit(){const Y=this.proposeDimensions();if(!Y||!this._terminal||isNaN(Y.cols)||isNaN(Y.rows))return;const te=this._terminal._core;this._terminal.rows===Y.rows&&this._terminal.cols===Y.cols||(te._renderService.clear(),this._terminal.resize(Y.cols,Y.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const Y=this._terminal._core,te=Y._renderService.dimensions;if(te.css.cell.width===0||te.css.cell.height===0)return;const X=this._terminal.options.scrollback===0?0:Y.viewport.scrollBarWidth,u=window.getComputedStyle(this._terminal.element.parentElement),h=parseInt(u.getPropertyValue("height")),d=Math.max(0,parseInt(u.getPropertyValue("width"))),E=window.getComputedStyle(this._terminal.element),f=h-(parseInt(E.getPropertyValue("padding-top"))+parseInt(E.getPropertyValue("padding-bottom"))),b=d-(parseInt(E.getPropertyValue("padding-right"))+parseInt(E.getPropertyValue("padding-left")))-X;return{cols:Math.max(2,Math.floor(b/te.css.cell.width)),rows:Math.max(1,Math.floor(f/te.css.cell.height))}}}})(),y})()))})(Qo)),Qo.exports}var xp=wp();const Ap=({activeTask:w,clearKey:_=0})=>{const y=Je.useRef(null),m=Je.useRef(null),Y=Je.useRef(null),te=Je.useRef(null),X=Je.useRef(null),u=Je.useRef(null);return Je.useEffect(()=>{u.current=w},[w]),Je.useEffect(()=>{if(!y.current)return;const h=new Ep.Terminal({cursorBlink:!0,theme:{background:"#0f172a",foreground:"#f8fafc",cursor:"#f8fafc",selectionBackground:"#475569"},fontFamily:"Fira Code, monospace",fontSize:14}),d=new xp.FitAddon;h.loadAddon(d),h.open(y.current),d.fit(),h.writeln("\x1B[32mRHCSA Examination Platform Terminal\x1B[0m"),h.writeln("Select a task and click Start to connect to the container."),h.write(`\r
`),m.current=h,Y.current=d;const E=()=>{var x;d.fit();const f=h.cols,b=h.rows;(x=te.current)!=null&&x.connected&&X.current!=null&&te.current.emit("terminal:resize",{taskId:X.current,cols:f,rows:b})};return window.addEventListener("resize",E),h.onData(f=>{var x;const b=u.current;if((b==null?void 0:b.status)!==Xe.RUNNING){h.writeln(`\r
\x1B[31mTerminal inactive. Please START the task container.\x1B[0m`);return}(x=te.current)!=null&&x.connected&&X.current===b.id?te.current.emit("terminal:input",{taskId:b.id,data:f}):h.writeln(`\r
\x1B[33mConnecting...\x1B[0m`)}),()=>{window.removeEventListener("resize",E),h.dispose()}},[]),Je.useEffect(()=>{const h=(w==null?void 0:w.id)??null;if(!((w==null?void 0:w.status)===Xe.RUNNING)||h==null){te.current&&(te.current.disconnect(),te.current=null),X.current=null;return}const E=wa({path:"/socket.io",transports:["websocket","polling"]});return te.current=E,X.current=h,E.on("connect",()=>{E.emit("terminal:connect",{taskId:h})}),E.on("terminal:output",f=>{f.taskId===h&&m.current&&m.current.write(f.data)}),E.on("terminal:exit",f=>{f.taskId===h&&m.current&&(m.current.writeln(`\r
\x1B[33m[Process exited with code ${f.code}]\x1B[0m`),m.current.write("[root@node1 ~]# "))}),E.on("terminal:error",f=>{f.taskId===h&&m.current&&(m.current.writeln(`\r
\x1B[31m[Error] ${f.message}\x1B[0m`),m.current.write("[root@node1 ~]# "))}),()=>{E.removeAllListeners(),E.disconnect(),te.current=null,X.current=null}},[w==null?void 0:w.id,w==null?void 0:w.status]),Je.useEffect(()=>{_>0&&m.current&&(m.current.clear(),m.current.writeln("\x1B[32mRHCSA Examination Platform Terminal\x1B[0m"),m.current.writeln("Select a task and click Start to connect to the container."),m.current.write(`\r
`))},[_]),Je.useEffect(()=>{var h;if((w==null?void 0:w.status)===Xe.RUNNING&&m.current&&Y.current){Y.current.fit();const d=m.current.cols,E=m.current.rows;(h=te.current)!=null&&h.connected&&X.current===w.id&&te.current.emit("terminal:resize",{taskId:w.id,cols:d,rows:E})}},[w==null?void 0:w.id,w==null?void 0:w.status]),J.jsxs("div",{className:"flex flex-col h-full bg-slate-900 overflow-hidden rounded-b-lg border-x border-b border-slate-700 shadow-2xl",children:[J.jsxs("div",{className:"bg-slate-800 px-4 py-1 flex items-center gap-2 border-b border-slate-700",children:[J.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),J.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),J.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),J.jsx("span",{className:"text-xs text-slate-400 font-mono ml-2",children:"root@node1:~"})]}),J.jsx("div",{ref:y,className:"flex-1 w-full h-full p-2"})]})},Dp=()=>{const[w,_]=Je.useState([]),[y,m]=Je.useState(1),[Y,te]=Je.useState(null),[X,u]=Je.useState(!0),[h,d]=Je.useState(0),[E,f]=Je.useState(()=>{const C=localStorage.getItem("ui.panels");return C?JSON.parse(C):{tasks:!0,instructions:!0,terminal:!0,results:!0}}),b=w.find(C=>C.id===y)||null;Je.useEffect(()=>{(async()=>{try{const[a,o]=await Promise.all([mg(),Sg()]);te(a),_(o),o.length>0&&!y&&m(o[0].id)}catch{te({available:!1,error:"Failed to load"}),_([])}finally{u(!1)}})()},[]),Je.useEffect(()=>{localStorage.setItem("ui.panels",JSON.stringify(E))},[E]);const x=C=>{f(a=>({...a,[C]:!a[C]}))},R=async(C,a)=>{if(!(Y!=null&&Y.available))return;(a==="start"||a==="stop"||a==="reset")&&d(v=>v+1),_(v=>v.map(S=>S.id===C?{...S,status:Xe.STARTING}:S));let o=!1,l=Xe.IDLE,c=null;try{switch(a){case"start":o=await yg(C),l=o?Xe.RUNNING:Xe.IDLE;break;case"stop":o=await bg(C),l=Xe.STOPPED;break;case"reset":o=await Cg(C),l=o?Xe.RUNNING:Xe.IDLE;break;case"check":c=await Eg(C),l=Xe.RUNNING,o=!0;break}}catch(v){console.error(v),o=!1}_(v=>v.map(S=>S.id===C?{...S,status:l,lastCheck:c||S.lastCheck}:S))};return X?J.jsxs("div",{className:"h-screen w-screen flex items-center justify-center bg-slate-900 flex-col gap-4",children:[J.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),J.jsx("p",{className:"text-indigo-300 font-medium animate-pulse",children:"Initializing RHCSA Examination Platform..."})]}):J.jsxs("div",{className:"h-screen flex flex-col bg-slate-900 text-slate-100 overflow-hidden",children:[J.jsxs("header",{className:"h-14 border-b border-slate-800 flex items-center justify-between px-6 bg-slate-900/50 backdrop-blur-md sticky top-0 z-50",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsx("div",{className:"p-0.5 rounded-lg",children:J.jsx(wg,{className:"w-8 h-8"})}),J.jsxs("h1",{className:"text-xl font-bold tracking-tight",children:["RHCSA ",J.jsx("span",{className:"text-red-500",children:"Examination Platform"})]}),J.jsxs("div",{className:"flex items-center gap-2 ml-4 px-2 py-0.5 rounded-full bg-slate-800 text-[10px] font-bold uppercase tracking-wider",children:[J.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Y!=null&&Y.available?"bg-green-500 animate-pulse":"bg-red-500"}`}),Y!=null&&Y.available?`Docker Active v${Y.version}`:"Docker Offline"]})]}),J.jsxs("div",{className:"flex items-center bg-slate-800/50 rounded-lg p-1 border border-slate-700 shadow-sm",children:[J.jsx(ya,{active:E.tasks,onClick:()=>x("tasks"),icon:J.jsx(md,{className:"w-4 h-4"}),label:"Tasks"}),J.jsx(ya,{active:E.instructions,onClick:()=>x("instructions"),icon:J.jsx(xg,{className:"w-4 h-4"}),label:"Instructions"}),J.jsx(ya,{active:E.terminal,onClick:()=>x("terminal"),icon:J.jsx(pd,{className:"w-4 h-4"}),label:"Terminal"}),J.jsx(ya,{active:E.results,onClick:()=>x("results"),icon:J.jsx(pa,{className:"w-4 h-4"}),label:"Results"})]})]}),Y!=null&&Y.available?J.jsxs("main",{className:"flex-1 overflow-hidden grid grid-cols-12 gap-0 p-0",children:[E.tasks&&J.jsxs("section",{className:"col-span-12 md:col-span-3 border-r border-slate-800 bg-slate-900/30 flex flex-col h-full overflow-hidden transition-all duration-300",children:[J.jsxs("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between sticky top-0 bg-slate-900/80 backdrop-blur",children:[J.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[J.jsx(md,{className:"w-4 h-4 text-red-400"}),"Task Registry"]}),J.jsxs("span",{className:"text-[10px] bg-slate-800 px-2 py-0.5 rounded text-slate-400",children:[w.length," Total"]})]}),J.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:J.jsxs("div",{className:"p-2 flex flex-col gap-1",children:[J.jsx(Ad,{group:Jr.NODE1,count:14}),w.filter(C=>C.node===Jr.NODE1).map(C=>J.jsx(Dd,{task:C,active:y===C.id,onClick:()=>m(C.id)},C.id)),J.jsx(Ad,{group:Jr.NODE2,count:6}),w.filter(C=>C.node===Jr.NODE2).map(C=>J.jsx(Dd,{task:C,active:y===C.id,onClick:()=>m(C.id)},C.id))]})})]}),J.jsx("div",{className:`col-span-12 flex flex-col h-full overflow-hidden ${E.tasks?"md:col-span-9":"md:col-span-12"}`,children:J.jsxs("div",{className:"flex-1 grid grid-rows-2 gap-0 overflow-hidden",children:[E.instructions&&J.jsx("section",{className:"row-span-1 border-b border-slate-800 p-6 overflow-y-auto bg-slate-900 flex flex-col",children:b?J.jsxs("div",{className:"animate-panel-enter-active",children:[J.jsxs("div",{className:"flex items-center justify-between mb-4",children:[J.jsxs("div",{className:"flex items-center gap-3",children:[J.jsxs("span",{className:"px-2 py-0.5 rounded bg-red-500/10 text-red-400 border border-red-500/20 text-xs font-bold font-mono",children:["TASK ",b.id]}),J.jsx("h2",{className:"text-2xl font-bold",children:b.title})]}),J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx(Zo,{label:"Start",icon:J.jsx(Ag,{className:"w-4 h-4"}),onClick:()=>R(b.id,"start"),disabled:b.status===Xe.RUNNING||b.status===Xe.STARTING,variant:"green"}),J.jsx(Zo,{label:"Stop",icon:J.jsx(Dg,{className:"w-4 h-4"}),onClick:()=>R(b.id,"stop"),disabled:b.status!==Xe.RUNNING,variant:"red"}),J.jsx(Zo,{label:"Reset",icon:J.jsx(Tg,{className:"w-4 h-4"}),onClick:()=>R(b.id,"reset"),variant:"blue"})]})]}),J.jsx("div",{className:"prose prose-invert max-w-none",children:J.jsx("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-slate-700 leading-relaxed text-slate-300",children:b.instructions})}),J.jsx("div",{className:"mt-6 flex justify-end",children:J.jsxs("button",{onClick:()=>R(b.id,"check"),disabled:b.status!==Xe.RUNNING,className:"px-8 py-3 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-bold flex items-center gap-2 shadow-lg shadow-red-600/20 transition-all hover:-translate-y-0.5",children:[J.jsx(pa,{className:"w-5 h-5"}),"Verify Task Completion"]})})]}):J.jsx("div",{className:"h-full flex items-center justify-center text-slate-500 italic",children:"Select a task from the list to begin"})}),J.jsxs("div",{className:`flex flex-1 overflow-hidden h-full ${E.instructions?"row-span-1":"row-span-2"}`,children:[E.terminal&&J.jsxs("section",{className:`h-full p-4 flex flex-col ${E.results?"w-2/3":"w-full"} border-r border-slate-800 bg-slate-900/50`,children:[J.jsxs("div",{className:"flex items-center justify-between mb-2",children:[J.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[J.jsx(pd,{className:"w-3 h-3"}),"Live Terminal"]}),(b==null?void 0:b.status)===Xe.RUNNING&&J.jsxs("div",{className:"flex items-center gap-1.5",children:[J.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),J.jsx("span",{className:"text-[10px] text-green-500 font-bold uppercase",children:"Online"})]})]}),J.jsx(Ap,{activeTask:b,clearKey:h})]}),E.results&&J.jsxs("section",{className:`h-full flex flex-col bg-slate-900/30 overflow-y-auto scrollbar-thin ${E.terminal?"w-1/3":"w-full"}`,children:[J.jsx("div",{className:"p-4 border-b border-slate-800 sticky top-0 bg-slate-900/80 backdrop-blur z-10 flex items-center justify-between",children:J.jsxs("h4",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[J.jsx(pa,{className:"w-3 h-3"}),"Validation Results"]})}),J.jsx("div",{className:"p-4",children:b!=null&&b.lastCheck?J.jsxs("div",{className:"space-y-4 animate-panel-enter-active",children:[J.jsxs("div",{className:`p-4 rounded-xl border flex flex-col gap-1 ${b.lastCheck.status==="PASS"?"bg-green-500/10 border-green-500/20 text-green-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:[J.jsxs("div",{className:"flex items-center justify-between font-bold",children:[J.jsxs("span",{children:["Result: ",b.lastCheck.status]}),J.jsx("span",{className:"text-[10px] opacity-70",children:new Date(b.lastCheck.timestamp).toLocaleTimeString()})]}),J.jsx("p",{className:"text-sm opacity-90",children:b.lastCheck.summary})]}),J.jsx("div",{className:"space-y-2",children:b.lastCheck.details.map((C,a)=>J.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-slate-800 border border-slate-700/50",children:[J.jsx("div",{className:`mt-0.5 p-0.5 rounded-full ${C.passed?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500"}`,children:C.passed?J.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):J.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})}),J.jsxs("div",{className:"flex-1",children:[J.jsx("div",{className:"text-xs font-bold text-slate-200",children:C.name}),J.jsx("div",{className:"text-[10px] text-slate-500 leading-tight",children:C.message})]})]},a))})]}):J.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-slate-600 gap-2",children:[J.jsx(pa,{className:"w-8 h-8 opacity-20"}),J.jsx("p",{className:"text-xs italic",children:"No validation performed yet."})]})})]})]})]})})]}):J.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-slate-900",children:J.jsxs("div",{className:"max-w-md w-full p-8 bg-slate-800 rounded-2xl border border-red-500/20 shadow-2xl flex flex-col items-center text-center",children:[J.jsx(Rg,{className:"w-16 h-16 text-red-500 mb-6"}),J.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Docker Daemon Unavailable"}),J.jsx("p",{className:"text-slate-400 mb-8 leading-relaxed",children:"We couldn't connect to the Docker engine. Please ensure Docker is running and your current user has permissions to access the Docker socket."}),J.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors w-full",children:"Retry Connection"})]})})]})},ya=({active:w,onClick:_,icon:y,label:m})=>J.jsxs("button",{onClick:_,"aria-pressed":w,className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium transition-all group ${w?"bg-red-600/20 text-red-400 border border-red-500/20 shadow-sm":"text-slate-500 hover:text-slate-300 hover:bg-slate-700/50 border border-transparent"}`,children:[J.jsx("div",{className:`transition-transform duration-200 ${w?"scale-110":"group-hover:scale-110"}`,children:y}),J.jsx("span",{className:"hidden sm:inline",children:m})]}),Ad=({group:w,count:_})=>J.jsxs("div",{className:"px-3 py-2 mt-4 mb-1 flex items-center justify-between",children:[J.jsx("span",{className:"text-[10px] font-black tracking-widest text-slate-600 uppercase",children:w}),J.jsx("span",{className:"w-4 h-4 flex items-center justify-center bg-slate-800 text-[9px] font-bold text-slate-500 rounded-full",children:_})]}),Dd=({task:w,active:_,onClick:y})=>J.jsxs("button",{onClick:y,className:`w-full text-left p-3 rounded-lg flex items-center gap-3 transition-all ${_?"bg-red-600/10 border border-red-500/30 text-red-100 shadow-md shadow-red-600/5":"hover:bg-slate-800/50 border border-transparent text-slate-400 hover:text-slate-300"}`,children:[J.jsx("div",{className:`flex-shrink-0 w-7 h-7 flex items-center justify-center rounded-md font-mono text-[10px] font-bold ${_?"bg-red-600 text-white":"bg-slate-800 text-slate-500"}`,children:w.id<10?`0${w.id}`:w.id}),J.jsxs("div",{className:"flex-1 min-w-0",children:[J.jsx("div",{className:"text-sm font-semibold truncate leading-tight",children:w.title}),J.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[J.jsx(Tp,{status:w.status}),w.lastCheck&&J.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w.lastCheck.status==="PASS"?"bg-green-500":"bg-red-500"}`})]})]})]}),Tp=({status:w})=>{const _={[Xe.IDLE]:"text-slate-600",[Xe.RUNNING]:"text-green-500",[Xe.STOPPED]:"text-amber-500",[Xe.STARTING]:"text-red-400 animate-pulse"};return J.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${_[w]}`,children:w})},Zo=({label:w,icon:_,onClick:y,disabled:m,variant:Y})=>{const te={green:"bg-green-600 hover:bg-green-700",red:"bg-red-600 hover:bg-red-700",blue:"bg-slate-700 hover:bg-slate-600"};return J.jsxs("button",{onClick:y,disabled:m,className:`px-3 py-1.5 rounded-lg flex items-center gap-2 text-xs font-bold transition-all disabled:opacity-30 disabled:cursor-not-allowed ${te[Y]} text-white shadow-sm`,children:[_,w]})},Gd=document.getElementById("root");if(!Gd)throw new Error("Could not find root element to mount to");const Rp=pg.createRoot(Gd);Rp.render(J.jsx(cg.StrictMode,{children:J.jsx(Dp,{})}));
